/*! For license information please see main.40a73b4e.js.LICENSE.txt */
(()=>{var e={773:(e,t)=>{"use strict";t.iE=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let d=0;d<32;d++){const e=n.charAt(d);r[e]=d}function a(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=a(t)^r>>5}t=a(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=a(t)^31&r}return t}function s(e,t,n,r){let a=0,o=0;const s=(1<<n)-1,i=[];for(let l=0;l<e.length;++l)for(a=a<<t|e[l],o+=t;o>=n;)o-=n,i.push(a>>o&s);if(r)o>0&&i.push(a<<n-o&s);else{if(o>=t)return"Excess padding";if(a<<n-o&s)return"Non-zero padding"}return i}function i(e){return s(e,8,5,!0)}function l(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function u(e){let t;function s(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const s=e.toLowerCase(),i=e.toUpperCase();if(e!==s&&e!==i)return"Mixed-case string "+e;const l=(e=s).lastIndexOf("1");if(-1===l)return"No separator character for "+e;if(0===l)return"Missing prefix for "+e;const c=e.slice(0,l),u=e.slice(l+1);if(u.length<6)return"Data too short";let d=o(c);if("string"===typeof d)return d;const f=[];for(let t=0;t<u.length;++t){const e=u.charAt(t),n=r[e];if(void 0===n)return"Unknown character "+e;d=a(d)^n,t+6>=u.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:c,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=s(e,t);if("object"===typeof n)return n},decode:function(e,t){const n=s(e,t);if("object"===typeof n)return n;throw new Error(n)},encode:function(e,r,s){if(s=s||90,e.length+7+r.length>s)throw new TypeError("Exceeds length limit");let i=o(e=e.toLowerCase());if("string"===typeof i)throw new Error(i);let l=e+"1";for(let t=0;t<r.length;++t){const e=r[t];if(e>>5!==0)throw new Error("Non 5-bit word");i=a(i)^e,l+=n.charAt(e)}for(let t=0;t<6;++t)i=a(i);i^=t;for(let t=0;t<6;++t){l+=n.charAt(i>>5*(5-t)&31)}return l},toWords:i,fromWordsUnsafe:l,fromWords:c}}u("bech32"),t.iE=u("bech32m")},463:(e,t,n)=>{"use strict";var r=n(791),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(h,e)&&(f.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var z,L=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function K(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case E:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Ne=null;function Ee(e){if(e=ya(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Se(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ce(){if(je){var e=je,t=Ne;if(Ne=je=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function _e(e,t){return e(t)}function Te(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==je||null!==Ne)&&(Te(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Oe=!1}function Me(e,t,n,r,a,o,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ze=!1,Le=null,De=!1,Be=null,Fe={onError:function(e){ze=!0,Le=e}};function Ke(e,t,n,r,a,o,s,i,l){ze=!1,Le=null,Me.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return He(a),e;if(s===r)return He(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=dt(i):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~a)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,jt,Nt,Et,St=!1,Ct=[],_t=null,Tt=null,Pt=null,Rt=new Map,It=new Map,Ot=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function zt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ba(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){Dt(e)&&n.delete(t)}function Ft(){St=!1,null!==_t&&Dt(_t)&&(_t=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==Pt&&Dt(Pt)&&(Pt=null),Rt.forEach(Bt),It.forEach(Bt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Kt(t,e)}if(0<Ct.length){Kt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Kt(_t,e),null!==Tt&&Kt(Tt,e),null!==Pt&&Kt(Pt,e),Rt.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var a=yt,o=Wt.transition;Wt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=a,Wt.transition=o}}function Vt(e,t,n,r){var a=yt,o=Wt.transition;Wt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=a,Wt.transition=o}}function Gt(e,t,n,r){if(Ht){var a=$t(e,t,n,r);if(null===a)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=zt(_t,e,t,n,r,a),!0;case"dragenter":return Tt=zt(Tt,e,t,n,r,a),!0;case"mouseover":return Pt=zt(Pt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Rt.set(o,zt(Rt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,It.set(o,zt(It.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==a;){var o=ya(a);if(null!==o&&xt(o),null===(o=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=ba(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=an(hn),pn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),wn=an(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function En(){return Nn}var Sn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),_n=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Rn),On=[9,13,27,32],An=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var zn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!An||Mn&&8<Mn&&11>=Mn),Dn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Qn(e){Dr(e,0)}function $n(e){if(G(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];qn(t,Gn,e,xe(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},jr={},Nr={};function Er(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return jr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Er("animationend"),Cr=Er("animationiteration"),_r=Er("animationstart"),Tr=Er("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Ar=Rr[Or];Ir(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Ir(Sr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(_r,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,c){if(Ke.apply(this,arguments),ze){if(!ze)throw Error(o(198));var u=Le;ze=!1,Le=null,De||(De=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,c),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,c),o=l}}}if(De)throw e=Be,De=!1,Be=null,e}function Br(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Kr]){e[Kr]=!0,s.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var a=qt;break;case 4:a=Vt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=ba(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}Re((function(){var r=o,a=xe(n),s=[];e:{var i=Pr.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Sr:case Cr:case _r:l=vn;break;case Tr:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==i?i+"Capture":null:i;u=[];for(var h,m=r;null!==m;){var p=(h=m).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==f&&(null!=(p=Ie(m,f))&&u.push(qr(m,p,h)))),d)break;m=m.return}0<u.length&&(i=new l(i,c,null,n,a),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==l?i:wa(l),h=null==c?i:wa(c),(i=new u(p,m+"leave",l,n,a)).target=d,i.relatedTarget=h,p=null,ba(a)===r&&((u=new u(f,m+"enter",c,n,a)).target=h,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(f=c,m=0,h=u=l;h;h=Gr(h))m++;for(h=0,p=f;p;p=Gr(p))h++;for(;0<m-h;)u=Gr(u),m--;for(;0<h-m;)f=Gr(f),h--;for(;m--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==l&&Qr(s,i,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Yn;else if(Hn(i))if(Jn)g=sr;else{g=ar;var v=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,a):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?wa(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(s,n,a)}var b;if(An)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Fn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,Un=!0)),0<(v=Vr(r,y)).length&&(y=new wn(y,e,null,n,a),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=Kn(n))&&(y.data=b))),(b=zn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Zt=Xt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=b))}Dr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ie(e,n))&&r.unshift(qr(e,o,a)),null!=(o=Ie(e,t))&&r.push(qr(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Ie(n,o))&&s.unshift(qr(n,l,i)):a||null!=(l=Ie(n,o))&&s.push(qr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,ma="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xa(e){return e[ha]||null}var ka=[],ja=-1;function Na(e){return{current:e}}function Ea(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Sa(e,t){ja++,ka[ja]=e.current,e.current=t}var Ca={},_a=Na(Ca),Ta=Na(!1),Pa=Ca;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ea(Ta),Ea(_a)}function Aa(e,t,n){if(_a.current!==Ca)throw Error(o(168));Sa(_a,t),Sa(Ta,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return L({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Pa=_a.current,Sa(_a,e),Sa(Ta,Ta.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(_a),Sa(_a,e)):Ea(Ta),Sa(Ta,n)}var Da=null,Ba=!1,Fa=!1;function Ka(e){null===Da?Da=[e]:Da.push(e)}function Ua(){if(!Fa&&null!==Da){Fa=!0;var e=0,t=yt;try{var n=Da;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Da=null,Ba=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),Ge(Ze,Ua),a}finally{yt=t,Fa=!1}}return null}var Wa=[],Ha=0,qa=null,Va=0,Ga=[],Qa=0,$a=null,Ya=1,Ja="";function Xa(e,t){Wa[Ha++]=Va,Wa[Ha++]=qa,qa=e,Va=t}function Za(e,t,n){Ga[Qa++]=Ya,Ga[Qa++]=Ja,Ga[Qa++]=$a,$a=e;var r=Ya;e=Ja;var a=32-st(r)-1;r&=~(1<<a),n+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ya=1<<32-st(t)+a|n<<a|r,Ja=o+e}else Ya=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===qa;)qa=Wa[--Ha],Wa[Ha]=null,Va=Wa[--Ha],Wa[Ha]=null;for(;e===$a;)$a=Ga[--Qa],Ga[Qa]=null,Ja=Ga[--Qa],Ga[Qa]=null,Ya=Ga[--Qa],Ga[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function so(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ya,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&io(e,t)?so(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ca(e.nextSibling)}function mo(){ro=no=null,ao=!1}function po(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=Na(null),yo=null,wo=null,xo=null;function ko(){xo=wo=yo=null}function jo(e){var t=bo.current;Ea(bo),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){yo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wi=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===yo)throw Error(o(308));wo=e,yo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Co=null;function _o(e){null===Co?Co=[e]:Co.push(e)}function To(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,_o(t)):(n.next=a.next,a.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Po(e,n)}return null===(a=r.interleaved)?(t.next=t,_o(r)):(t.next=a.next,a.next=t),r.interleaved=t,Po(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,u=c=l=null,i=o;;){var f=i.lane,h=i.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,p=i;switch(f=t,h=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=p.payload)?m.call(h,d,f):m)||void 0===f)break e;d=L({},d,f);break e;case 2:Ro=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[i]:f.push(i))}else h={eventTime:h,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=f;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Fo=(new r.Component).refs;function Ko(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=Ao(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,a))&&(rc(t,e,a,r),zo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=Ao(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,a))&&(rc(t,e,a,r),zo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Ao(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Mo(e,a,r))&&(rc(t,e,r,n),zo(t,e,r))}};function Wo(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function Ho(e,t,n){var r=!1,a=Ca,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(a=Ia(t)?Pa:_a.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Ca),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Fo,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=So(o):(o=Ia(t)?Pa:_a.current,a.context=Ra(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ko(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Uo.enqueueReplaceState(a,a.state,null),Do(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;t===Fo&&(t=a.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&$o(o)===t.type)?((r=a(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=zc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case k:return(t=Bc(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=zc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case I:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);Qo(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);Qo(t,r)}return null}function p(a,o,i,l){for(var c=null,u=null,d=o,p=o=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=h(a,d,i[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=s(v,o,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===i.length)return n(a,d),ao&&Xa(a,p),c;if(null===d){for(;p<i.length;p++)null!==(d=f(a,i[p],l))&&(o=s(d,o,p),null===u?c=d:u.sibling=d,u=d);return ao&&Xa(a,p),c}for(d=r(a,d);p<i.length;p++)null!==(g=m(d,a,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Xa(a,p),c}function g(a,i,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,p=i,g=i=0,v=null,b=l.next();null!==p&&!b.done;g++,b=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var y=h(a,p,b.value,c);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(a,p),i=s(y,i,g),null===d?u=y:d.sibling=y,d=y,p=v}if(b.done)return n(a,p),ao&&Xa(a,g),u;if(null===p){for(;!b.done;g++,b=l.next())null!==(b=f(a,b.value,c))&&(i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return ao&&Xa(a,g),u}for(p=r(a,p);!b.done;g++,b=l.next())null!==(b=m(p,a,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return e&&p.forEach((function(e){return t(a,e)})),ao&&Xa(a,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===j){if(7===u.tag){n(r,u.sibling),(o=a(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&$o(c)===u.type){n(r,u.sibling),(o=a(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===j?((o=zc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return i(r);case k:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(s,r.mode,l)).return=r,r=o}return i(r);case I:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return p(r,o,s,l);if(M(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var Jo=Yo(!0),Xo=Yo(!1),Zo={},es=Na(Zo),ts=Na(Zo),ns=Na(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function as(e,t){switch(Sa(ns,t),Sa(ts,e),Sa(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(es),Sa(es,t)}function os(){Ea(es),Ea(ts),Ea(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Sa(ts,e),Sa(es,n))}function is(e){ts.current===e&&(Ea(es),Ea(ts))}var ls=Na(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var fs=w.ReactCurrentDispatcher,hs=w.ReactCurrentBatchConfig,ms=0,ps=null,gs=null,vs=null,bs=!1,ys=!1,ws=0,xs=0;function ks(){throw Error(o(321))}function js(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Ns(e,t,n,r,a,s){if(ms=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?ii:li,e=n(r,a),ys){s=0;do{if(ys=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,fs.current=ci,e=n(r,a)}while(ys)}if(fs.current=si,t=null!==gs&&null!==gs.next,ms=0,vs=gs=ps=null,bs=!1,t)throw Error(o(300));return e}function Es(){var e=0!==ws;return ws=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ps.memoizedState=vs=e:vs=vs.next=e,vs}function Cs(){if(null===gs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ps.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ps.memoizedState=vs=e:vs=vs.next=e}return vs}function _s(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ms&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,i=r):c=c.next=f,ps.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(wi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ps.lanes|=s,Ll|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);ir(s,t.memoizedState)||(wi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Rs(){}function Is(e,t){var n=ps,r=Cs(),a=t(),s=!ir(r.memoizedState,a);if(s&&(r.memoizedState=a,wi=!0),r=r.queue,Hs(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Bs(9,As.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ms)||Os(n,t,a)}return a}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,zs(t)&&Ls(e)}function Ms(e,t,n){return n((function(){zs(t)&&Ls(e)}))}function zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ls(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function Ds(e){var t=Ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,ps,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return Cs().memoizedState}function Ks(e,t,n,r){var a=Ss();ps.flags|=e,a.memoizedState=Bs(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var a=Cs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&js(r,s.deps))return void(a.memoizedState=Bs(t,n,o,r))}ps.flags|=e,a.memoizedState=Bs(1|t,n,o,r)}function Ws(e,t){return Ks(8390656,8,e,t)}function Hs(e,t){return Us(2048,8,e,t)}function qs(e,t){return Us(4,2,e,t)}function Vs(e,t){return Us(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Gs.bind(null,t,e),n)}function $s(){}function Ys(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&js(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ms)?(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),ps.lanes|=n,Ll|=n,e.baseState=!0),t)}function Zs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=hs.transition;hs.transition={};try{e(!1),t()}finally{yt=n,hs.transition=r}}function ei(){return Cs().memoizedState}function ti(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))ai(t,n);else if(null!==(n=To(e,t,n,r))){rc(n,e,r,tc()),oi(n,t,r)}}function ni(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ai(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(a.next=a,_o(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=To(e,t,a,r))&&(rc(n,e,r,a=tc()),oi(n,t,r))}}function ri(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ai(e,t){ys=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var si={readContext:So,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},ii={readContext:So,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ks(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:Ds,useDebugValue:$s,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=Zs.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,a=Ss();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ms)||Os(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ws(Ms.bind(null,r,s,e),[e]),r.flags|=2048,Bs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Pl.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Ya&~(1<<32-st(Ya)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},li={readContext:So,useCallback:Ys,useContext:So,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Vs,useMemo:Js,useReducer:Ts,useRef:Fs,useState:function(){return Ts(_s)},useDebugValue:$s,useDeferredValue:function(e){return Xs(Cs(),gs.memoizedState,e)},useTransition:function(){return[Ts(_s)[0],Cs().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Is,useId:ei,unstable_isNewReconciler:!1},ci={readContext:So,useCallback:Ys,useContext:So,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Vs,useMemo:Js,useReducer:Ps,useRef:Fs,useState:function(){return Ps(_s)},useDebugValue:$s,useDeferredValue:function(e){var t=Cs();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[Ps(_s)[0],Cs().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Is,useId:ei,unstable_isNewReconciler:!1};function ui(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),fi(0,t)},n}function pi(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fi(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=w.ReactCurrentOwner,wi=!1;function xi(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function ki(e,t,n,r,a){n=n.render;var o=t.ref;return Eo(t,a),r=Ns(e,t,n,r,o,a),n=Es(),null===e||wi?(ao&&n&&eo(t),t.flags|=1,xi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function ji(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ni(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qi(e,t,a)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,qi(e,t,a);0!==(131072&e.flags)&&(wi=!0)}}return Ci(e,t,n,r,a)}function Ei(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Al,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Al,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Sa(Al,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sa(Al,Ol),Ol|=r;return xi(e,t,a,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,a){var o=Ia(n)?Pa:_a.current;return o=Ra(t,o),Eo(t,a),n=Ns(e,t,n,r,o,a),r=Es(),null===e||wi?(ao&&r&&eo(t),t.flags|=1,xi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function _i(e,t,n,r,a){if(Ia(n)){var o=!0;za(t)}else o=!1;if(Eo(t,a),null===t.stateNode)Hi(e,t),Ho(t,n,r),Vo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=So(c):c=Ra(t,c=Ia(n)?Pa:_a.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&qo(t,s,r,c),Ro=!1;var f=t.memoizedState;s.state=f,Do(t,r,s,a),l=t.memoizedState,i!==r||f!==l||Ta.current||Ro?("function"===typeof u&&(Ko(t,n,u,r),l=t.memoizedState),(i=Ro||Wo(t,n,i,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:vo(t.type,i),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=So(l):l=Ra(t,l=Ia(n)?Pa:_a.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||f!==l)&&qo(t,s,r,l),Ro=!1,f=t.memoizedState,s.state=f,Do(t,r,s,a);var m=t.memoizedState;i!==d||f!==m||Ta.current||Ro?("function"===typeof h&&(Ko(t,n,h,r),m=t.memoizedState),(c=Ro||Wo(t,n,c,r,f,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,o,a)}function Ti(e,t,n,r,a,o){Si(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&La(t,n,!1),qi(e,t,o);r=t.stateNode,yi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,i,o)):xi(e,t,i,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Aa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Aa(0,t.context,!1),as(e,t.containerInfo)}function Ri(e,t,n,r,a){return mo(),po(a),t.flags|=256,xi(e,t,n,r),t.child}var Ii,Oi,Ai,Mi,zi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,n){var r,a=t.pendingProps,s=ls.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sa(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,a,0,null),e=zc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=zi,e):Bi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,r=di(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(s=zc(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=zi,s);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fi(e,t,i,r=di(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),wi||l){if(null!==(r=Pl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Po(e,a),rc(r,e,a,-1))}return gc(),Fi(e,t,i,r=di(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[Qa++]=Ya,Ga[Qa++]=Ja,Ga[Qa++]=$a,Ya=e.id,Ja=e.overflow,$a=t),t=Bi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Ac(r,i):(i=zc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=zi,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,n,r){return null!==r&&po(r),Jo(t,e.child,null,n),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ki(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Ui(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(xi(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ki(e,n,t);else if(19===e.tag)Ki(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,o);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vi(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Ia(t.type)&&Oa(),Gi(t),null;case 3:return r=t.stateNode,os(),Ea(Ta),Ea(_a),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Oi(e,t),Gi(t),null;case 5:is(t);var a=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ai(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gi(t),null}if(e=rs(es.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ae(r,s),Br("invalid",r)}for(var l in be(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":V(r),Z(r,s,!0);break;case"textarea":V(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Y(e,r),a=$(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(s in be(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Br("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Mi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Gi(t),null;case 13:if(Ea(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),mo(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fa]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),s=!1}else null!==oo&&(ic(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return os(),Oi(e,t),null===e&&Ur(t.stateNode.containerInfo),Gi(t),null;case 10:return jo(t.type._context),Gi(t),null;case 19:if(Ea(ls),null===(s=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vi(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Vi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Wl&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return Gi(t),null}else 2*Je()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,Sa(ls,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $i(e,t){switch(to(t),t.tag){case 1:return Ia(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ea(Ta),Ea(_a),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return is(t),null;case 13:if(Ea(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(ls),null;case 4:return os(),null;case 10:return jo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},Ai=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Mi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yi=!1,Ji=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[pa],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ji||el(n,t);case 6:var r=dl,a=fl;dl=null,hl(e,t,n),fl=a,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(dl,n.stateNode));break;case 4:r=dl,a=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Ji&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ec(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,hl(e,t,n),Ji=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));ml(s,i,a),dl=null,fl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Ec(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),bl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),ye(l,i);var u=ye(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):y(a,d,f,u)}switch(l){case"input":X(a,s);break;case"textarea":oe(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(a,!!s.multiple,m,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),bl(e);break;case 13:gl(t,e),bl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(u=Ji)||d,gl(t,e),Ji=u):gl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zi=e,d=e.child;null!==d;){for(f=Zi=d;null!==Zi;){switch(m=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){kl(f);continue}}null!==m?(m.return=h,Zi=m):kl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,i=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(g){Ec(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),bl(e),4&r&&pl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(i){Ec(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zi=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var a=Zi,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Yi;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Yi;var c=Ji;if(Yi=s,(Ji=l)&&!c)for(Zi=a;null!==Zi;)l=(s=Zi).child,22===s.tag&&null!==s.memoizedState?jl(a):null!==l?(l.return=s,Zi=l):jl(a);for(;null!==o;)Zi=o,wl(o,t,n),o=o.sibling;Zi=a,Yi=i,Ji=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Zi=o):xl(e)}}function xl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bo(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(o(163))}Ji||512&t.flags&&ol(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function kl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function jl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Ec(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Ec(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var Nl,El=Math.ceil,Sl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Tl=0,Pl=null,Rl=null,Il=0,Ol=0,Al=Na(0),Ml=0,zl=null,Ll=0,Dl=0,Bl=0,Fl=null,Kl=null,Ul=0,Wl=1/0,Hl=null,ql=!1,Vl=null,Gl=null,Ql=!1,$l=null,Yl=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Tl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==go.transition?(0===ec&&(ec=pt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Dl|=n),4===Ml&&lc(e,Il)),ac(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Wl=Je()+500,Ba&&Ua()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=ht(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=ft(e,e===Pl?Il:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ba=!0,Ka(e)}(cc.bind(null,e)):Ka(cc.bind(null,e)),sa((function(){0===(6&Tl)&&Ua()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ft(e,e===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Tl;Tl|=2;var s=pc();for(Pl===e&&Il===t||(Hl=null,Wl=Je()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}ko(),Sl.current=s,Tl=a,null!==Rl?t=0:(Pl=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t)throw n=zl,hc(e,0),lc(e,r),ac(e,Je()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(s=mt(e))&&(r=s,t=sc(e,s))),1===t))throw n=zl,hc(e,0),lc(e,r),ac(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Kl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(kc.bind(null,e,Kl,Hl),t);break}kc(e,Kl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(kc.bind(null,e,Kl,Hl),r);break}kc(e,Kl,Hl);break;default:throw Error(o(329))}}}return ac(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Kl,Kl=n,null!==t&&ic(t)),e}function ic(e){null===Kl?Kl=e:Kl.push.apply(Kl,e)}function lc(e,t){for(t&=~Bl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(o(327));jc();var t=ft(e,0);if(0===(1&t))return ac(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=zl,hc(e,0),lc(e,t),ac(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Kl,Hl),ac(e,Je()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Wl=Je()+500,Ba&&Ua())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Tl)&&jc();var t=Tl;Tl|=1;var n=_l.transition,r=yt;try{if(_l.transition=null,yt=1,e)return e()}finally{yt=r,_l.transition=n,0===(6&(Tl=t))&&Ua()}}function fc(){Ol=Al.current,Ea(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:os(),Ea(Ta),Ea(_a),ds();break;case 5:is(r);break;case 4:os();break;case 13:case 19:Ea(ls);break;case 10:jo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pl=e,Rl=e=Ac(e.current,null),Il=Ol=t,Ml=0,zl=null,Bl=Dl=Ll=0,Kl=Fl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}Co=null}return e}function mc(e,t){for(;;){var n=Rl;try{if(ko(),fs.current=si,bs){for(var r=ps.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}bs=!1}if(ms=0,vs=gs=ps=null,ys=!1,ws=0,Cl.current=null,null===n||null===n.return){Ml=1,zl=t,Rl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vi(i);if(null!==m){m.flags&=-257,bi(m,i,l,0,t),1&m.mode&&gi(s,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){gi(s,u,t),gc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var v=vi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bi(v,i,l,0,t),po(ui(c,l));break e}}s=c=ui(c,l),4!==Ml&&(Ml=2),null===Fl?Fl=[s]:Fl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,mi(0,c,t));break e;case 1:l=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,pi(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=si,null===e?si:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Dl)||lc(Pl,Il)}function vc(e,t){var n=Tl;Tl|=2;var r=pc();for(Pl===e&&Il===t||(Hl=null,hc(e,t));;)try{bc();break}catch(a){mc(e,a)}if(ko(),Tl=n,Sl.current=r,null!==Rl)throw Error(o(261));return Pl=null,Il=0,Ml}function bc(){for(;null!==Rl;)wc(Rl)}function yc(){for(;null!==Rl&&!$e();)wc(Rl)}function wc(e){var t=Nl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Rl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=$i(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ml=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ml&&(Ml=5)}function kc(e,t,n){var r=yt,a=_l.transition;try{_l.transition=null,yt=1,function(e,t,n,r){do{jc()}while(null!==$l);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===Pl&&(Rl=Pl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Pc(tt,(function(){return jc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=_l.transition,_l.transition=null;var i=yt;yt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ea=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||0!==a&&3!==f.nodeType||(l=i+a),f!==s||0!==r&&3!==f.nodeType||(c=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(m=f.firstChild);)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=i),h===s&&++d===r&&(c=i),null!==(m=f.nextSibling))break;h=(f=h).parentNode}f=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}p=nl,nl=!1}(e,n),vl(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ye(),Tl=l,yt=i,_l.transition=s}else e.current=n;if(Ql&&(Ql=!1,$l=e,Yl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Ua()}(e,t,n,r)}finally{_l.transition=a,yt=r}return null}function jc(){if(null!==$l){var e=wt(Yl),t=_l.transition,n=yt;try{if(_l.transition=null,yt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Tl))throw Error(o(331));var a=Tl;for(Tl|=4,Zi=e.current;null!==Zi;){var s=Zi,i=s.child;if(0!==(16&Zi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zi=u;null!==Zi;){var d=Zi;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Zi=f;else for(;null!==Zi;){var h=(d=Zi).sibling,m=d.return;if(sl(d),d===u){Zi=null;break}if(null!==h){h.return=m,Zi=h;break}Zi=m}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(s=Zi).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zi=b;break e}Zi=s.return}}var y=e.current;for(Zi=y;null!==Zi;){var w=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Zi=w;else e:for(i=y;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Ec(l,l.return,k)}if(l===i){Zi=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zi=x;break e}Zi=l.return}}if(Tl=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{yt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=Mo(e,t=mi(0,t=ui(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ac(e,t))}function Ec(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=pi(t,e=ui(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>Je()-Ul?hc(e,0):Bl|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ac(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Oc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return zc(n.children,a,s,t);case N:i=8,a|=8;break;case E:return(e=Ic(12,n,t,2|a)).elementType=E,e.lanes=s,e;case T:return(e=Ic(13,n,t,a)).elementType=T,e.lanes=s,e;case P:return(e=Ic(19,n,t,a)).elementType=P,e.lanes=s,e;case O:return Lc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case C:i=9;break e;case _:i=11;break e;case R:i=14;break e;case I:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function zc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,a,o,s,i,l){return e=new Fc(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Uc(e){if(!e)return Ca;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Ma(e,n,t)}return t}function Wc(e,t,n,r,a,o,s,i,l){return(e=Kc(n,r,!0,e,0,o,0,i,l)).context=Uc(null),n=e.current,(o=Ao(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,a),e.current.lanes=a,vt(e,a,r),ac(e,r),e}function Hc(e,t,n,r){var a=t.current,o=tc(),s=nc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(a,t,s))&&(rc(e,a,s,o),zo(e,a,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)wi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wi=!1,function(e,t,n){switch(t.tag){case 3:Pi(t),mo();break;case 5:ss(t);break;case 1:Ia(t.type)&&za(t);break;case 4:as(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(bo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Di(e,t,n):(Sa(ls,1&ls.current),null!==(e=qi(e,t,n))?e.sibling:null);Sa(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ei(e,t,n)}return qi(e,t,n)}(e,t,n);wi=0!==(131072&e.flags)}else wi=!1,ao&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var a=Ra(t,_a.current);Eo(t,n),a=Ns(null,t,r,e,a,n);var s=Es();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(s=!0,za(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Io(t),a.updater=Uo,t.stateNode=a,a._reactInternals=t,Vo(t,r,e,n),t=Ti(null,t,r,!0,s,n)):(t.tag=0,ao&&s&&eo(t),xi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===R)return 14}return 2}(r),e=vo(r,e),a){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=ki(null,t,r,e,n);break e;case 14:t=ji(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(Pi(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,Oo(e,t),Do(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ri(e,t,r,n,a=ui(Error(o(423)),t));break e}if(r!==a){t=Ri(e,t,r,n,a=ui(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=qi(e,t,n);break e}xi(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==s&&na(r,s)&&(t.flags|=32),Si(e,t),xi(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return Di(e,t,n);case 4:return as(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):xi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Sa(bo,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===a.children&&!Ta.current){t=qi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ao(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),No(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),No(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}xi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Eo(t,n),r=r(a=So(a)),t.flags|=1,xi(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),ji(e,t,r,a=vo(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),Hi(e,t),t.tag=1,Ia(r)?(e=!0,za(t)):e=!1,Eo(t,n),Ho(t,r,a),Vo(t,r,a,n),Ti(null,t,r,!0,e,n);case 19:return Wi(e,t,n);case 22:return Ei(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=qc(s);i.call(e)}}Hc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[ma]=s.current,Ur(8===e.nodeType?e.parentNode:e),dc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=qc(l);i.call(e)}}var l=Kc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ma]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,a,r);return qc(s)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ac(t,Je()),0===(6&Tl)&&(Wl=Je()+500,Ua()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},jt=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Nt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(o(90));G(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[ya,wa,xa,Se,Ce,uc]},nu={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(ru),ot=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Kc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Ur(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,s,i),e[ma]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,p(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!N.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+_(l,0):o,x(s)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(s,t,a,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+_(i=e[c],c);l+=T(i,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,a,u=o+_(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},A={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:j};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,O(k);else{var t=r(u);null!==t&&A(x,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,b(S),S=-1),m=!0;var o=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var i=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?f.callback=i:f===r(c)&&a(c),w(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&A(x,d.startTime-n),l=!1}return l}finally{f=null,h=o,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,E=null,S=-1,C=5,_=-1;function T(){return!(t.unstable_now()-_<C)}function P(){if(null!==E){var e=t.unstable_now();_=e;var n=!0;try{n=E(!0,e)}finally{n?j():(N=!1,E=null)}}else N=!1}if("function"===typeof y)j=function(){y(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,j=function(){I.postMessage(null)}}else j=function(){v(P,0)};function O(e){E=e,N||(N=!0,j())}function A(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,A(x,o-s))):(e.sortIndex=i,n(c,e),p||m||(p=!0,O(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},856:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(856),t=n.t(e,2);const r=BigInt(0),a=BigInt(1),o=BigInt(2),s=BigInt(3),i=BigInt(8),l=Object.freeze({a:r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),c=(e,t)=>(e+t/o)/t,u={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=l,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),u=c(s*e,t),d=c(-r*e,t);let f=D(e-u*n-d*o,t),h=D(-u*r-d*s,t);const m=f>i,p=h>i;if(m&&(f=t-f),p&&(h=t-h),f>i||h>i)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:m,k1:f,k2neg:p,k2:h}}},d=32,f=32,h=d+1,m=2*d+1;function p(e){const{a:t,b:n}=l,r=D(e*e),a=D(r*e);return D(a+t*e+n)}const g=l.a===r;class v extends Error{constructor(e){super(e)}}function b(e){if(!(e instanceof y))throw new TypeError("JacobianPoint expected")}class y{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof k))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(k.ZERO)?y.ZERO:new y(e.x,e.y,a)}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.P;const n=new Array(e.length),o=e.reduce(((e,a,o)=>a===r?e:(n[o]=e,D(e*a,t))),a),s=F(o,t);return e.reduceRight(((e,a,o)=>a===r?e:(n[o]=D(e*n[o],t),D(e*a,t))),s),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return y.toAffineBatch(e).map(y.fromAffine)}equals(e){b(e);const{x:t,y:n,z:r}=this,{x:a,y:o,z:s}=e,i=D(r*r),l=D(s*s),c=D(t*l),u=D(a*i),d=D(D(n*s)*l),f=D(D(o*r)*i);return c===u&&d===f}negate(){return new y(this.x,D(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=D(e*e),a=D(t*t),l=D(a*a),c=e+a,u=D(o*(D(c*c)-r-l)),d=D(s*r),f=D(d*d),h=D(f-o*u),m=D(d*(u-h)-i*l),p=D(o*t*n);return new y(h,m,p)}add(e){b(e);const{x:t,y:n,z:a}=this,{x:s,y:i,z:l}=e;if(s===r||i===r)return this;if(t===r||n===r)return e;const c=D(a*a),u=D(l*l),d=D(t*u),f=D(s*c),h=D(D(n*l)*u),m=D(D(i*a)*c),p=D(f-d),g=D(m-h);if(p===r)return g===r?this.double():y.ZERO;const v=D(p*p),w=D(p*v),x=D(d*v),k=D(g*g-w-o*x),j=D(g*(x-k)-h*w),N=D(a*l*p);return new y(k,j,N)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=y.ZERO;if("bigint"===typeof e&&e===r)return t;let n=L(e);if(n===a)return this;if(!g){let e=t,o=this;for(;n>r;)n&a&&(e=e.add(o)),o=o.double(),n>>=a;return e}let{k1neg:o,k1:s,k2neg:i,k2:l}=u.splitScalar(n),c=t,d=t,f=this;for(;s>r||l>r;)s&a&&(c=c.add(f)),l&a&&(d=d.add(f)),f=f.double(),s>>=a,l>>=a;return o&&(c=c.negate()),i&&(d=d.negate()),d=new y(D(d.x*u.beta),d.y,d.z),c.add(d)}precomputeWindow(e){const t=g?128/e+1:256/e+1,n=[];let r=this,a=r;for(let o=0;o<t;o++){a=r,n.push(a);for(let t=1;t<2**(e-1);t++)a=a.add(r),n.push(a);r=a.double()}return n}wNAF(e,t){!t&&this.equals(y.BASE)&&(t=k.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&x.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=y.normalizeZ(r),x.set(t,r)));let o=y.ZERO,s=y.BASE;const i=1+(g?128/n:256/n),l=2**(n-1),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<i;f++){const t=f*l;let n=Number(e&c);e>>=d,n>l&&(n-=u,e+=a);const i=t,h=t+Math.abs(n)-1,m=f%2!==0,p=n<0;0===n?s=s.add(w(m,r[i])):o=o.add(w(p,r[h]))}return{p:o,f:s}}multiply(e,t){let n,r,a=L(e);if(g){const{k1neg:e,k1:o,k2neg:s,k2:i}=u.splitScalar(a);let{p:l,f:c}=this.wNAF(o,t),{p:d,f:f}=this.wNAF(i,t);l=w(e,l),d=w(s,d),d=new y(D(d.x*u.beta),d.y,d.z),n=l.add(d),r=c.add(f)}else{const{p:e,f:o}=this.wNAF(a,t);n=e,r=o}return y.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,o=this.equals(y.ZERO);null==e&&(e=o?i:F(r));const s=e,l=D(s*s),c=D(l*s),u=D(t*l),d=D(n*c),f=D(r*s);if(o)return k.ZERO;if(f!==a)throw new Error("invZ was invalid");return new k(u,d)}}function w(e,t){const n=t.negate();return e?n:t}y.BASE=new y(l.Gx,l.Gy,a),y.ZERO=new y(r,a,r);const x=new WeakMap;class k{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,x.delete(this)}hasEvenY(){return this.y%o===r}static fromCompressedHex(e){const t=32===e.length,n=M(t?e:e.subarray(1));if(!q(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=l,n=BigInt(6),r=BigInt(11),a=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,h=B(f,s)*f%t,m=B(h,s)*f%t,p=B(m,o)*d%t,g=B(p,r)*p%t,v=B(g,a)*g%t,b=B(v,c)*v%t,y=B(b,u)*b%t,w=B(y,c)*v%t,x=B(w,s)*f%t,k=B(x,i)*g%t,j=B(k,n)*d%t,N=B(j,o),E=N*N%t;if(E!==e)throw new Error("Cannot find square root");return N}(p(n));const i=(r&a)===a;if(t)i&&(r=D(-r));else{1===(1&e[0])!==i&&(r=D(-r))}const c=new k(n,r);return c.assertValidity(),c}static fromUncompressedHex(e){const t=M(e.subarray(1,d+1)),n=M(e.subarray(d+1,2*d+1)),r=new k(t,n);return r.assertValidity(),r}static fromHex(e){const t=z(e),n=t.length,r=t[0];if(n===d)return this.fromCompressedHex(t);if(n===h&&(2===r||3===r))return this.fromCompressedHex(t);if(n===m&&4===r)return this.fromUncompressedHex(t);throw new Error("Point.fromHex: received invalid point. Expected 32-".concat(h," compressed bytes or ").concat(m," uncompressed bytes, not ").concat(n))}static fromPrivateKey(e){return k.BASE.multiply(V(e))}static fromSignature(e,t,n){const{r:r,s:a}=Q(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=K(z(e)),{n:s}=l,i=2===n||3===n?r+s:r,c=F(i,s),u=D(-o*c,s),d=D(a*c,s),f=1&n?"03":"02",h=k.fromHex(f+P(i)),m=k.BASE.multiplyAndAddUnsafe(h,u,d);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return A(this.toHex(e))}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=P(this.x);if(e){const e=this.hasEvenY()?"02":"03";return"".concat(e).concat(t)}return"04".concat(t).concat(P(this.y))}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!q(t)||!q(n))throw new Error(e);const a=D(n*n);if(D(a-p(t))!==r)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new k(this.x,D(-this.y))}double(){return y.fromAffine(this).double().toAffine()}add(e){return y.fromAffine(this).add(y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return y.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const o=y.fromAffine(this),s=t===r||t===a||this!==k.BASE?o.multiplyUnsafe(t):o.multiply(t),i=y.fromAffine(e).multiplyUnsafe(n),l=s.add(i);return l.equals(y.ZERO)?void 0:l.toAffine()}}function j(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function N(e){if(e.length<2||2!==e[0])throw new Error("Invalid signature integer tag: ".concat(_(e)));const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:M(n),left:e.subarray(t+2)}}k.BASE=new k(l.Gx,l.Gy),k.ZERO=new k(r,r);class E{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!==typeof e&&!t)throw new TypeError("".concat(n,": Expected string or Uint8Array"));const r=t?_(e):e;if(128!==r.length)throw new Error("".concat(n,": Expected 64-byte hex"));return new E(O(r.slice(0,64)),O(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!==typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error("Invalid signature tag: ".concat(_(e)));if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=N(e.subarray(2)),{data:r,left:a}=N(n);if(a.length)throw new Error("Invalid signature: left bytes after parsing: ".concat(_(a)));return{r:t,s:r}}(t?e:A(e));return new E(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!H(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!H(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=l.n>>a;return this.s>e}normalizeS(){return this.hasHighS()?new E(this.r,D(-this.s,l.n)):this}toDERRawBytes(){return A(this.toDERHex())}toDERHex(){const e=j(I(this.s)),t=j(I(this.r)),n=e.length/2,r=t.length/2,a=I(n),o=I(r),s=I(r+n+4);return"30".concat(s,"02").concat(o).concat(t,"02").concat(a).concat(e)}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return A(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const r=t.reduce(((e,t)=>e+t.length),0),a=new Uint8Array(r);for(let o=0,s=0;o<t.length;o++){const e=t[o];a.set(e,s),s+=e.length}return a}const C=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function _(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=C[e[n]];return t}const T=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function P(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(r<=e&&e<T))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function R(e){const t=A(P(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function I(e){const t=e.toString(16);return 1&t.length?"0".concat(t):t}function O(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x".concat(e))}function A(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,a=e.slice(r,r+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function M(e){return O(_(e))}function z(e){return e instanceof Uint8Array?Uint8Array.from(e):A(e)}function L(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&H(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.P;const n=e%t;return n>=r?n:t+n}function B(e,t){const{P:n}=l;let a=e;for(;t-- >r;)a*=a,a%=n;return a}function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.P;if(e===r||t<=r)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=D(e,t),o=t,s=r,i=a,c=a,u=r;for(;n!==r;){const e=o/n,t=o%n,r=s-c*e,a=i-u*e;o=n,n=t,s=c,i=u,c=r,u=a}if(o!==a)throw new Error("invert: does not exist");return D(s,t)}function K(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){const t=8*e.length-8*f,n=M(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=l;return n>=r?n-r:n}let U,W;function H(e){return r<e&&e<l.n}function q(e){return r<e&&e<l.P}function V(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(e.length!==2*f)throw new Error("Expected 32 bytes of private key");t=O(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==f)throw new Error("Expected 32 bytes of private key");t=M(e)}if(!H(t))throw new Error("Expected private key: 0 < key < n");return t}function G(e){return e instanceof k?(e.assertValidity(),e):k.fromHex(e)}function Q(e){if(e instanceof E)return e.assertValidity(),e;try{return E.fromDER(e)}catch(t){return E.fromCompact(e)}}function $(e){return D(M(e),l.n)}class Y{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=z(e);if(64!==t.length)throw new TypeError("SchnorrSignature.fromHex: expected 64 bytes, not ".concat(t.length));const n=M(t.subarray(0,32)),r=M(t.subarray(32,64));return new Y(n,r)}assertValidity(){const{r:e,s:t}=this;if(!q(e)||!H(t))throw new Error("Invalid signature")}toHex(){return P(this.r)+P(this.s)}toRawBytes(){return A(this.toHex())}}class J{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.randomBytes();if(null==e)throw new TypeError('sign: Expected valid message, not "'.concat(e,'"'));this.m=z(e);const{x:r,scalar:a}=this.getScalar(V(t));if(this.px=r,this.d=a,this.rand=z(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=k.fromPrivateKey(e),n=t.hasEvenY()?e:l.n-e;return{point:t,scalar:n,x:t.toRawX()}}initNonce(e,t){return R(e^M(t))}finalizeNonce(e){const t=D(M(e),l.n);if(t===r)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:a,scalar:o}=this.getScalar(t);return{R:n,rx:a,k:o}}finalizeSig(e,t,n,r){return new Y(e.x,D(t+n*r,l.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:t,px:n,rand:r}=this,a=se.taggedHash,o=this.initNonce(t,await a(ae.aux,r)),{R:s,rx:i,k:l}=this.finalizeNonce(await a(ae.nonce,o,n,e)),c=$(await a(ae.challenge,i,n,e)),u=this.finalizeSig(s,l,c,t);return await ee(u,e,n)||this.error(),u}calcSync(){const{m:e,d:t,px:n,rand:r}=this,a=se.taggedHashSync,o=this.initNonce(t,a(ae.aux,r)),{R:s,rx:i,k:l}=this.finalizeNonce(a(ae.nonce,o,n,e)),c=$(a(ae.challenge,i,n,e)),u=this.finalizeSig(s,l,c,t);return te(u,e,n)||this.error(),u}}function X(e,t,n){const r=e instanceof Y,a=r?e:Y.fromHex(e);return r&&a.assertValidity(),{...a,m:z(t),P:G(n)}}function Z(e,t,n,r){const a=k.BASE.multiplyAndAddUnsafe(t,V(n),D(-r,l.n));return!(!a||!a.hasEvenY()||a.x!==e)}async function ee(e,t,n){try{const{r:r,s:a,m:o,P:s}=X(e,t,n),i=$(await se.taggedHash(ae.challenge,R(r),s.toRawX(),o));return Z(r,s,a,i)}catch(r){return!1}}function te(e,t,n){try{const{r:r,s:a,m:o,P:s}=X(e,t,n),i=$(se.taggedHashSync(ae.challenge,R(r),s.toRawX(),o));return Z(r,s,a,i)}catch(r){if(r instanceof v)throw r;return!1}}const ne={Signature:Y,getPublicKey:function(e){return k.fromPrivateKey(e).toRawX()},sign:async function(e,t,n){return new J(e,t,n).calc()},verify:ee,signSync:function(e,t,n){return new J(e,t,n).calcSync()},verifySync:te};k.BASE._setWindowSize(8);const re={node:t,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},ae={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},oe={},se={bytesToHex:_,hexToBytes:A,concatBytes:S,mod:D,invert:F,isValidPrivateKey(e){try{return V(e),!0}catch(t){return!1}},_bigintTo32Bytes:R,_normalizePrivateKey:V,hashToPrivateKey:e=>{e=z(e);const t=f+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return R(D(M(e),l.n-a)+a)},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(re.web)return re.web.getRandomValues(new Uint8Array(e));if(re.node){const{randomBytes:t}=re.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>se.hashToPrivateKey(se.randomBytes(f+8)),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.BASE;const n=t===k.BASE?t:new k(t.x,t.y);return n._setWindowSize(e),n.multiply(s),n},sha256:async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(re.web){const e=await re.web.subtle.digest("SHA-256",S(...t));return new Uint8Array(e)}if(re.node){const{createHash:e}=re.node,n=e("sha256");return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(re.web){const t=await re.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=S(...n),a=await re.web.subtle.sign("HMAC",t,r);return new Uint8Array(a)}if(re.node){const{createHmac:t}=re.node,r=t("sha256",e);return n.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async function(e){let t=oe[e];if(void 0===t){const n=await se.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=S(n,n),oe[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return se.sha256(t,...r)},taggedHashSync:function(e){if("function"!==typeof U)throw new v("sha256Sync is undefined, you need to set it");let t=oe[e];if(void 0===t){const n=U(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=S(n,n),oe[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return U(t,...r)},_JacobianPoint:y};Object.defineProperties(se,{sha256Sync:{configurable:!1,get:()=>U,set(e){U||(U=e)}},hmacSha256Sync:{configurable:!1,get:()=>W,set(e){W||(W=e)}}});const ie={node:void 0,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},le=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ce=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const ue=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function de(e){let t="";for(let n=0;n<e.length;n++)t+=ue[e[n]];return t}function fe(e){if(2!==e.length)throw new Error("Invalid byte sequence");const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}(()=>{const e="undefined"!==typeof module&&"function"===typeof module.require&&module.require.bind(module);try{if(e){const{setImmediate:t}=e("timers");return()=>new Promise((e=>t(e)))}}catch(jn){}})();function he(e){if("string"!==typeof e)throw new TypeError("utf8ToBytes expected string, got ".concat(typeof e));return(new TextEncoder).encode(e)}function me(e){if("string"===typeof e&&(e=he(e)),!(e instanceof Uint8Array))throw new TypeError("Expected input type is Uint8Array (got ".concat(typeof e,")"));return e}function pe(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}class ge{clone(){return this._cloneInto()}}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ie.web)return ie.web.getRandomValues(new Uint8Array(e));if(ie.node)return new Uint8Array(ie.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}class be extends ge{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!==typeof e||"function"!==typeof e.init)throw new Error("Hash should be wrapped by utils.wrapConstructor");pe(e.outputLen),pe(e.blockLen)}(e);const n=me(t);if(this.iHash=e.create(),!(this.iHash instanceof ge))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const a=new Uint8Array(r);a.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:a,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ye=(e,t,n)=>new be(e,t).update(n).digest();ye.create=(e,t)=>new be(e,t),ye.init=ye.create;class we extends ge{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=le(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:t,buffer:n,blockLen:r,finished:a}=this;if(a)throw new Error("digest() was already called");const o=(e=me(e)).length;for(let s=0;s<o;){const a=Math.min(r-this.pos,o-s);if(a!==r)n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=le(e);for(;r<=o-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let i=o;i<r;i++)t[i]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const a=BigInt(32),o=BigInt(4294967295),s=Number(n>>a&o),i=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,i,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const s=le(e);this.get().forEach(((e,t)=>s.setUint32(4*t,e,a)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:a,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=a,e.destroyed=o,r%t&&e.buffer.set(n),e}}const xe=(e,t,n)=>e&t^~e&n,ke=(e,t,n)=>e&t^e&n^t&n,je=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ne=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ee=new Uint32Array(64);class Se extends we{constructor(){super(64,32,8,!1),this.A=0|Ne[0],this.B=0|Ne[1],this.C=0|Ne[2],this.D=0|Ne[3],this.E=0|Ne[4],this.F=0|Ne[5],this.G=0|Ne[6],this.H=0|Ne[7]}get(){const{A:e,B:t,C:n,D:r,E:a,F:o,G:s,H:i}=this;return[e,t,n,r,a,o,s,i]}set(e,t,n,r,a,o,s,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|o,this.G=0|s,this.H=0|i}process(e,t){for(let u=0;u<16;u++,t+=4)Ee[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Ee[u-15],t=Ee[u-2],n=ce(e,7)^ce(e,18)^e>>>3,r=ce(t,17)^ce(t,19)^t>>>10;Ee[u]=r+Ee[u-7]+n+Ee[u-16]|0}let{A:n,B:r,C:a,D:o,E:s,F:i,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(ce(s,6)^ce(s,11)^ce(s,25))+xe(s,i,l)+je[u]+Ee[u]|0,t=(ce(n,2)^ce(n,13)^ce(n,22))+ke(n,r,a)|0;c=l,l=i,i=s,s=o+e|0,o=a,a=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,i=i+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,a,o,s,i,l,c)}roundClean(){Ee.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ce=function(e){const t=t=>e().update(me(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.init=t.create=()=>e(),t}((()=>new Se));var _e,Te=n(791),Pe=n.t(Te,2),Re=n(250),Ie=n(164),Oe=n.t(Ie,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_e||(_e={}));const Me="popstate";function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Le(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(jn){}}}function De(e,t){return{usr:e.state,key:e.key,idx:t}}function Be(e,t,n,r){return void 0===n&&(n=null),Ae({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ke(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Fe(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ke(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ue(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i=_e.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){i=_e.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:i,location:h.location,delta:t})}function f(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:Fe(e);return ze(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(Ae({},s.state,{idx:c}),""));let h={get action(){return i},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Me,d),l=e,()=>{a.removeEventListener(Me,d),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=_e.Push;let r=Be(h.location,e,t);n&&n(r,e),c=u()+1;let d=De(r,c),f=h.createHref(r);try{s.pushState(d,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(f)}o&&l&&l({action:i,location:h.location,delta:1})},replace:function(e,t){i=_e.Replace;let r=Be(h.location,e,t);n&&n(r,e),c=u();let a=De(r,c),d=h.createHref(r);s.replaceState(a,"",d),o&&l&&l({action:i,location:h.location,delta:0})},go:e=>s.go(e)};return h}var We;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(We||(We={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function He(e,t,n){void 0===n&&(n="/");let r=at(("string"===typeof t?Ke(t):t).pathname||"/",n);if(null==r)return null;let a=qe(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s)o=tt(a[s],rt(r));return o}function qe(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(ze(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let i=lt([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(ze(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),qe(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:et(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ve(e.path))a(e,t,r);else a(e,t)})),t}function Ve(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let s=Ve(r.join("/")),i=[];return i.push(...s.map((e=>""===e?o:[o,e].join("/")))),a&&i.push(...s),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const Ge=/^:\w+$/,Qe=3,$e=2,Ye=1,Je=10,Xe=-2,Ze=e=>"*"===e;function et(e,t){let n=e.split("/"),r=n.length;return n.some(Ze)&&(r+=Xe),t&&(r+=$e),n.filter((e=>!Ze(e))).reduce(((e,t)=>e+(Ge.test(t)?Qe:""===t?Ye:Je)),r)}function tt(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],i=s===n.length-1,l="/"===a?t:t.slice(a.length)||"/",c=nt({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:lt([a,c.pathname]),pathnameBase:ct(lt([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=lt([a,c.pathnameBase]))}return o}function nt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Le("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=a&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return Le(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function rt(e){try{return decodeURI(e)}catch(t){return Le(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function at(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ot(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function st(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function it(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=Ke(e):(a=Ae({},e),ze(!a.pathname||!a.pathname.includes("?"),ot("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),ot("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),ot("#","search","hash",a)));let o,s=""===e||""===a.pathname,i=s?"/":a.pathname;if(null==i)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e.pop();a.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?Ke(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:ut(r),hash:dt(a)}}(a,o),c=i&&"/"!==i&&i.endsWith("/"),u=(s||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const lt=e=>e.join("/").replace(/\/\/+/g,"/"),ct=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ut=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",dt=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function ft(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ht=["post","put","patch","delete"],mt=(new Set(ht),["get",...ht]);new Set(mt),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}const gt=Te.createContext(null);const vt=Te.createContext(null);const bt=Te.createContext(null);const yt=Te.createContext(null);const wt=Te.createContext({outlet:null,matches:[],isDataRoute:!1});const xt=Te.createContext(null);function kt(){return null!=Te.useContext(yt)}function jt(){return kt()||ze(!1),Te.useContext(yt).location}function Nt(e){Te.useContext(bt).static||Te.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=Te.useContext(wt);return e?function(){let{router:e}=Lt(Mt.UseNavigateStable),t=Bt(zt.UseNavigateStable),n=Te.useRef(!1);return Nt((()=>{n.current=!0})),Te.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,pt({fromRouteId:t},a)))}),[e,t])}():function(){kt()||ze(!1);let e=Te.useContext(gt),{basename:t,navigator:n}=Te.useContext(bt),{matches:r}=Te.useContext(wt),{pathname:a}=jt(),o=JSON.stringify(st(r).map((e=>e.pathnameBase))),s=Te.useRef(!1);return Nt((()=>{s.current=!0})),Te.useCallback((function(r,i){if(void 0===i&&(i={}),!s.current)return;if("number"===typeof r)return void n.go(r);let l=it(r,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:lt([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,a,e])}()}const St=Te.createContext(null);function Ct(){let{matches:e}=Te.useContext(wt),t=e[e.length-1];return t?t.params:{}}function _t(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=Te.useContext(wt),{pathname:a}=jt(),o=JSON.stringify(st(r).map((e=>e.pathnameBase)));return Te.useMemo((()=>it(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function Tt(e,t,n){kt()||ze(!1);let{navigator:r}=Te.useContext(bt),{matches:a}=Te.useContext(wt),o=a[a.length-1],s=o?o.params:{},i=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let l,c=jt();if(t){var u;let e="string"===typeof t?Ke(t):t;"/"===i||(null==(u=e.pathname)?void 0:u.startsWith(i))||ze(!1),l=e}else l=c;let d=l.pathname||"/",f=He(e,{pathname:"/"===i?d:d.slice(i.length)||"/"});let h=At(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:lt([i,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?i:lt([i,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n);return t&&h?Te.createElement(yt.Provider,{value:{location:pt({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:_e.Pop}},h):h}function Pt(){let e=function(){var e;let t=Te.useContext(xt),n=Dt(zt.UseRouteError),r=Bt(zt.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=ft(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return Te.createElement(Te.Fragment,null,Te.createElement("h2",null,"Unexpected Application Error!"),Te.createElement("h3",{style:{fontStyle:"italic"}},t),n?Te.createElement("pre",{style:a},n):null,null)}const Rt=Te.createElement(Pt,null);class It extends Te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Te.createElement(wt.Provider,{value:this.props.routeContext},Te.createElement(xt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ot(e){let{routeContext:t,match:n,children:r}=e,a=Te.useContext(gt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Te.createElement(wt.Provider,{value:t},r)}function At(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let o=e,s=null==(r=n)?void 0:r.errors;if(null!=s){let e=o.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||ze(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,a)=>{let i=r.route.id?null==s?void 0:s[r.route.id]:null,l=null;n&&(l=r.route.errorElement||Rt);let c=t.concat(o.slice(0,a+1)),u=()=>{let t;return t=i?l:r.route.Component?Te.createElement(r.route.Component,null):r.route.element?r.route.element:e,Te.createElement(Ot,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?Te.createElement(It,{location:n.location,revalidation:n.revalidation,component:l,error:i,children:u(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):u()}),null)}var Mt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mt||{}),zt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zt||{});function Lt(e){let t=Te.useContext(gt);return t||ze(!1),t}function Dt(e){let t=Te.useContext(vt);return t||ze(!1),t}function Bt(e){let t=function(e){let t=Te.useContext(wt);return t||ze(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||ze(!1),n.route.id}Pe.startTransition;function Ft(e){let{to:t,replace:n,state:r,relative:a}=e;kt()||ze(!1);let{matches:o}=Te.useContext(wt),{pathname:s}=jt(),i=Et(),l=it(t,st(o).map((e=>e.pathnameBase)),s,"path"===a),c=JSON.stringify(l);return Te.useEffect((()=>i(JSON.parse(c),{replace:n,state:r,relative:a})),[i,c,a,n,r]),null}function Kt(e){return function(e){let t=Te.useContext(wt).outlet;return t?Te.createElement(St.Provider,{value:e},t):t}(e.context)}function Ut(e){ze(!1)}function Wt(e){let{basename:t="/",children:n=null,location:r,navigationType:a=_e.Pop,navigator:o,static:s=!1}=e;kt()&&ze(!1);let i=t.replace(/^\/*/,"/"),l=Te.useMemo((()=>({basename:i,navigator:o,static:s})),[i,o,s]);"string"===typeof r&&(r=Ke(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=Te.useMemo((()=>{let e=at(c,i);return null==e?null:{location:{pathname:e,search:u,hash:d,state:f,key:h},navigationType:a}}),[i,c,u,d,f,h,a]);return null==m?null:Te.createElement(bt.Provider,{value:l},Te.createElement(yt.Provider,{children:n,value:m}))}function Ht(e){let{children:t,location:n}=e;return function(e,t){return Tt(e,t)}(qt(t),n)}new Promise((()=>{}));Te.Component;function qt(e,t){void 0===t&&(t=[]);let n=[];return Te.Children.forEach(e,((e,r)=>{if(!Te.isValidElement(e))return;let a=[...t,r];if(e.type===Te.Fragment)return void n.push.apply(n,qt(e.props.children,a));e.type!==Ut&&ze(!1),e.props.index&&e.props.children&&ze(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=qt(e.props.children,a)),n.push(o)})),n}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Qt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$t=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const Yt=Te.createContext({isTransitioning:!1});new Map;const Jt=Pe.startTransition;Oe.flushSync;function Xt(e){let{basename:t,children:n,future:r,window:a}=e,o=Te.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),Ue((function(e,t){let{pathname:n="/",search:r="",hash:a=""}=Ke(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Be("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:Fe(t))}),(function(e,t){Le("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let i=o.current,[l,c]=Te.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=Te.useCallback((e=>{u&&Jt?Jt((()=>c(e))):c(e)}),[c,u]);return Te.useLayoutEffect((()=>i.listen(d)),[i,d]),Te.createElement(Wt,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i})}const Zt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,en=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=Te.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:o,replace:s,state:i,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Gt(e,Qt),{basename:h}=Te.useContext(bt),m=!1;if("string"===typeof c&&en.test(c)&&(n=c,Zt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=at(t.pathname,h);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(jn){}let p=function(e,t){let{relative:n}=void 0===t?{}:t;kt()||ze(!1);let{basename:r,navigator:a}=Te.useContext(bt),{hash:o,pathname:s,search:i}=_t(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:lt([r,s])),a.createHref({pathname:l,search:i,hash:o})}(c,{relative:a}),g=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:i}=void 0===t?{}:t,l=Et(),c=jt(),u=_t(e,{relative:s});return Te.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:Fe(c)===Fe(u);l(e,{replace:n,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:i})}}),[c,l,u,r,a,n,e,o,s,i])}(c,{replace:s,state:i,target:l,preventScrollReset:u,relative:a,unstable_viewTransition:d});return Te.createElement("a",Vt({},f,{href:n||p,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));const nn=Te.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:o=!1,style:s,to:i,unstable_viewTransition:l,children:c}=e,u=Gt(e,$t),d=_t(i,{relative:u.relative}),f=jt(),h=Te.useContext(vt),{navigator:m}=Te.useContext(bt),p=null!=h&&function(e,t){void 0===t&&(t={});let n=Te.useContext(Yt);null==n&&ze(!1);let{basename:r}=on(rn.useViewTransitionState),a=_t(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=at(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=at(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=nt(a.pathname,s)||null!=nt(a.pathname,o)}(d)&&!0===l,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,v=f.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(v=v.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase());const y="/"!==g&&g.endsWith("/")?g.length-1:g.length;let w,x=v===g||!o&&v.startsWith(g)&&"/"===v.charAt(y),k=null!=b&&(b===g||!o&&b.startsWith(g)&&"/"===b.charAt(g.length)),j={isActive:x,isPending:k,isTransitioning:p},N=x?n:void 0;w="function"===typeof a?a(j):[a,x?"active":null,k?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof s?s(j):s;return Te.createElement(tn,Vt({},u,{"aria-current":N,className:w,ref:t,style:E,to:i,unstable_viewTransition:l}),"function"===typeof c?c(j):c)}));var rn,an;function on(e){let t=Te.useContext(gt);return t||ze(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rn||(rn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(an||(an={}));var sn=n(184);const ln=()=>window.APP.SETTINGS_STORE_KEY,cn=(0,Te.createContext)(void 0),un=(e,t)=>{const{...n}=t;return{...e,...n}},dn=e=>{let{value:{defaultValues:t},children:n}=e;const[r,a]=(0,Te.useReducer)(un,Object.assign({},t,JSON.parse(window.localStorage.getItem(ln())||"{}")));return(0,Te.useEffect)((()=>{window.localStorage.setItem(ln(),JSON.stringify(r))}),[r]),(0,sn.jsx)(cn.Provider,{value:{settings:r,dispatch:a},children:n})},fn=()=>{const e=(0,Te.useContext)(cn);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e.settings},hn=()=>{const e=(0,Te.useContext)(cn);if(void 0===e)throw new Error("useSettingsDispatch must be used within a SettingsProvider");return e.dispatch},mn=e=>{const t=new WebSocket(e);return t.onerror=e=>{console.error("websocket error",e)},t},pn=e=>{let{websocket:t}=e;return(0,Te.useEffect)((()=>{if(!t)return;const e=new AbortController,n=()=>{t&&!e.signal.aborted&&xn(t,"[]",{signal:e.signal})};n();const r=setInterval((()=>n()),3e4);return()=>{e.abort(),clearInterval(r)}}),[t]),(0,sn.jsx)(sn.Fragment,{})},gn=e=>{let{websocket:t}=e;return(0,Te.useEffect)((()=>{if(!t)return;const e=new AbortController,n=setTimeout((()=>{if(e.signal.aborted)return;const n=t.readyState===WebSocket.CONNECTING;console.debug("[Websocket] Check if a force-close is needed..",n),n&&t.close(1e3,"Force-close pending connection")}),1e4);return()=>{clearTimeout(n),e.abort()}}),[t]),(0,sn.jsx)(sn.Fragment,{})},vn=e=>{let{websocket:t}=e;return(0,Te.useEffect)((()=>{t?console.debug("[Websocket] Connection",kn(t.readyState),"to",t.url):console.debug("[Websocket] Not connected")}),[t]),(0,sn.jsx)(sn.Fragment,{})},bn=(0,Te.createContext)(void 0),yn=e=>{let{children:t}=e;const n=fn(),r=(0,Te.useMemo)((()=>n.relays[0]||null),[n]),[a,o]=(0,Te.useState)((()=>r?mn(r):null)),[s,i]=(0,Te.useState)(null),[l,c]=(0,Te.useState)(!1),[u,d]=(0,Te.useState)(0),[f,h]=(0,Te.useState)(0);return(0,Te.useEffect)((()=>{const e=new AbortController,t=e=>{e?(console.debug("[Websocket] Trying to open connection to",e),o(mn(e))):(console.debug("[Websocket] No connection attempt will be made."),o(null))};if(a){if(a.readyState!==WebSocket.CONNECTING&&a.readyState!==WebSocket.OPEN)console.debug("[Websocket] Previous connection is closed.."),t(r);else{null===r||!a.url.startsWith(r)?(console.debug("[Websocket] Switching hosts.. closing socket to",a.url,"..."),d(0),h(0),a.addEventListener("close",(()=>!e.signal.aborted&&t(r)),{once:!0,signal:e.signal}),a.close()):console.debug("[Websocket] Websocket already connected to the correct host",a.url)}}else console.debug("[Websocket] No connection established.. "),t(r);return()=>e.abort()}),[f,a,r]),(0,Te.useEffect)((()=>{if(!a)return;const e=new AbortController,t=()=>!e.signal.aborted&&i(a.readyState);return a.addEventListener("open",t,{signal:e.signal}),a.addEventListener("close",t,{signal:e.signal}),()=>e.abort()}),[a]),(0,Te.useEffect)((()=>{console.debug("[Websocket] Connection is ".concat(l?"healthy":"NOT healthy")),l&&(d(0),h(0))}),[l]),(0,Te.useEffect)((()=>{if(!a)return;const e=new AbortController;let t,n;return a.addEventListener("open",(n=>{e.signal.aborted||(console.debug("[Websocket] Connection is open - starting healthy timeout (".concat(3e3,"ms)..")),t=setTimeout((()=>{const t=n.target===a;!e.signal.aborted&&c(t)}),3e3))}),{signal:e.signal}),a.addEventListener("close",(t=>{e.signal.aborted||(console.debug("[Websocket] Connection was closed with ".concat(t.code," - starting retry mechanism..")),c(!1),d((t=>{const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=Math.max(1e3,1e3*e);return Math.min(t,1e4)}(t+1);return console.log("Retrying to connect websocket in ".concat(r,"ms")),n=setTimeout((()=>{!e.signal.aborted&&h((e=>e+1))}),r),t+1})))}),{signal:e.signal}),()=>{clearTimeout(t),clearTimeout(n),e.abort()}}),[a]),(0,sn.jsxs)(bn.Provider,{value:{websocket:a,websocketState:s},children:[(0,sn.jsx)(pn,{websocket:a}),(0,sn.jsx)(gn,{websocket:a}),(0,sn.jsx)(vn,{websocket:a}),(0,sn.jsx)(sn.Fragment,{children:t})]})},wn=()=>{const e=(0,Te.useContext)(bn);if(void 0===e)throw new Error("useWebsocket must be used within a WebsocketProvider");return e.websocket},xn=(e,t,n)=>{let{signal:r}=n;const a=JSON.stringify(t);e.readyState===WebSocket.OPEN?e.send(a):e.readyState===WebSocket.CONNECTING&&e.addEventListener("open",(t=>(!r||!r.aborted)&&t.isTrusted&&e&&e.send(a)),{once:!0,signal:r})},kn=e=>{switch(e){case WebSocket.CONNECTING:return"CONNECTING";case WebSocket.OPEN:return"OPEN";case WebSocket.CLOSING:return"CLOSING";case WebSocket.CLOSED:return"CLOSED";default:return"UNKNOWN"}},jn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Nn=Object.keys,En=Array.isArray;function Sn(e,t){return"object"!=typeof t||Nn(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||jn.Promise||(jn.Promise=Promise);const Cn=Object.getPrototypeOf,_n={}.hasOwnProperty;function Tn(e,t){return _n.call(e,t)}function Pn(e,t){"function"==typeof t&&(t=t(Cn(e))),("undefined"==typeof Reflect?Nn:Reflect.ownKeys)(t).forEach((n=>{In(e,n,t[n])}))}const Rn=Object.defineProperty;function In(e,t,n,r){Rn(e,t,Sn(n&&Tn(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function On(e){return{from:function(t){return e.prototype=Object.create(t.prototype),In(e.prototype,"constructor",e),{extend:Pn.bind(null,e.prototype)}}}}const An=Object.getOwnPropertyDescriptor;function Mn(e,t){let n;return An(e,t)||(n=Cn(e))&&Mn(n,t)}const zn=[].slice;function Ln(e,t,n){return zn.call(e,t,n)}function Dn(e,t){return t(e)}function Bn(e){if(!e)throw new Error("Assertion Failed")}function Fn(e){jn.setImmediate?setImmediate(e):setTimeout(e,0)}function Kn(e,t){return e.reduce(((e,n,r)=>{var a=t(n,r);return a&&(e[a[0]]=a[1]),e}),{})}function Un(e,t){if(Tn(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,a=t.length;r<a;++r){var o=Un(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var i=e[t.substr(0,s)];return void 0===i?void 0:Un(i,t.substr(s+1))}}function Wn(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Bn("string"!=typeof n&&"length"in n);for(var r=0,a=t.length;r<a;++r)Wn(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),i=t.substr(o+1);if(""===i)void 0===n?En(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l&&Tn(e,s)||(l=e[s]={}),Wn(l,i,n)}}else void 0===n?En(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Hn(e){var t={};for(var n in e)Tn(e,n)&&(t[n]=e[n]);return t}const qn=[].concat;function Vn(e){return qn.apply([],e)}const Gn="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Vn([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>jn[e])),Qn=Gn.map((e=>jn[e]));Kn(Gn,(e=>[e,!0]));let $n=null;function Yn(e){$n="undefined"!=typeof WeakMap&&new WeakMap;const t=Jn(e);return $n=null,t}function Jn(e){if(!e||"object"!=typeof e)return e;let t=$n&&$n.get(e);if(t)return t;if(En(e)){t=[],$n&&$n.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Jn(e[n]))}else if(Qn.indexOf(e.constructor)>=0)t=e;else{const n=Cn(e);for(var a in t=n===Object.prototype?{}:Object.create(n),$n&&$n.set(e,t),e)Tn(e,a)&&(t[a]=Jn(e[a]))}return t}const{toString:Xn}={};function Zn(e){return Xn.call(e).slice(8,-1)}const er="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",tr="symbol"==typeof er?function(e){var t;return null!=e&&(t=e[er])&&t.apply(e)}:function(){return null},nr={};function rr(e){var t,n,r,a;if(1===arguments.length){if(En(e))return e.slice();if(this===nr&&"string"==typeof e)return[e];if(a=tr(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const ar="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var or="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sr(e,t){or=e,ir=t}var ir=()=>!0;const lr=!new Error("").stack;function cr(){if(lr)try{throw cr.arguments,new Error}catch(jn){return jn}return new Error}function ur(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(ir).map((e=>"\n"+e)).join("")):""}var dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(dr),hr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function mr(e,t){this._e=cr(),this.name=e,this.message=t}function pr(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function gr(e,t,n,r){this._e=cr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=pr(e,t)}function vr(e,t){this._e=cr(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=pr(e,t)}On(mr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ur(this._e,2))}},toString:function(){return this.name+": "+this.message}}),On(gr).from(mr),On(vr).from(mr);var br=fr.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const yr=mr;var wr=fr.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=cr(),this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=hr[t]||n,this.inner=null)}return On(r).from(yr),e[t]=r,e}),{});wr.Syntax=SyntaxError,wr.Type=TypeError,wr.Range=RangeError;var xr=dr.reduce(((e,t)=>(e[t+"Error"]=wr[t],e)),{}),kr=fr.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=wr[t]),e)),{});function jr(){}function Nr(e){return e}function Er(e,t){return null==e||e===Nr?t:function(n){return t(e(n))}}function Sr(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Cr(e,t){return e===jr?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Sr(r,this.onsuccess):r),a&&(this.onerror=this.onerror?Sr(a,this.onerror):a),void 0!==o?o:n}}function _r(e,t){return e===jr?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Sr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Sr(r,this.onerror):r)}}function Tr(e,t){return e===jr?t:function(n){var r=e.apply(this,arguments);Sn(n,r);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Sr(a,this.onsuccess):a),o&&(this.onerror=this.onerror?Sr(o,this.onerror):o),void 0===r?void 0===s?void 0:s:Sn(r,s)}}function Pr(e,t){return e===jr?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Rr(e,t){return e===jr?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}kr.ModifyError=gr,kr.DexieError=mr,kr.BulkError=vr;var Ir={};const Or=100,[Ar,Mr,zr]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Cn(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Cn(t),e]})(),Lr=Mr&&Mr.then,Dr=Ar&&Ar.constructor,Br=!!zr;var Fr=!1,Kr=zr?()=>{zr.then(ua)}:jn.setImmediate?setImmediate.bind(null,ua):jn.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{ua(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ua,0)},Ur=function(e,t){Jr.push([e,t]),Hr&&(Kr(),Hr=!1)},Wr=!0,Hr=!0,qr=[],Vr=[],Gr=null,Qr=Nr,$r={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ma,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Ma(e[0],e[1])}catch(e){}}))}},Yr=$r,Jr=[],Xr=0,Zr=[];function ea(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=jr,this._lib=!1;var t=this._PSD=Yr;if(or&&(this._stackHolder=cr(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Ir)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&aa(this,this._value))}this._state=null,this._value=null,++t.ref,ra(this,e)}const ta={get:function(){var e=Yr,t=wa;function n(n,r){var a=!e.global&&(e!==Yr||t!==wa);const o=a&&!Na();var s=new ea(((t,s)=>{sa(this,new na(Ia(n,e,a,o),Ia(r,e,a,o),t,s,e))}));return or&&ca(s,this),s}return n.prototype=Ir,n},set:function(e){In(this,"then",e&&e.prototype===Ir?ta:{get:function(){return e},set:ta.set})}};function na(e,t,n,r,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=a}function ra(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&da();t&&"function"==typeof t.then?ra(e,((e,n)=>{t instanceof ea?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,oa(e)),n&&fa()}}),aa.bind(null,e))}catch(t){aa(e,t)}}function aa(e,t){if(Vr.push(t),null===e._state){var n=e._lib&&da();t=Qr(t),e._state=!1,e._value=t,or&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=Mn(t,"stack");t._promise=e,In(t,"stack",{get:()=>Fr?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){qr.some((t=>t._value===e._value))||qr.push(e)}(e),oa(e),n&&fa()}}function oa(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)sa(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),0===Xr&&(++Xr,Ur((()=>{0==--Xr&&ha()}),[]))}function sa(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Xr,Ur(ia,[n,e,t])}else e._listeners.push(t)}function ia(e,t,n){try{Gr=t;var r,a=t._value;t._state?r=e(a):(Vr.length&&(Vr=[]),r=e(a),-1===Vr.indexOf(a)&&function(e){for(var t=qr.length;t;)if(qr[--t]._value===e._value)return void qr.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Gr=null,0==--Xr&&ha(),--n.psd.ref||n.psd.finalize()}}function la(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var a,o,s=e._value;null!=s?(a=s.name||"Error",o=s.message||s,r=ur(s,0)):(a=s,o=""),t.push(a+(o?": "+o:"")+r)}return or&&((r=ur(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&la(e._prev,t,n)),t}function ca(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function ua(){da()&&fa()}function da(){var e=Wr;return Wr=!1,Hr=!1,e}function fa(){var e,t,n;do{for(;Jr.length>0;)for(e=Jr,Jr=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Jr.length>0);Wr=!0,Hr=!0}function ha(){var e=qr;qr=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Zr.slice(0),n=t.length;n;)t[--n]()}function ma(e){return new ea(Ir,!1,e)}function pa(e,t){var n=Yr;return function(){var r=da(),a=Yr;try{return _a(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{_a(a,!1),r&&fa()}}}Pn(ea.prototype,{then:ta,_then:function(e,t){sa(this,new na(null,null,e,t,Yr))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):ma(e))):this.then(null,(e=>e&&e.name===t?n(e):ma(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),ma(t))))},stack:{get:function(){if(this._stack)return this._stack;try{Fr=!0;var e=la(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Fr=!1}}},timeout:function(e,t){return e<1/0?new ea(((n,r)=>{var a=setTimeout((()=>r(new wr.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&In(ea.prototype,Symbol.toStringTag,"Dexie.Promise"),$r.env=Ta(),Pn(ea,{all:function(){var e=rr.apply(null,arguments).map(Ea);return new ea((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((a,o)=>ea.resolve(a).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof ea)return e;if(e&&"function"==typeof e.then)return new ea(((t,n)=>{e.then(t,n)}));var t=new ea(Ir,!0,e);return ca(t,Gr),t},reject:ma,race:function(){var e=rr.apply(null,arguments).map(Ea);return new ea(((t,n)=>{e.map((e=>ea.resolve(e).then(t,n)))}))},PSD:{get:()=>Yr,set:e=>Yr=e},totalEchoes:{get:()=>wa},newPSD:ka,usePSD:Pa,scheduler:{get:()=>Ur,set:e=>{Ur=e}},rejectionMapper:{get:()=>Qr,set:e=>{Qr=e}},follow:(e,t)=>new ea(((n,r)=>ka(((t,n)=>{var r=Yr;r.unhandleds=[],r.onunhandled=n,r.finalize=Sr((function(){!function(e){Zr.push((function t(){e(),Zr.splice(Zr.indexOf(t),1)})),++Xr,Ur((()=>{0==--Xr&&ha()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),Dr&&(Dr.allSettled&&In(ea,"allSettled",(function(){const e=rr.apply(null,arguments).map(Ea);return new ea((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,a)=>ea.resolve(e).then((e=>r[a]={status:"fulfilled",value:e}),(e=>r[a]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),Dr.any&&"undefined"!=typeof AggregateError&&In(ea,"any",(function(){const e=rr.apply(null,arguments).map(Ea);return new ea(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const a=new Array(r);e.forEach(((e,o)=>ea.resolve(e).then((e=>t(e)),(e=>{a[o]=e,--r||n(new AggregateError(a))}))))}))})));const ga={awaits:0,echoes:0,id:0};var va=0,ba=[],ya=0,wa=0,xa=0;function ka(e,t,n,r){var a=Yr,o=Object.create(a);o.parent=a,o.ref=0,o.global=!1,o.id=++xa;var s=$r.env;o.env=Br?{Promise:ea,PromiseProp:{value:ea,configurable:!0,writable:!0},all:ea.all,race:ea.race,allSettled:ea.allSettled,any:ea.any,resolve:ea.resolve,reject:ea.reject,nthen:Oa(s.nthen,o),gthen:Oa(s.gthen,o)}:{},t&&Sn(o,t),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var i=Pa(o,e,n,r);return 0===o.ref&&o.finalize(),i}function ja(){return ga.id||(ga.id=++va),++ga.awaits,ga.echoes+=Or,ga.id}function Na(){return!!ga.awaits&&(0==--ga.awaits&&(ga.id=0),ga.echoes=ga.awaits*Or,!0)}function Ea(e){return ga.echoes&&e&&e.constructor===Dr?(ja(),e.then((e=>(Na(),e)),(e=>(Na(),za(e))))):e}function Sa(e){++wa,ga.echoes&&0!=--ga.echoes||(ga.echoes=ga.id=0),ba.push(Yr),_a(e,!0)}function Ca(){var e=ba[ba.length-1];ba.pop(),_a(e,!1)}function _a(e,t){var n=Yr;if((t?!ga.echoes||ya++&&e===Yr:!ya||--ya&&e===Yr)||Ra(t?Sa.bind(null,e):Ca),e!==Yr&&(Yr=e,n===$r&&($r.env=Ta()),Br)){var r=$r.env.Promise,a=e.env;Mr.then=a.nthen,r.prototype.then=a.gthen,(n.global||e.global)&&(Object.defineProperty(jn,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function Ta(){var e=jn.Promise;return Br?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(jn,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Mr.then,gthen:e.prototype.then}:{}}function Pa(e,t,n,r,a){var o=Yr;try{return _a(e,!0),t(n,r,a)}finally{_a(o,!1)}}function Ra(e){Lr.call(Ar,e)}function Ia(e,t,n,r){return"function"!=typeof e?e:function(){var a=Yr;n&&ja(),_a(t,!0);try{return e.apply(this,arguments)}finally{_a(a,!1),r&&Ra(Na)}}}function Oa(e,t){return function(n,r){return e.call(this,Ia(n,t),Ia(r,t))}}-1===(""+Lr).indexOf("[native code]")&&(ja=Na=jr);const Aa="unhandledrejection";function Ma(e,t){var n;try{n=t.onuncatched(e)}catch(jn){}if(!1!==n)try{var r,a={promise:t,reason:e};if(jn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Aa,!0,!0),Sn(r,a)):jn.CustomEvent&&Sn(r=new CustomEvent(Aa,{detail:a}),a),r&&jn.dispatchEvent&&(dispatchEvent(r),!jn.PromiseRejectionEvent&&jn.onunhandledrejection))try{jn.onunhandledrejection(r)}catch(jn){}or&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(jn){}}var za=ea.reject;function La(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Yr.letThrough||e._vip)){var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===br.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>La(e,t,n,r)))):za(a)}return a._promise(t,((e,t)=>ka((()=>(Yr.trans=a,r(e,t,a)))))).then((e=>a._completion.then((()=>e))))}if(e._state.openComplete)return za(new wr.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return za(new wr.DatabaseClosed);e.open().catch(jr)}return e._state.dbReadyPromise.then((()=>La(e,t,n,r)))}const Da="3.2.4",Ba=String.fromCharCode(65535),Fa=-1/0,Ka="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ua="String expected.",Wa=[],Ha="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),qa=Ha,Va=Ha,Ga=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Qa="__dbnames",$a="readonly",Ya="readwrite";function Ja(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Xa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Za(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=Yn(t))[e],t)}class eo{_trans(e,t,n){const r=this._tx||Yr.trans,a=this.name;function o(e,n,r){if(!r.schema[a])throw new wr.NotFound("Table "+a+" not part of transaction");return t(r.idbtrans,r)}const s=da();try{return r&&r.db===this.db?r===Yr.trans?r._promise(e,o,n):ka((()=>r._promise(e,o,n)),{trans:r,transless:Yr.transless||Yr}):La(this.db,e,[this.name],o)}finally{s&&fa()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(En(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const t=Nn(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==Ba)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&or&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(t.join("+"),"]"));const{idxByName:r}=this.schema,a=this.db._deps.indexedDB;function o(e,t){try{return 0===a.cmp(e,t)}catch(e){return!1}}const[s,i]=t.reduce(((t,n)=>{let[a,s]=t;const i=r[n],l=e[n];return[a||i,a||!i?Ja(s,i&&i.multi?e=>{const t=Un(e,n);return En(t)&&t.some((e=>o(l,e)))}:e=>o(l,Un(e,n))):s]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(i):n?this.filter(i):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,En(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(Tn(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Sn(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=Za(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]}))).then((e=>e.numFailures?ea.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Wn(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||En(e))return this.where(":id").equals(e).modify(t);{const n=Un(e,this.schema.primKey.keyPath);if(void 0===n)return za(new wr.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Nn(t).forEach((n=>{Wn(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=Za(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null}))).then((e=>e.numFailures?ea.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Wn(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?ea.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Xa}))).then((e=>e.numFailures?ea.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new wr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new wr.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let i=o&&n?e.map(Za(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:i,wantResults:a}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:o}=e;if(0===t)return a?n:r;throw new vr("".concat(this.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new wr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new wr.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let i=o&&n?e.map(Za(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:i,wantResults:a}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:o}=e;if(0===t)return a?n:r;throw new vr("".concat(this.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((e=>{let{numFailures:n,lastResult:r,failures:a}=e;if(0===n)return r;throw new vr("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(t," operations failed"),a)}))}}function to(e){var t={},n=function(n,r){if(r){for(var a=arguments.length,o=new Array(a-1);--a;)o[a-1]=arguments[a];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,a=arguments.length;r<a;++r)o(arguments[r]);return n;function o(e,r,a){if("object"!=typeof e){var s;r||(r=Pr),a||(a=jr);var i={subscribers:[],fire:a,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,a)}};return t[e]=n[e]=i,i}Nn(s=e).forEach((function(e){var t=s[e];if(En(t))o(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new wr.InvalidArgument("Invalid event config");var n=o(e,Nr,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){Fn((function(){e.apply(null,t)}))}))}))}}))}}function no(e,t){return On(t).from({prototype:e}),t}function ro(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ao(e,t){e.filter=Ja(e.filter,t)}function oo(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Ja(r(),t()):t,e.justLimit=n&&!r}function so(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new wr.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function io(e,t,n){const r=so(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function lo(e,t,n,r){const a=e.replayFilter?Ja(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,n,r)=>{if(!a||a(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var s=n.primaryKey,i=""+s;"[object ArrayBuffer]"===i&&(i=""+new Uint8Array(s)),Tn(o,i)||(o[i]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(s,n),co(io(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return co(io(e,r,n),Ja(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function co(e,t,n,r){var a=pa(r?(e,t,a)=>n(r(e),t,a):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=jr}),(t=>{e.fail(t),n=jr}))||a(e.value,e,(e=>n=e)),n()}))}))}function uo(e,t){try{const n=fo(e),r=fo(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let o=0;o<a;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(ho(e),ho(t));case"Array":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let o=0;o<a;++o){const n=uo(e[o],t[o]);if(0!==n)return n}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function fo(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=Zn(e);return"ArrayBuffer"===n?"binary":n}function ho(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class mo{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,za.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,za.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Ja(t.algorithm,e)}_iterate(e,t){return lo(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Sn(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>lo(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(ro(t,!0))return n.count({trans:e,query:{index:so(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return lo(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],a=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function i(e,t){var n=o(e,a),r=o(t,a);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(i)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&ro(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=so(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((e=>{let{result:t}=e;return n?t.map(n):t}))}{const n=[];return lo(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,ro(t)?oo(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):oo(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),oo(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return ao(this._ctx,(function(n,r,a){return!e(n.value)||(r(a),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return ao(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Ja(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&ro(t,!0)&&t.limit>0)return this._read((e=>{var n=so(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((e=>{let{result:t}=e;return t})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return ao(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Tn(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var a=Nn(e),o=a.length;r=function(t){for(var n=!1,r=0;r<o;++r){var s=a[r],i=e[s];Un(t,s)!==i&&(Wn(t,s,i),n=!0)}return n}}const s=t.table.core,{outbound:i,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let d=0;const f=[],h=(e,t)=>{const{failures:n,numFailures:r}=t;d+=e-r;for(let a of Nn(n))u.push(n[a])};return this.clone().primaryKeys().then((a=>{const o=u=>{const d=Math.min(c,a.length-u);return s.getMany({trans:n,keys:a.slice(u,u+d),cache:"immutable"}).then((f=>{const m=[],p=[],g=i?[]:null,v=[];for(let e=0;e<d;++e){const t=f[e],n={value:Yn(t),primKey:a[u+e]};!1!==r.call(n,n.value,n)&&(null==n.value?v.push(a[u+e]):i||0===uo(l(t),l(n.value))?(p.push(n.value),i&&g.push(a[u+e])):(v.push(a[u+e]),m.push(n.value)))}const b=ro(t)&&t.limit===1/0&&("function"!=typeof e||e===po)&&{index:t.index,range:t.range};return Promise.resolve(m.length>0&&s.mutate({trans:n,type:"add",values:m}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);h(m.length,e)}))).then((()=>(p.length>0||b&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:g,values:p,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>h(p.length,e))))).then((()=>(v.length>0||b&&e===po)&&s.mutate({trans:n,type:"delete",keys:v,criteria:b}).then((e=>h(v.length,e))))).then((()=>a.length>u+d&&o(u+c)))}))};return o(0).then((()=>{if(u.length>0)throw new gr("Error modifying one or more objects",u,d,f);return a.length}))}))}))}delete(){var e=this._ctx,t=e.range;return ro(e)&&(e.isPrimKey&&!Va||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,a=t;return e.table.core.count({trans:n,query:{index:r,range:a}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then((e=>{let{failures:n,lastResult:r,results:a,numFailures:o}=e;if(o)throw new gr("Could not delete some values",Object.keys(n).map((e=>n[e])),t-o);return t-o}))))})):this.modify(po)}}const po=(e,t)=>t.value=null;function go(e,t){return e<t?-1:e===t?0:1}function vo(e,t){return e>t?-1:e===t?0:1}function bo(e,t,n){var r=e instanceof No?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function yo(e){return new e.Collection(e,(()=>jo(""))).limit(0)}function wo(e,t,n,r,a,o){for(var s=Math.min(e.length,r.length),i=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return a(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):a(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):i>=0?e.substr(0,i)+t[i]+n.substr(i+1):null;a(e[l],c)<0&&(i=l)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):i<0?null:e.substr(0,i)+r[i]+n.substr(i+1)}function xo(e,t,n,r){var a,o,s,i,l,c,u,d=n.length;if(!n.every((e=>"string"==typeof e)))return bo(e,Ua);function f(e){a=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?go:vo;var t=n.map((function(e){return{lower:o(e),upper:a(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));i=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":r}f("next");var h=new e.Collection(e,(()=>ko(i[0],l[d-1]+r)));h._ondirectionchange=function(e){f(e)};var m=0;return h._addAlgorithm((function(e,n,r){var a=e.key;if("string"!=typeof a)return!1;var f=o(a);if(t(f,l,m))return!0;for(var h=null,p=m;p<d;++p){var g=wo(a,f,i[p],l[p],s,c);null===g&&null===h?m=p+1:(null===h||s(h,g)>0)&&(h=g)}return n(null!==h?function(){e.continue(h+u)}:r),!1})),h}function ko(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function jo(e){return{type:1,lower:e,upper:e}}class No{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?yo(this):new this.Collection(this,(()=>ko(e,t,!n,!r)))}catch(e){return bo(this,Ka)}}equals(e){return null==e?bo(this,Ka):new this.Collection(this,(()=>jo(e)))}above(e){return null==e?bo(this,Ka):new this.Collection(this,(()=>ko(e,void 0,!0)))}aboveOrEqual(e){return null==e?bo(this,Ka):new this.Collection(this,(()=>ko(e,void 0,!1)))}below(e){return null==e?bo(this,Ka):new this.Collection(this,(()=>ko(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?bo(this,Ka):new this.Collection(this,(()=>ko(void 0,e)))}startsWith(e){return"string"!=typeof e?bo(this,Ua):this.between(e,e+Ba,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):xo(this,((e,t)=>0===e.indexOf(t[0])),[e],Ba)}equalsIgnoreCase(e){return xo(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=rr.apply(nr,arguments);return 0===e.length?yo(this):xo(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=rr.apply(nr,arguments);return 0===e.length?yo(this):xo(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,Ba)}anyOf(){const e=rr.apply(nr,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return bo(this,Ka)}if(0===e.length)return yo(this);const n=new this.Collection(this,(()=>ko(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,a,o)=>{const s=n.key;for(;t(s,e[r])>0;)if(++r,r===e.length)return a(o),!1;return 0===t(s,e[r])||(a((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[Fa,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=rr.apply(nr,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return bo(this,Ka)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[Fa,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,a=this._descending,o=this._min,s=this._max;if(0===e.length)return yo(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return bo(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",wr.InvalidArgument);const i=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=r;function d(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,a=e.length;for(;r<a;++r){const a=e[r];if(n(t[0],a[1])<0&&n(t[1],a[0])>0){a[0]=o(a[0],t[0]),a[1]=s(a[1],t[1]);break}}return r===a&&e.push(t),e}),[]),c.sort(d)}catch(e){return bo(this,Ka)}let f=0;const h=l?e=>r(e,c[f][1])>0:e=>r(e,c[f][1])>=0,m=i?e=>a(e,c[f][0])>0:e=>a(e,c[f][0])>=0;let p=h;const g=new this.Collection(this,(()=>ko(c[0][0],c[c.length-1][1],!i,!l)));return g._ondirectionchange=e=>{"next"===e?(p=h,u=r):(p=m,u=a),c.sort(d)},g._addAlgorithm(((e,t,n)=>{for(var a=e.key;p(a);)if(++f,f===c.length)return t(n),!1;return!!function(e){return!h(e)&&!m(e)}(a)||(0===this._cmp(a,c[f][1])||0===this._cmp(a,c[f][0])||t((()=>{u===r?e.continue(c[f][0]):e.continue(c[f][1])})),!1)})),g}startsWithAnyOf(){const e=rr.apply(nr,arguments);return e.every((e=>"string"==typeof e))?0===e.length?yo(this):this.inAnyRange(e.map((e=>[e,e+Ba]))):bo(this,"startsWithAnyOf() only works with strings")}}function Eo(e){return pa((function(t){return So(t),e(t.target.error),!1}))}function So(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Co="storagemutated",_o="x-storagemutated-1",To=to(null,Co);class Po{_lock(){return Bn(!Yr.global),++this._reculock,1!==this._reculock||Yr.global||(Yr.lockOwnerFor=this),this}_unlock(){if(Bn(!Yr.global),0==--this._reculock)for(Yr.global||(Yr.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Pa(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Yr.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(Bn(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new wr.DatabaseClosed(n);case"MissingAPIError":throw new wr.MissingAPI(n.message,n);default:throw new wr.OpenFailed(n)}if(!this.active)throw new wr.TransactionInactive;return Bn(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=pa((t=>{So(t),this._reject(e.error)})),e.onabort=pa((t=>{So(t),this.active&&this._reject(new wr.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=pa((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&To.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return za(new wr.ReadOnly("Transaction is readonly"));if(!this.active)return za(new wr.TransactionInactive);if(this._locked())return new ea(((r,a)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,a)},Yr])}));if(n)return ka((()=>{var e=new ea(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new ea(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=ea.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var a=t._waitingFor;return new ea(((e,r)=>{n.then((n=>t._waitingQueue.push(pa(e.bind(null,n)))),(e=>t._waitingQueue.push(pa(r.bind(null,e))))).finally((()=>{t._waitingFor===a&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new wr.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Tn(t,e))return t[e];const n=this.schema[e];if(!n)throw new wr.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Ro(e,t,n,r,a,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(a?"++":"")+Io(t)}}function Io(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Oo(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Kn(n,(e=>[e.name,e]))}}let Ao=e=>{try{return e.only([[]]),Ao=()=>[[]],[[]]}catch(e){return Ao=()=>Ba,Ba}};function Mo(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>Un(t,e)}(e):t=>Un(t,e)}function zo(e){return[].slice.call(e)}let Lo=0;function Do(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Bo(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:a,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!a):t.bound(n,r,!!a,!!o)}const{schema:a,hasGetAll:o}=function(e,t){const n=zo(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=En(t),a=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Mo(t)},indexes:zo(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:a}=e,s={name:t,compound:En(a),keyPath:a,unique:n,multiEntry:r,extractKey:Mo(a)};return o[Do(a)]=s,s})),getIndexByKeyPath:e=>o[Do(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[Do(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=a.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function(e){let{trans:n,type:a,keys:o,values:s,range:i}=e;return new Promise(((e,l)=>{e=pa(e);const c=n.objectStore(t),u=null==c.keyPath,d="put"===a||"add"===a;if(!d&&"delete"!==a&&"deleteRange"!==a)throw new Error("Invalid operation type: "+a);const{length:f}=o||s||{length:1};if(o&&s&&o.length!==s.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return e({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const m=[],p=[];let g=0;const v=e=>{++g,So(e)};if("deleteRange"===a){if(4===i.type)return e({numFailures:g,failures:p,results:[],lastResult:void 0});3===i.type?m.push(h=c.clear()):m.push(h=c.delete(r(i)))}else{const[e,t]=d?u?[s,o]:[s,null]:[o,null];if(d)for(let n=0;n<f;++n)m.push(h=t&&void 0!==t[n]?c[a](e[n],t[n]):c[a](e[n])),h.onerror=v;else for(let n=0;n<f;++n)m.push(h=c[a](e[n])),h.onerror=v}const b=t=>{const n=t.target.result;m.forEach(((e,t)=>null!=e.error&&(p[t]=e.error))),e({numFailures:g,failures:p,results:"delete"===a?o:m.map((e=>e.result)),lastResult:n})};h.onerror=e=>{v(e),b(e)},h.onsuccess=b}))},getMany:e=>{let{trans:n,keys:r}=e;return new Promise(((e,a)=>{e=pa(e);const o=n.objectStore(t),s=r.length,i=new Array(s);let l,c=0,u=0;const d=t=>{const n=t.target;i[n._pos]=n.result,++u===c&&e(i)},f=Eo(a);for(let t=0;t<s;++t)null!=r[t]&&(l=o.get(r[t]),l._pos=t,l.onsuccess=d,l.onerror=f,++c);0===c&&e(i)}))},get:e=>{let{trans:n,key:r}=e;return new Promise(((e,a)=>{e=pa(e);const o=n.objectStore(t).get(r);o.onsuccess=t=>e(t.target.result),o.onerror=Eo(a)}))},query:function(e){return n=>new Promise(((a,o)=>{a=pa(a);const{trans:s,values:i,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:d,range:f}=c,h=s.objectStore(t),m=d.isPrimaryKey?h:h.index(d.name),p=r(f);if(0===l)return a({result:[]});if(e){const e=i?m.getAll(p,u):m.getAllKeys(p,u);e.onsuccess=e=>a({result:e.target.result}),e.onerror=Eo(o)}else{let e=0;const t=i||!("openKeyCursor"in m)?m.openCursor(p):m.openKeyCursor(p),n=[];t.onsuccess=r=>{const o=t.result;return o?(n.push(i?o.value:o.primaryKey),++e===l?a({result:n}):void o.continue()):a({result:n})},t.onerror=Eo(o)}}))}(o),openCursor:function(e){let{trans:n,values:a,query:o,reverse:s,unique:i}=e;return new Promise(((e,l)=>{e=pa(e);const{index:c,range:u}=o,d=n.objectStore(t),f=c.isPrimaryKey?d:d.index(c.name),h=s?i?"prevunique":"prev":i?"nextunique":"next",m=a||!("openKeyCursor"in f)?f.openCursor(r(u),h):f.openKeyCursor(r(u),h);m.onerror=Eo(l),m.onsuccess=pa((t=>{const r=m.result;if(!r)return void e(null);r.___id=++Lo,r.done=!1;const a=r.continue.bind(r);let o=r.continuePrimaryKey;o&&(o=o.bind(r));const s=r.advance.bind(r),i=()=>{throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=pa(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=pa(e),m.onerror=Eo(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=i,e(t)}})),n=()=>{if(m.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return m.onsuccess=pa((e=>{m.onsuccess=n,n()})),r.continue=a,r.continuePrimaryKey=o,r.advance=s,n(),t},e(r)}),l)}))},count(e){let{query:n,trans:a}=e;const{index:o,range:s}=n;return new Promise(((e,n)=>{const i=a.objectStore(t),l=o.isPrimaryKey?i:i.index(o.name),c=r(s),u=c?l.count(c):l.count();u.onsuccess=pa((t=>e(t.target.result))),u.onerror=Eo(n)}))}}}(e))),i={};return s.forEach((e=>i[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!i[e])throw new Error("Table '".concat(e,"' not found"));return i[e]},MIN_KEY:-1/0,MAX_KEY:Ao(t),schema:a}}function Fo(e,t){let{_novip:n}=e;const r=t.db,a=function(e,t,n,r){let{IDBKeyRange:a,indexedDB:o}=n;const s=function(e,t){return t.reduce(((e,t)=>{let{create:n}=t;return{...e,...n(e)}}),e)}(Bo(t,a,r),e.dbcore);return{dbcore:s}}(n._middlewares,r,n._deps,t);n.core=a.dbcore,n.tables.forEach((e=>{const t=e.name;n.core.schema.tables.some((e=>e.name===t))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function Ko(e,t,n,r){let{_novip:a}=e;n.forEach((e=>{const n=r[e];t.forEach((t=>{const r=Mn(t,e);(!r||"value"in r&&void 0===r.value)&&(t===a.Transaction.prototype||t instanceof a.Transaction?In(t,e,{get(){return this.table(e)},set(t){Rn(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new a.Table(e,n))}))}))}function Uo(e,t){let{_novip:n}=e;t.forEach((e=>{for(let t in e)e[t]instanceof n.Table&&delete e[t]}))}function Wo(e,t){return e._cfg.version-t._cfg.version}function Ho(e,t,n,r){const a=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,a);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),i=Yr.transless||Yr;ka((()=>{Yr.trans=o,Yr.transless=i,0===t?(Nn(a).forEach((e=>{Vo(n,e,a[e].primKey,a[e].indexes)})),Fo(e,n),ea.follow((()=>e.on.populate.fire(o))).catch(s)):function(e,t,n,r){let{_novip:a}=e;const o=[],s=a._versions;let i=a._dbSchema=Qo(a,a.idbdb,r),l=!1;const c=s.filter((e=>e._cfg.version>=t));return c.forEach((e=>{o.push((()=>{const o=i,s=e._cfg.dbschema;$o(a,o,r),$o(a,s,r),i=a._dbSchema=s;const c=qo(o,s);c.add.forEach((e=>{Vo(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new wr.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>Go(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Go(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=e._cfg.contentUpgrade;if(u&&e._cfg.version>t){Fo(a,r),n._memoizedTables={},l=!0;let e=Hn(s);c.del.forEach((t=>{e[t]=o[t]})),Uo(a,[a.Transaction.prototype]),Ko(a,[a.Transaction.prototype],Nn(e),e),n.schema=e;const t=ar(u);let i;t&&ja();const d=ea.follow((()=>{if(i=u(n),i&&t){var e=Na.bind(null,null);i.then(e,e)}}));return i&&"function"==typeof i.then?ea.resolve(i):d.then((()=>i))}})),o.push((t=>{l&&qa||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(e._cfg.dbschema,t),Uo(a,[a.Transaction.prototype]),Ko(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),n.schema=a._dbSchema}))})),function e(){return o.length?ea.resolve(o.shift()(n.idbtrans)).then(e):ea.resolve()}().then((()=>{var e,t;t=r,Nn(e=i).forEach((n=>{t.db.objectStoreNames.contains(n)||Vo(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(s)}))}function qo(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const a=e[r],o=t[r];if(a){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto&&!Ha)e.recreate=!0,n.change.push(e);else{const t=a.idxByName,r=o.idxByName;let s;for(s in t)r[s]||e.del.push(s);for(s in r){const n=t[s],a=r[s];n?n.src!==a.src&&e.change.push(a):e.add.push(a)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function Vo(e,t,n,r){const a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>Go(a,e))),a}function Go(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Qo(e,t,n){const r={};return Ln(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let a=t.keyPath;const o=Ro(Io(a),a||"",!1,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),s=[];for(let n=0;n<t.indexNames.length;++n){const e=t.index(t.indexNames[n]);a=e.keyPath;var i=Ro(e.name,a,!!e.unique,!!e.multiEntry,!1,a&&"string"!=typeof a,!1);s.push(i)}r[e]=Oo(e,o,s)})),r}function $o(e,t,n){let{_novip:r}=e;const a=n.db.objectStoreNames;for(let o=0;o<a.length;++o){const e=a[o],s=n.objectStore(e);r._hasGetAll="getAll"in s;for(let n=0;n<s.indexNames.length;++n){const r=s.indexNames[n],a=s.index(r).keyPath,o="string"==typeof a?a:"["+Ln(a).join("+")+"]";if(t[e]){const n=t[e].idxByName[o];n&&(n.name=r,delete t[e].idxByName[o],t[e].idxByName[r]=n)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&jn.WorkerGlobalScope&&jn instanceof jn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}class Yo{_parseStoresSpec(e,t){Nn(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Ro(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),En(r),0===t)})),a=r.shift();if(a.multi)throw new wr.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new wr.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new wr.Schema("Index must have a name and cannot be an empty string")})),t[n]=Oo(n,a,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Sn(this._cfg.storesSource,e):e;const n=t._versions,r={};let a={};return n.forEach((e=>{Sn(r,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(r,a)})),t._dbSchema=a,Uo(t,[t._allTables,t,t.Transaction.prototype]),Ko(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Nn(a),a),t._storeNames=Nn(a),this}upgrade(e){return this._cfg.contentUpgrade=Rr(this._cfg.contentUpgrade||jr,e),this}}function Jo(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new bs(Qa,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Xo(e){return e&&"function"==typeof e.databases}function Zo(e){return ka((function(){return Yr.letThrough=!0,e()}))}function es(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function ts(e){var t=t=>e.next(t),n=a(t),r=a((t=>e.throw(t)));function a(e){return t=>{var a=e(t),o=a.value;return a.done?o:o&&"function"==typeof o.then?o.then(n,r):En(o)?Promise.all(o).then(n,r):n(o)}}return a(t)()}function ns(e,t,n){var r=arguments.length;if(r<2)throw new wr.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];return n=a.pop(),[e,Vn(a),n]}function rs(e,t,n,r,a){return ea.resolve().then((()=>{const o=Yr.transless||Yr,s=e._createTransaction(t,n,e._dbSchema,r),i={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===br.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>rs(e,t,n,null,a)))):za(r)}const l=ar(a);let c;l&&ja();const u=ea.follow((()=>{if(c=a.call(s,s),c)if(l){var e=Na.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=ts(c))}),i);return(c&&"function"==typeof c.then?ea.resolve(c).then((e=>s.active?e:za(new wr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(r&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),za(e))))}))}function as(e,t,n){const r=En(e)?e.slice():[e];for(let a=0;a<n;++a)r.push(t);return r}const os={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,a={},o=[];function s(e,t,n){const r=Do(e),i=a[r]=a[r]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...n,isVirtual:c,keyTail:t,keyLength:l,extractKey:Mo(e),unique:!c&&n.unique};return i.push(u),u.isPrimaryKey||o.push(u),l>1&&s(2===l?e[0]:e.slice(0,l-1),t+1,n),i.sort(((e,t)=>e.keyTail-t.keyTail)),u}const i=s(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[i];for(const e of r.indexes)s(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,a=n.keyTail,{type:1===r.type?2:r.type,lower:as(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,a),lowerOpen:!0,upper:as(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,a),upperOpen:!0})}}:t;var r,a}const c={...n,schema:{...r,primaryKey:i,indexes:o,getIndexByKeyPath:function(e){const t=a[Do(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:a,keyLength:o}=t.query.index;return a?n.openCursor(l(t)).then((n=>n&&function(n){const a=Object.create(n,{continue:{value:function(a){null!=a?n.continue(as(a,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,a){n.continuePrimaryKey(as(t,e.MAX_KEY,r),a)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return a}(n))):n.openCursor(t)}};return c}}}};function ss(e,t,n,r){return n=n||{},r=r||"",Nn(e).forEach((a=>{if(Tn(t,a)){var o=e[a],s=t[a];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=Zn(o);e!==Zn(s)?n[r+a]=t[a]:"Object"===e?ss(o,s,n,r+a+"."):o!==s&&(n[r+a]=t[a])}else o!==s&&(n[r+a]=t[a])}else n[r+a]=void 0})),Nn(t).forEach((a=>{Tn(e,a)||(n[r+a]=t[a])})),n}const is={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,a={...n,mutate(e){const a=Yr.trans,{deleting:o,creating:s,updating:i}=a.table(t).hook;switch(e.type){case"add":if(s.fire===jr)break;return a._promise("readwrite",(()=>l(e)),!0);case"put":if(s.fire===jr&&i.fire===jr)break;return a._promise("readwrite",(()=>l(e)),!0);case"delete":if(o.fire===jr)break;return a._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(o.fire===jr)break;return a._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Yr.trans,a=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:a}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,a).then((l=>{const c=a.map(((n,a)=>{const c=l[a],u={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(u,n,c,t);else if("add"===e.type||void 0===c){const o=s.fire.call(u,n,e.values[a],t);null==n&&null!=o&&(n=o,e.keys[a]=n,r.outbound||Wn(e.values[a],r.keyPath,n))}else{const r=ss(c,e.values[a]),o=i.fire.call(u,r,n,c,t);if(o){const t=e.values[a];Object.keys(o).forEach((e=>{Tn(t,e)?t[e]=o[e]:Wn(t,e,o[e])}))}}return u}));return n.mutate(e).then((t=>{let{failures:n,results:r,numFailures:o,lastResult:s}=t;for(let i=0;i<a.length;++i){const t=r?r[i]:a[i],o=c[i];null==t?o.onerror&&o.onerror(n[i]):o.onsuccess&&o.onsuccess("put"===e.type&&l[i]?e.values[i]:t)}return{failures:n,results:r,numFailures:o,lastResult:s}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,a){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:a}).then((n=>{let{result:r}=n;return l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<a?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:r[r.length-1],lowerOpen:!0},a)))}))}}};return a}})};function ls(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let a=0,o=0;a<t.keys.length&&o<e.length;++a)0===uo(t.keys[a],e[o])&&(r.push(n?Yn(t.values[a]):t.values[a]),++o);return r.length===e.length?r:null}catch(e){return null}}const cs={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=ls(e.keys,e.trans._cache,"clone"===e.cache);return t?ea.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?Yn(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function us(e){return!("from"in e)}const ds=function(e,t){if(!this){const t=new ds;return e&&"d"in e&&Sn(t,e),t}Sn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function fs(e,t,n){const r=uo(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(us(e))return Sn(e,{from:t,to:n,d:1});const a=e.l,o=e.r;if(uo(n,e.from)<0)return a?fs(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},ps(e);if(uo(t,e.to)>0)return o?fs(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},ps(e);uo(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),uo(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;a&&!e.l&&hs(e,a),o&&s&&hs(e,o)}function hs(e,t){us(t)||function e(t,n){let{from:r,to:a,l:o,r:s}=n;fs(t,r,a),o&&e(t,o),s&&e(t,s)}(e,t)}function ms(e){let t=us(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&uo(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||uo(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ps(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){const t="r"===a?"l":"r",n={...e},r=e[a];e.from=r.from,e.to=r.to,e[a]=r[a],n[a]=r[t],e[t]=n,n.d=gs(n)}e.d=gs(e)}function gs(e){let{r:t,l:n}=e;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}Pn(ds.prototype,{add(e){return hs(this,e),this},addKey(e){return fs(this,e,e),this},addKeys(e){return e.forEach((e=>fs(this,e,e))),this},[er](){return ms(this)}});const vs={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new ds(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const a=e.table(r),{schema:o}=a,{primaryKey:s}=o,{extractKey:i,outbound:l}=s,c={...a,mutate:e=>{const s=e.trans,i=s.mutatedParts||(s.mutatedParts={}),l=e=>{const n="idb://".concat(t,"/").concat(r,"/").concat(e);return i[n]||(i[n]=new ds)},c=l(""),u=l(":dels"),{type:d}=e;let[f,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return a.mutate(e).then((e=>{if(En(f)){"delete"!==d&&(f=e.results),c.addKeys(f);const t=ls(f,m);t||"add"===d||u.addKeys(f),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){const a=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&En(e)?e.forEach((e=>a.addKey(e))):a.addKey(e);(n||r).forEach(((e,t)=>{const a=n&&o(n[t]),i=r&&o(r[t]);0!==uo(a,i)&&(null!=a&&s(a),null!=i&&s(i))}))}))}(l,o,t,h)}else if(f){const e={from:f.lower,to:f.upper};u.add(e),c.add(e)}else c.add(n),u.add(n),o.indexes.forEach((e=>l(e.name).add(n)));return e}))}},u=t=>{let{query:{index:n,range:r}}=t;var a,o;return[n,new ds(null!==(a=r.lower)&&void 0!==a?a:e.MIN_KEY,null!==(o=r.upper)&&void 0!==o?o:e.MAX_KEY)]},d={get:e=>[s,new ds(e.key)],getMany:e=>[s,(new ds).addKeys(e.keys)],count:u,query:u,openCursor:u};return Nn(d).forEach((e=>{c[e]=function(o){const{subscr:s}=Yr;if(s){const c=e=>{const n="idb://".concat(t,"/").concat(r,"/").concat(e);return s[n]||(s[n]=new ds)},u=c(""),f=c(":dels"),[h,m]=d[e](o);if(c(h.name||"").add(m),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&o.values&&a.query({...o,values:!1});return a[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&o.values)return t.then((e=>{let{result:t}=e;return u.addKeys(t),n}));const e=o.values?n.result.map(i):n.result;o.values?u.addKeys(e):f.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(f.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return f.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}f.add(n)}}return a[e].apply(this,arguments)}})),c}}}};class bs{constructor(e,t){this._middlewares={},this.verno=0;const n=bs.dependencies;this._options=t={addons:bs.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:jr,dbReadyPromise:null,cancelOpen:jr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;a.dbReadyPromise=new ea((e=>{a.dbReadyResolve=e})),a.openCanceller=new ea(((e,t)=>{a.cancelOpen=t})),this._state=a,this.name=e,this.on=to(this,"populate","blocked","versionchange","close",{ready:[Rr,jr]}),this.on.ready.subscribe=Dn(this.on.ready.subscribe,(e=>(t,n)=>{bs.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||ea.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,no(mo.prototype,(function(e,t){this.db=o;let n=Xa,r=null;if(t)try{n=t()}catch(e){r=e}const a=e._ctx,s=a.table,i=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:a.or,valueMapper:i!==Nr?i:null}}))),this.Table=function(e){return no(eo.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:to(null,{creating:[Cr,jr],reading:[Er,Nr],updating:[Tr,jr],deleting:[_r,jr]})}))}(this),this.Transaction=function(e){return no(Po.prototype,(function(t,n,r,a,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=to(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ea(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),za(e)}))}))}(this),this.Version=function(e){return no(Yo.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return no(No.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const a=e._deps.indexedDB;if(!a)throw new wr.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(e,t)=>a.cmp(t,e),this._max=(e,t)=>a.cmp(e,t)>0?e:t,this._min=(e,t)=>a.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Ao(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),Wa.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(os),this.use(is),this.use(vs),this.use(cs),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new wr.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new wr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Wo),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Yr.letThrough||this._vip)?e():new ea(((e,t)=>{if(this._state.openComplete)return t(new wr.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new wr.DatabaseClosed);this.open().catch(jr)}this._state.dbReadyPromise.then(e,t)})).then(e)}use(e){let{stack:t,create:n,level:r,name:a}=e;a&&this.unuse({stack:t,name:a});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:null==r?10:r,name:a}),o.sort(((e,t)=>e.level-t.level)),this}unuse(e){let{stack:t,name:n,create:r}=e;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((e=>r?e.create!==r:!!n&&e.name!==n))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?za(t.dbOpenError):e));or&&(t.openCanceller._stackHolder=cr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function a(){if(t.openCanceller!==r)throw new wr.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,i=!1;return ea.race([r,("undefined"==typeof navigator?ea.resolve():es()).then((()=>new ea(((r,o)=>{if(a(),!n)throw new wr.MissingAPI;const l=e.name,c=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!c)throw new wr.MissingAPI;c.onerror=Eo(o),c.onblocked=pa(e._fireOnBlocked),c.onupgradeneeded=pa((r=>{if(s=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=So,s.abort(),c.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=pa((()=>{o(new wr.NoSuchDatabase("Database ".concat(l," doesnt exist")))}))}else{s.onerror=Eo(o);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;i=a<1,e._novip.idbdb=c.result,Ho(e,a/10,s,o)}}),o),c.onsuccess=pa((()=>{s=null;const n=e._novip.idbdb=c.result,a=Ln(n.objectStoreNames);if(a.length>0)try{const r=n.transaction(1===(o=a).length?o[0]:o,"readonly");t.autoSchema?function(e,t,n){let{_novip:r}=e;r.verno=t.version/10;const a=r._dbSchema=Qo(0,t,n);r._storeNames=Ln(t.objectStoreNames,0),Ko(r,[r._allTables],Nn(a),a)}(e,n,r):($o(e,e._dbSchema,r),function(e,t){const n=qo(Qo(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Fo(e,r)}catch(e){}var o;Wa.push(e),n.onversionchange=pa((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=pa((t=>{e.on("close").fire(t)})),i&&function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!Xo(n)&&t!==Qa&&Jo(n,r).put({name:t}).catch(jr)}(e._deps,l),r()}),o)}))))]).then((()=>(a(),t.onReadyBeingFired=[],ea.resolve(Zo((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Rr,jr);return t.onReadyBeingFired=[],ea.resolve(Zo((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{s&&s.abort()}catch(e){}return r===t.openCanceller&&e._close(),za(n)})).finally((()=>{t.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=Wa.indexOf(this);if(t>=0&&Wa.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new ea((t=>{e.dbReadyResolve=t})),e.openCanceller=new ea(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new wr.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new ea(((n,r)=>{const a=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=pa((()=>{!function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!Xo(n)&&t!==Qa&&Jo(n,r).delete(t).catch(jr)}(this._deps,this.name),n()})),e.onerror=Eo(r),e.onblocked=this._fireOnBlocked};if(e)throw new wr.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(a):a()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Nn(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=ns.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Yr.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const a=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===$a)o=$a;else{if("rw"!=e&&e!=Ya)throw new wr.InvalidArgument("Invalid transaction mode: "+e);o=Ya}if(r){if(r.mode===$a&&o===Ya){if(!a)throw new wr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!a)throw new wr.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),a&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):za(e)}const i=rs.bind(null,this,o,s,r,n);return r?r._promise(o,i,"lock"):Yr.trans?Pa(Yr.transless,(()=>this._whenReady(i))):this._whenReady(i)}table(e){if(!Tn(this._allTables,e))throw new wr.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const ys="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class ws{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[ys](){return this}}function xs(e,t){return Nn(t).forEach((n=>{hs(e[n]||(e[n]=new ds),t[n])})),e}function ks(e){let t,n=!1;const r=new ws((r=>{const a=ar(e);let o=!1,s={},i={};const l={get closed(){return o},unsubscribe:()=>{o=!0,To.storagemutated.unsubscribe(f)}};r.start&&r.start(l);let c=!1,u=!1;function d(){return Nn(i).some((e=>s[e]&&function(e,t){const n=ms(t);let r=n.next();if(r.done)return!1;let a=r.value;const o=ms(e);let s=o.next(a.from),i=s.value;for(;!r.done&&!s.done;){if(uo(i.from,a.to)<=0&&uo(i.to,a.from)>=0)return!0;uo(a.from,i.from)<0?a=(r=n.next(i.from)).value:i=(s=o.next(a.from)).value}return!1}(s[e],i[e])))}const f=e=>{xs(s,e),d()&&h()},h=()=>{if(c||o)return;s={};const m={},p=function(t){a&&ja();const n=()=>ka(e,{subscr:t,trans:null}),r=Yr.trans?Pa(Yr.transless,n):n();return a&&r.then(Na,Na),r}(m);u||(To(Co,f),u=!0),c=!0,Promise.resolve(p).then((e=>{n=!0,t=e,c=!1,o||(d()?h():(s={},i=m,r.next&&r.next(e)))}),(e=>{c=!1,n=!1,r.error&&r.error(e),l.unsubscribe()}))};return h(),l}));return r.hasValue=()=>n,r.getValue=()=>t,r}let js;try{js={indexedDB:jn.indexedDB||jn.mozIndexedDB||jn.webkitIndexedDB||jn.msIndexedDB,IDBKeyRange:jn.IDBKeyRange||jn.webkitIDBKeyRange}}catch(jn){js={indexedDB:null,IDBKeyRange:null}}const Ns=bs;function Es(e){let t=Ss;try{Ss=!0,To.storagemutated.fire(e)}finally{Ss=t}}Pn(Ns,{...kr,delete:e=>new Ns(e,{addons:[]}).delete(),exists:e=>new Ns(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function(e){let{indexedDB:t,IDBKeyRange:n}=e;return Xo(t)?Promise.resolve(t.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Qa)))):Jo(t,n).toCollection().primaryKeys()}(Ns.dependencies).then(e)}catch(e){return za(new wr.MissingAPI)}},defineClass:()=>function(e){Sn(this,e)},ignoreTransaction:e=>Yr.trans?Pa(Yr.transless,e):e(),vip:Zo,async:function(e){return function(){try{var t=ts(e.apply(this,arguments));return t&&"function"==typeof t.then?t:ea.resolve(t)}catch(e){return za(e)}}},spawn:function(e,t,n){try{var r=ts(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:ea.resolve(r)}catch(e){return za(e)}},currentTransaction:{get:()=>Yr.trans||null},waitFor:function(e,t){const n=ea.resolve("function"==typeof e?Ns.ignoreTransaction(e):e).timeout(t||6e4);return Yr.trans?Yr.trans.waitFor(n):n},Promise:ea,debug:{get:()=>or,set:e=>{sr(e,"dexie"===e?()=>!0:Ga)}},derive:On,extend:Sn,props:Pn,override:Dn,Events:to,on:To,liveQuery:ks,extendObservabilitySet:xs,getByKeyPath:Un,setByKeyPath:Wn,delByKeyPath:function(e,t){"string"==typeof t?Wn(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Wn(e,t,void 0)}))},shallowClone:Hn,deepClone:Yn,getObjectDiff:ss,cmp:uo,asap:Fn,minKey:Fa,addons:[],connections:Wa,errnames:br,dependencies:js,semVer:Da,version:Da.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Ns.maxKey=Ao(Ns.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(To(Co,(e=>{if(!Ss){let t;Ha?(t=document.createEvent("CustomEvent"),t.initCustomEvent(_o,!0,!0,e)):t=new CustomEvent(_o,{detail:e}),Ss=!0,dispatchEvent(t),Ss=!1}})),addEventListener(_o,(e=>{let{detail:t}=e;Ss||Es(t)})));let Ss=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(_o);"function"==typeof e.unref&&e.unref(),To(Co,(t=>{Ss||e.postMessage(t)})),e.onmessage=e=>{e.data&&Es(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){To(Co,(e=>{try{Ss||("undefined"!=typeof localStorage&&localStorage.setItem(_o,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:_o,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===_o){const t=JSON.parse(e.newValue);t&&Es(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function(e){let{data:t}=e;t&&t.type===_o&&Es(t.changedParts)}))}ea.rejectionMapper=function(e,t){if(!e||e instanceof mr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!xr[e.name])return e;var n=new xr[e.name](t||e.message,e);return"stack"in e&&In(n,"stack",{get:function(){return this.inner.stack}}),n},sr(or,Ga);const Cs=e=>de(Ce(he(e))),_s=e=>e,Ts=(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>Array.isArray(e)?Ts(e,t[n]):e===t[n])),Ps=e=>{let t,n=0;return function(){if(0===n){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=e.apply(null,a),n++}return t}},Rs=(e,t,n)=>{const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cannot copy value to clipboard";return new Promise(((n,r)=>{e.select();const a=document.execCommand&&document.execCommand("copy");e.blur(),a?n(a):r(new Error(t))}))};return!navigator.clipboard&&t?r(t):navigator.clipboard.writeText(e).then((()=>!0)).catch((e=>{if(t)return r(t,n);throw e}))},Is={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},Os=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),As=function(e){const t=e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now());for(let n of Object.keys(Is)){const e=Is[n];if(Math.abs(t)>e)return Os.format(Math.round(t/e),n)}return Os.format(Math.round(t/Is.second),"second")},Ms=(e,t)=>{e.scrollBy({top:e.scrollHeight,behavior:"smooth",...t})};let zs=function(e){return e.e="e",e.p="p",e}({}),Ls=function(e){return e.EVENT="EVENT",e.REQ="REQ",e.CLOSE="CLOSE",e}({});const Ds=e=>[Ls.EVENT,e];let Bs=function(e){return e.EVENT="EVENT",e.NOTICE="NOTICE",e}({});const Fs=()=>({kind:255,pubkey:"",content:"",tags:[],created_at:0}),Ks=e=>{const t=e,n={id:Us(t),...t};return Hs(n)},Us=e=>{return Cs(JSON.stringify([0,(t=e).pubkey,t.created_at,t.kind,t.tags,t.content]));var t},Ws=e=>{try{return!!Hs(e)}catch(t){return!1}},Hs=e=>{if(e.id!==Us(e))throw new Error("Invalid event: id");if("string"!==typeof e.content)throw new Error("Invalid event: content");if("number"!==typeof e.created_at)throw new Error("Invalid event: created_at");if(!Array.isArray(e.tags))throw new Error("Invalid event: tags");for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))throw new Error("Invalid event: tag");for(let e=0;e<n.length;e++)if("object"===typeof n[e])throw new Error("Invalid event: tag type")}return e},qs=(e,t)=>{const n=Vs(e,t);return{...e,sig:n}},Vs=(e,t)=>de(ne.signSync(Us(e),t)),Gs=e=>ne.verifySync(e.sig,e.id,e.pubkey);class Qs{constructor(){this.incomingEvent=void 0,this.incomingNotice=void 0;const e=bs.Events(this);this.incomingEvent=e.addEventType(Bs.EVENT),this.incomingNotice=e.addEventType(Bs.NOTICE)}_handler(e){switch(e){case Bs.EVENT:return this.incomingEvent;case Bs.NOTICE:return this.incomingNotice;default:throw new Error("Cannot handle event type")}}on(e,t,n){let{signal:r}=n;const a=this._handler(e);a.subscribe(t),r.addEventListener("abort",(e=>a.unsubscribe(t)))}emit(e,t){return this._handler(e).fire(new CustomEvent(e,{bubbles:!1,cancelable:!1,composed:!1,detail:t}))}}class $s{constructor(){this.outgoingEvent=void 0,this.outgoingClose=void 0,this.outgoingReq=void 0;const e=bs.Events(this);this.outgoingEvent=e.addEventType(Ls.EVENT),this.outgoingClose=e.addEventType(Ls.CLOSE),this.outgoingReq=e.addEventType(Ls.REQ)}_handler(e){switch(e){case Ls.EVENT:return this.outgoingEvent;case Ls.CLOSE:return this.outgoingClose;case Ls.REQ:return this.outgoingReq;default:throw new Error("Cannot handle event type")}}on(e,t,n){let{signal:r}=n;const a=this._handler(e);a.subscribe(t),r.addEventListener("abort",(e=>a.unsubscribe(t)))}emit(e,t){return this._handler(e).fire(new CustomEvent(e,{bubbles:!1,cancelable:!1,composed:!1,detail:t}))}}class Ys{constructor(e){this.maxEvents=10,this._state={latest:null,order:[],events:{}},e&&(this._state=e)}state(){return{...this._state}}add(e){if(!e)throw new Error("Event cannot be added");const t=this._state.order.slice(0,this.maxEvents-1),n=t.map((e=>this._state.events[e])).reduce(((e,t)=>({...e,...t})),{});return new Ys({latest:{...e},order:[e.id,...t],events:{...n,[e.id]:e}})}}const Js=(0,Te.createContext)(void 0),Xs=e=>{let{children:t}=e;const n=wn(),[r,a]=(0,Te.useState)(null),[o,s]=(0,Te.useState)(null),[i,l]=(0,Te.useState)(new Ys);return(0,Te.useEffect)((()=>{if(!n)return a(null),void s(null);l(new Ys);const e=new AbortController,t=Ps((()=>{const t=new Qs;return n.addEventListener("message",(n=>{const r=JSON.parse(n.data);if(!Array.isArray(r)||3!==r.length)return;if(r[0]!==Bs.EVENT)return;const a=r[2];Ws(a)&&Gs(a)?(console.debug("[Nostr] <- ",r),e.signal.aborted||(l((e=>e.add(a))),t.emit(Bs.EVENT,r))):console.warn("[Nostr] Invalid incoming event from relay - wont emit on internal event bus")}),{signal:e.signal}),t}));a((e=>t()));const r=Ps((()=>{const t=new $s;return t.on(Ls.EVENT,(t=>{if(!n)return void console.warn("Websocket not ready yet");if(t.type!==Ls.EVENT)return;const r=t.detail,a=r[1];Ws(a)&&Gs(a)?(console.debug("[Nostr] -> ",r),!e.signal.aborted&&xn(n,r,{signal:e.signal})):console.warn("[Nostr] Invalid outgoing event from internal event bus - wont emit to relay")}),{signal:e.signal}),t.on(Ls.REQ,(t=>{if(!n)return void console.warn("Websocket not ready yet");if(t.type!==Ls.REQ)return;const r=t.detail;console.debug("[Nostr] -> ",r),!e.signal.aborted&&xn(n,r,{signal:e.signal})}),{signal:e.signal}),t.on(Ls.CLOSE,(t=>{if(!n)return void console.warn("Websocket not ready yet");if(t.type!==Ls.CLOSE)return;const r=t.detail;console.debug("[Nostr] -> ",r),!e.signal.aborted&&xn(n,r,{signal:e.signal})}),{signal:e.signal}),t}));return s((e=>r())),()=>{e.abort(),a(null),s(null)}}),[n]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Js.Provider,{value:{incoming:r,outgoing:o,incomingBuffer:i},children:t})})},Zs=()=>{const e=(0,Te.useContext)(Js);if(void 0===e)throw new Error("useIncomingNostrEvents must be used within a NostrEventsProvider");return e.incoming},ei=()=>{const e=(0,Te.useContext)(Js);if(void 0===e)throw new Error("useIncomingNostrEventsBuffer must be used within a NostrEventsProvider");return e.incomingBuffer},ti=()=>{const e=(0,Te.useContext)(Js);if(void 0===e)throw new Error("useOutgoingNostrEvents must be used within a NostrEventsProvider");return e.outgoing};const ni=new class extends bs{constructor(){super("app_nostr"),this.nostr_events=void 0,this.nostr_event_refs=void 0,this.version(3).stores({nostr_events:"&id, pubkey, created_at",nostr_event_refs:"&sourceId, *targetIds"})}},ri=(0,Te.createContext)(void 0),ai=e=>{let{children:t}=e;const n=Zs();return(0,Te.useEffect)((()=>{if(!n)return;const e=new AbortController;return n.on(Bs.EVENT,(e=>{if(e.type!==Bs.EVENT)return;const t=e.detail[2];ni.transaction("rw",ni.nostr_events,ni.nostr_event_refs,(()=>ni.nostr_events.put(t).then((e=>(console.debug("added event",e),e))).then((e=>{const n=t.tags.filter((e=>e&&"e"===e[0])).map((e=>e[1])),r={sourceId:t.id,targetIds:n};return ni.nostr_event_refs.put(r)})).then((e=>(console.debug("added event refs",e),e))).catch((e=>console.debug("error while adding event - might already exist",e)))))}),{signal:e.signal}),()=>e.abort()}),[n]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(ri.Provider,{value:{db:ni},children:t})})},oi=(0,Te.createContext)(void 0),si=(e,t)=>{const n={close:[],refresh:[],add:[]};return console.debug("[Subscription] new subs",t),Object.entries(t).forEach((t=>{let[r,a]=t;void 0===e[r]?n.add.push(a):((e,t)=>JSON.stringify(e)===JSON.stringify(t))(e[r].filters,a.filters)||(0===a.filters.length?n.close.push(a):n.refresh.push(a))})),Object.entries(e).forEach((e=>{let[r,a]=e;void 0===t[r]&&n.close.push(a)})),console.debug("[Subscription] new subs results in ",n),n},ii=si({},{}),li={},ci=e=>{let{children:t}=e;const n=ti(),[r,a]=(0,Te.useState)(li),[o,s]=(0,Te.useState)(li),[i,l]=(0,Te.useState)(ii),c=(0,Te.useCallback)((e=>{console.debug("[Subscription] updateSubscription",e),s((t=>0===e.filters.length?(console.debug("[Subscription] removing",e.id),Object.fromEntries(Object.entries(t).filter((t=>{let[n,r]=t;return n!==e.id})))):(console.debug("[Subscription] adding",e.id),Object.fromEntries(Object.entries({...t,[e.id]:e}).sort()))))}),[]);return(0,Te.useEffect)((()=>{n&&a(li)}),[n]),(0,Te.useEffect)((()=>{if(console.debug("[Subscription] new",o),!n)return;if(r===o)return;const e=si(r,o);a(o),l(e)}),[n,r,o]),(0,Te.useEffect)((()=>{console.debug("[Subscription] update",i),n&&i!==ii&&(i.close.forEach((e=>{console.debug("[Subscription] close",e),n.emit(Ls.CLOSE,(e=>[Ls.CLOSE,e])(e.id))})),[...i.refresh,...i.add].forEach((e=>{console.debug("[Subscription] add",e),n.emit(Ls.REQ,((e,t)=>[Ls.REQ,e,...t])(e.id,e.filters))})))}),[n,i]),(0,sn.jsx)(oi.Provider,{value:{updateSubscription:c},children:t})},ui=()=>{const e=(0,Te.useContext)(oi);if(void 0===e)throw new Error("useUpdateSubscription must be used within a NostrSubscriptionsProvider");return e.updateSubscription};var di=n(773);const fi="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",hi=["1-0","0-1","1/2-1/2","*"],mi={b:[16,32,17,15],w:[-16,-32,-17,-15]},pi={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},gi=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],vi=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],bi={p:0,n:1,b:2,r:3,q:4,k:5},yi={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},wi={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},xi={w:[{square:wi.a1,flag:yi.QSIDE_CASTLE},{square:wi.h1,flag:yi.KSIDE_CASTLE}],b:[{square:wi.a8,flag:yi.QSIDE_CASTLE},{square:wi.h8,flag:yi.KSIDE_CASTLE}]};function ki(e){var t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return Ai}return"o"===(t=t.toLowerCase())?zi:t}function ji(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function Ni(e){return e>>4}function Ei(e){return 15&e}function Si(e){var t=Ei(e),n=Ni(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Ci(e){return e===Ii?Ri:Ii}function _i(e){return-1!=="0123456789".indexOf(e)}function Ti(e){var t=e instanceof Array?[]:{};for(var n in e)t[n]="object"===typeof n?Ti(e[n]):e[n];return t}function Pi(e){return e.replace(/^\s+|\s+$/g,"")}const Ri="b",Ii="w",Oi=-1,Ai="p",Mi="b",zi="k",Li=function(){for(var e=[],t=wi.a8;t<=wi.h1;t++)136&t?t+=7:e.push(Si(t));return e}(),Di={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},Bi=function(e){var t=new Array(128),n={w:Oi,b:Oi},r=Ii,a={w:0,b:0},o=Oi,s=0,i=1,l=[],c={},u={};function d(e){"undefined"===typeof e&&(e=!1),t=new Array(128),n={w:Oi,b:Oi},r=Ii,a={w:0,b:0},o=Oi,s=0,i=1,l=[],e||(c={}),u={},b(g())}function f(){for(var e=[],t={},n=function(e){e in u&&(t[e]=u[e])};l.length>0;)e.push(I());for(n(g());e.length>0;)R(e.pop()),n(g());u=t}function h(){m(fi)}function m(e,t){"undefined"===typeof t&&(t=!1);var n=e.split(/\s+/),l=n[0],c=0;if(!p(e).valid)return!1;d(t);for(var u=0;u<l.length;u++){var f=l.charAt(u);if("/"===f)c+=8;else if(_i(f))c+=parseInt(f,10);else{var h=f<"a"?Ii:Ri;w({type:f.toLowerCase(),color:h},Si(c)),c++}}return r=n[1],n[2].indexOf("K")>-1&&(a.w|=yi.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(a.w|=yi.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(a.b|=yi.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(a.b|=yi.QSIDE_CASTLE),o="-"===n[3]?Oi:wi[n[3]],s=parseInt(n[4],10),i=parseInt(n[5],10),b(g()),!0}function p(e){var t="No errors.",n="FEN string must contain six space-delimited fields.",r="6th field (move number) must be a positive integer.",a="5th field (half move counter) must be a non-negative integer.",o="4th field (en-passant square) is invalid.",s="3rd field (castling availability) is invalid.",i="2nd field (side to move) is invalid.",l="1st field (piece positions) does not contain 8 '/'-delimited rows.",c="1st field (piece positions) is invalid [consecutive numbers].",u="1st field (piece positions) is invalid [invalid piece].",d="1st field (piece positions) is invalid [row too large].",f="Illegal en-passant square",h=e.split(/\s+/);if(6!==h.length)return{valid:!1,error_number:1,error:n};if(isNaN(parseInt(h[5]))||parseInt(h[5],10)<=0)return{valid:!1,error_number:2,error:r};if(isNaN(parseInt(h[4]))||parseInt(h[4],10)<0)return{valid:!1,error_number:3,error:a};if(!/^(-|[abcdefgh][36])$/.test(h[3]))return{valid:!1,error_number:4,error:o};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(h[2]))return{valid:!1,error_number:5,error:s};if(!/^(w|b)$/.test(h[1]))return{valid:!1,error_number:6,error:i};var m=h[0].split("/");if(8!==m.length)return{valid:!1,error_number:7,error:l};for(var p=0;p<m.length;p++){for(var g=0,v=!1,b=0;b<m[p].length;b++)if(isNaN(m[p][b])){if(!/^[prnbqkPRNBQK]$/.test(m[p][b]))return{valid:!1,error_number:9,error:u};g+=1,v=!1}else{if(v)return{valid:!1,error_number:8,error:c};g+=parseInt(m[p][b],10),v=!0}if(8!==g)return{valid:!1,error_number:10,error:d}}return"3"==h[3][1]&&"w"==h[1]||"6"==h[3][1]&&"b"==h[1]?{valid:!1,error_number:11,error:f}:{valid:!0,error_number:0,error:t}}function g(){for(var e=0,n="",l=wi.a8;l<=wi.h1;l++){if(null==t[l])e++;else{e>0&&(n+=e,e=0);var c=t[l].color,u=t[l].type;n+=c===Ii?u.toUpperCase():u.toLowerCase()}l+1&136&&(e>0&&(n+=e),l!==wi.h1&&(n+="/"),e=0,l+=8)}var d="";a[Ii]&yi.KSIDE_CASTLE&&(d+="K"),a[Ii]&yi.QSIDE_CASTLE&&(d+="Q"),a[Ri]&yi.KSIDE_CASTLE&&(d+="k"),a[Ri]&yi.QSIDE_CASTLE&&(d+="q"),d=d||"-";var f=o===Oi?"-":Si(o);return[n,r,d,f,s,i].join(" ")}function v(e){for(var t=0;t<e.length;t+=2)"string"===typeof e[t]&&"string"===typeof e[t+1]&&(c[e[t]]=e[t+1]);return c}function b(e){l.length>0||(e!==fi?(c.SetUp="1",c.FEN=e):(delete c.SetUp,delete c.FEN))}function y(e){var n=t[wi[e]];return n?{type:n.type,color:n.color}:null}function w(e,r){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(r in wi))return!1;var a=wi[r];return(e.type!=zi||n[e.color]==Oi||n[e.color]==a)&&(t[a]={type:e.type,color:e.color},e.type===zi&&(n[e.color]=a),b(g()),!0)}function x(e,t,n,a,o){var s={color:r,from:t,to:n,flags:a,piece:e[t].type};return o&&(s.flags|=yi.PROMOTION,s.promotion=o),e[n]?s.captured=e[n].type:a&yi.EP_CAPTURE&&(s.captured=Ai),s}function k(e){function s(e,t,n,r,a){if(e[n].type!==Ai||0!==Ni(r)&&7!==Ni(r))t.push(x(e,n,r,a));else for(var o=["q","r",Mi,"n"],s=0,i=o.length;s<i;s++)t.push(x(e,n,r,a,o[s]))}var i=[],l=r,c=Ci(l),u={b:1,w:6},d=wi.a8,f=wi.h1,h=!1,m="undefined"===typeof e||!("legal"in e)||e.legal,p="undefined"===typeof e||!("piece"in e)||"string"!==typeof e.piece||e.piece.toLowerCase();if("undefined"!==typeof e&&"square"in e){if(!(e.square in wi))return[];d=f=wi[e.square],h=!0}for(var g=d;g<=f;g++)if(136&g)g+=7;else{var v=t[g];if(null!=v&&v.color===l)if(v.type!==Ai||!0!==p&&p!==Ai){if(!0===p||p===v.type)for(var b=0,y=pi[v.type].length;b<y;b++){var w=pi[v.type][b];for(k=g;!(136&(k+=w));){if(null!=t[k]){if(t[k].color===l)break;s(t,i,g,k,yi.CAPTURE);break}if(s(t,i,g,k,yi.NORMAL),"n"===v.type||"k"===v.type)break}}}else{var k=g+mi[l][0];if(null==t[k]){s(t,i,g,k,yi.NORMAL);var k=g+mi[l][1];u[l]===Ni(g)&&null==t[k]&&s(t,i,g,k,yi.BIG_PAWN)}for(b=2;b<4;b++){136&(k=g+mi[l][b])||(null!=t[k]&&t[k].color===c?s(t,i,g,k,yi.CAPTURE):k===o&&s(t,i,g,o,yi.EP_CAPTURE))}}}if((!0===p||p===zi)&&(!h||f===n[l])){if(a[l]&yi.KSIDE_CASTLE){var j=(S=n[l])+2;null!=t[S+1]||null!=t[j]||N(c,n[l])||N(c,S+1)||N(c,j)||s(t,i,n[l],j,yi.KSIDE_CASTLE)}if(a[l]&yi.QSIDE_CASTLE){var S;j=(S=n[l])-2;null!=t[S-1]||null!=t[S-2]||null!=t[S-3]||N(c,n[l])||N(c,S-1)||N(c,j)||s(t,i,n[l],j,yi.QSIDE_CASTLE)}}if(!m)return i;var C=[];for(g=0,y=i.length;g<y;g++)R(i[g]),E(l)||C.push(i[g]),I();return C}function j(e,t){var n="";if(e.flags&yi.KSIDE_CASTLE)n="O-O";else if(e.flags&yi.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==Ai){var r=function(e,t){for(var n=e.from,r=e.to,a=e.piece,o=0,s=0,i=0,l=0,c=t.length;l<c;l++){var u=t[l].from,d=t[l].to;a===t[l].piece&&n!==u&&r===d&&(o++,Ni(n)===Ni(u)&&s++,Ei(n)===Ei(u)&&i++)}return o>0?s>0&&i>0?Si(n):i>0?Si(n).charAt(1):Si(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(yi.CAPTURE|yi.EP_CAPTURE)&&(e.piece===Ai&&(n+=Si(e.from)[0]),n+="x"),n+=Si(e.to),e.flags&yi.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return R(e),S()&&(C()?n+="#":n+="+"),I(),n}function N(e,n){for(var r=wi.a8;r<=wi.h1;r++)if(136&r)r+=7;else if(null!=t[r]&&t[r].color===e){var a=t[r],o=r-n,s=o+119;if(gi[s]&1<<bi[a.type]){if(a.type===Ai){if(o>0){if(a.color===Ii)return!0}else if(a.color===Ri)return!0;continue}if("n"===a.type||"k"===a.type)return!0;for(var i=vi[s],l=r+i,c=!1;l!==n;){if(null!=t[l]){c=!0;break}l+=i}if(!c)return!0}}return!1}function E(e){return N(Ci(e),n[e])}function S(){return E(r)}function C(){return S()&&0===k().length}function _(){return!S()&&0===k().length}function T(){for(var e={},n=[],r=0,a=0,o=wi.a8;o<=wi.h1;o++)if(a=(a+1)%2,136&o)o+=7;else{var s=t[o];s&&(e[s.type]=s.type in e?e[s.type]+1:1,s.type===Mi&&n.push(a),r++)}if(2===r)return!0;if(3===r&&(1===e[Mi]||1===e.n))return!0;if(r===e[Mi]+2){var i=0,l=n.length;for(o=0;o<l;o++)i+=n[o];if(0===i||i===l)return!0}return!1}function P(){for(var e=[],t={},n=!1;;){var r=I();if(!r)break;e.push(r)}for(;;){var a=g().split(" ").slice(0,4).join(" ");if(t[a]=a in t?t[a]+1:1,t[a]>=3&&(n=!0),!e.length)break;R(e.pop())}return n}function R(e){var c=r,u=Ci(c);if(function(e){l.push({move:e,kings:{b:n.b,w:n.w},turn:r,castling:{b:a.b,w:a.w},ep_square:o,half_moves:s,move_number:i})}(e),t[e.to]=t[e.from],t[e.from]=null,e.flags&yi.EP_CAPTURE&&(r===Ri?t[e.to-16]=null:t[e.to+16]=null),e.flags&yi.PROMOTION&&(t[e.to]={type:e.promotion,color:c}),t[e.to].type===zi){if(n[t[e.to].color]=e.to,e.flags&yi.KSIDE_CASTLE){var d=e.to-1,f=e.to+1;t[d]=t[f],t[f]=null}else if(e.flags&yi.QSIDE_CASTLE){d=e.to+1,f=e.to-2;t[d]=t[f],t[f]=null}a[c]=""}if(a[c])for(var h=0,m=xi[c].length;h<m;h++)if(e.from===xi[c][h].square&&a[c]&xi[c][h].flag){a[c]^=xi[c][h].flag;break}if(a[u])for(h=0,m=xi[u].length;h<m;h++)if(e.to===xi[u][h].square&&a[u]&xi[u][h].flag){a[u]^=xi[u][h].flag;break}o=e.flags&yi.BIG_PAWN?"b"===r?e.to-16:e.to+16:Oi,e.piece===Ai||e.flags&(yi.CAPTURE|yi.EP_CAPTURE)?s=0:s++,r===Ri&&i++,r=Ci(r)}function I(){var e=l.pop();if(null==e)return null;var c=e.move;n=e.kings,r=e.turn,a=e.castling,o=e.ep_square,s=e.half_moves,i=e.move_number;var u,d,f=r,h=Ci(r);if(t[c.from]=t[c.to],t[c.from].type=c.piece,t[c.to]=null,c.flags&yi.CAPTURE)t[c.to]={type:c.captured,color:h};else if(c.flags&yi.EP_CAPTURE){var m;m=f===Ri?c.to-16:c.to+16,t[m]={type:Ai,color:h}}c.flags&(yi.KSIDE_CASTLE|yi.QSIDE_CASTLE)&&(c.flags&yi.KSIDE_CASTLE?(u=c.to+1,d=c.to-1):c.flags&yi.QSIDE_CASTLE&&(u=c.to-2,d=c.to+1),t[u]=t[d],t[d]=null);return c}function O(e,t){for(var n=ji(e),r=0;r<2;r++){if(1==r){if(!t)return null;var a=!1;if(c=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/)){var o=c[1],s=c[2],i=c[3],l=c[4];1==s.length&&(a=!0)}else{var c;if(c=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/)){o=c[1],s=c[2],i=c[3],l=c[4];if(1==s.length)a=!0}}}for(var u=ki(n),d=k({legal:!0,piece:o||u}),f=0,h=d.length;f<h;f++)switch(r){case 0:if(n===ji(j(d[f],d)))return d[f];break;case 1:if(c){if(!(o&&o.toLowerCase()!=d[f].piece||wi[s]!=d[f].from||wi[i]!=d[f].to||l&&l.toLowerCase()!=d[f].promotion))return d[f];if(a){var m=Si(d[f].from);if((!o||o.toLowerCase()==d[f].piece)&&wi[i]==d[f].to&&(s==m[0]||s==m[1])&&(!l||l.toLowerCase()==d[f].promotion))return d[f]}}}}return null}function A(e){var t=Ti(e);t.san=j(t,k({legal:!0})),t.to=Si(t.to),t.from=Si(t.from);var n="";for(var r in yi)yi[r]&t.flags&&(n+=Di[r]);return t.flags=n,t}function M(e){for(var t=k({legal:!1}),n=0,a=r,o=0,s=t.length;o<s;o++){if(R(t[o]),!E(a))if(e-1>0)n+=M(e-1);else n++;I()}return n}return m("undefined"===typeof e?fi:e),{load:function(e){return m(e)},reset:function(){return h()},moves:function(e){for(var t=k(e),n=[],r=0,a=t.length;r<a;r++)"undefined"!==typeof e&&"verbose"in e&&e.verbose?n.push(A(t[r])):n.push(j(t[r],k({legal:!0})));return n},in_check:function(){return S()},in_checkmate:function(){return C()},in_stalemate:function(){return _()},in_draw:function(){return s>=100||_()||T()||P()},insufficient_material:function(){return T()},in_threefold_repetition:function(){return P()},game_over:function(){return s>=100||C()||_()||T()||P()},validate_fen:function(e){return p(e)},fen:function(){return g()},board:function(){for(var e=[],n=[],r=wi.a8;r<=wi.h1;r++)null==t[r]?n.push(null):n.push({square:Si(r),type:t[r].type,color:t[r].color}),r+1&136&&(e.push(n),n=[],r+=8);return e},pgn:function(e){var t="object"===typeof e&&"string"===typeof e.newline_char?e.newline_char:"\n",n="object"===typeof e&&"number"===typeof e.max_width?e.max_width:0,r=[],a=!1;for(var o in c)r.push("["+o+' "'+c[o]+'"]'+t),a=!0;a&&l.length&&r.push(t);for(var s=function(e){var t=u[g()];if("undefined"!==typeof t){var n=e.length>0?" ":"";e="".concat(e).concat(n,"{").concat(t,"}")}return e},d=[];l.length>0;)d.push(I());var f=[],h="";for(0===d.length&&f.push(s(""));d.length>0;){h=s(h);var m=d.pop();if(l.length||"b"!==m.color)"w"===m.color&&(h.length&&f.push(h),h=i+".");else{const e="".concat(i,". ...");h=h?"".concat(h," ").concat(e):e}h=h+" "+j(m,k({legal:!0})),R(m)}if(h.length&&f.push(s(h)),"undefined"!==typeof c.Result&&f.push(c.Result),0===n)return r.join("")+f.join(" ");var p=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},v=function(e,a){for(var o of a.split(" "))if(o){if(e+o.length>n){for(;p();)e--;r.push(t),e=0}r.push(o),e+=o.length,r.push(" "),e++}return p()&&e--,e},b=0;for(o=0;o<f.length;o++)b+f[o].length>n&&f[o].includes("{")?b=v(b,f[o]):(b+f[o].length>n&&0!==o?(" "===r[r.length-1]&&r.pop(),r.push(t),b=0):0!==o&&(r.push(" "),b++),r.push(f[o]),b+=f[o].length);return r.join("")},load_pgn:function(e,t){var n="undefined"!==typeof t&&"sloppy"in t&&t.sloppy;function r(e){return e.replace(/\\/g,"\\")}e=e.trim();var a="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",o=new RegExp("^(\\[((?:"+r(a)+")|.)*\\])(?:\\s*"+r(a)+"){2}"),s=o.test(e)?o.exec(e)[1]:"";h();var i=function(e,t){for(var n="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",a={},o=e.split(new RegExp(r(n))),s="",i="",l=0;l<o.length;l++){var c=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;s=o[l].replace(c,"$1"),i=o[l].replace(c,"$2"),Pi(s).length>0&&(a[s]=i)}return a}(s,t),l="";for(var d in i)"fen"===d.toLowerCase()&&(l=i[d]),v([d,i[d]]);if(n){if(l&&!m(l,!0))return!1}else if("1"===i.SetUp&&(!("FEN"in i)||!m(i.FEN,!0)))return!1;for(var f=function(e){return e=e.replace(new RegExp(r(a),"g")," "),"{".concat(function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}(e.slice(1,e.length-1)),"}")},p=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},b=e.replace(s,"").replace(new RegExp("({[^}]*})+?|;([^".concat(r(a),"]*)"),"g"),(function(e,t,n){return void 0!==t?f(t):" "+f("{".concat(n.slice(1),"}"))})).replace(new RegExp(r(a),"g")," "),y=/(\([^\(\)]+\))+?/g;y.test(b);)b=b.replace(y,"");var w=Pi(b=(b=(b=b.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));w=w.join(",").replace(/,,+/g,",").split(",");for(var x="",k="",j=0;j<w.length;j++){var N=p(w[j]);if(void 0===N)if(null==(x=O(w[j],n))){if(!(hi.indexOf(w[j])>-1))return!1;k=w[j]}else k="",R(x);else u[g()]=N}return k&&Object.keys(c).length&&!c.Result&&v(["Result",k]),!0},header:function(){return v(arguments)},turn:function(){return r},move:function(e,t){var n="undefined"!==typeof t&&"sloppy"in t&&t.sloppy,r=null;if("string"===typeof e)r=O(e,n);else if("object"===typeof e)for(var a=k(),o=0,s=a.length;o<s;o++)if(e.from===Si(a[o].from)&&e.to===Si(a[o].to)&&(!("promotion"in a[o])||e.promotion===a[o].promotion)){r=a[o];break}if(!r)return null;var i=A(r);return R(r),i},undo:function(){var e=I();return e?A(e):null},clear:function(){return d()},put:function(e,t){return w(e,t)},get:function(e){return y(e)},ascii(){for(var e="   +------------------------+\n",n=wi.a8;n<=wi.h1;n++){if(0===Ei(n)&&(e+=" "+"87654321"[Ni(n)]+" |"),null==t[n])e+=" . ";else{var r=t[n].type;e+=" "+(t[n].color===Ii?r.toUpperCase():r.toLowerCase())+" "}n+1&136&&(e+="|\n",n+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h"},remove:function(e){return function(e){var r=y(e);return t[wi[e]]=null,r&&r.type===zi&&(n[r.color]=Oi),b(g()),r}(e)},perft:function(e){return M(e)},square_color:function(e){if(e in wi){var t=wi[e];return(Ni(t)+Ei(t))%2===0?"light":"dark"}return null},history:function(e){for(var t=[],n=[],r=("undefined"!==typeof e&&"verbose"in e&&e.verbose);l.length>0;)t.push(I());for(;t.length>0;){var a=t.pop();r?n.push(A(a)):n.push(j(a,k({legal:!0}))),R(a)}return n},get_comment:function(){return u[g()]},set_comment:function(e){u[g()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=u[g()];return delete u[g()],e},get_comments:function(){return f(),Object.keys(u).map((function(e){return{fen:e,comment:u[e]}}))},delete_comments:function(){return f(),Object.keys(u).map((function(e){var t=u[e];return delete u[e],{fen:e,comment:t}}))}}};class Fi{constructor(e){this._source=void 0,this._validMoves=void 0,this._source=e;const t=qi(this._source);this._validMoves=t.map((e=>({value:()=>e[0],source:()=>this._source,target:()=>e[1]})))}source(){return this._source}values(){return this._validMoves}contains(e){const t=this._validMoves.map((e=>e.target().value()));return t.includes(e.value())}}class Ki{constructor(e){if(this._fen=void 0,!Hi(e))throw new Error("Cannot create ValidFen from invalid fen string");this._fen=e}value(){return this._fen}validMoves(){return new Fi(this)}}const Ui=new Bi,Wi=e=>{if(!Ui.load(e.value()))throw new Error("Could not load fen");return Ui},Hi=e=>Ui.validate_fen(e).valid,qi=e=>(e=>Wi(e).moves({verbose:!0}))(e).map((t=>{const n=((e,t)=>{const n=Wi(e);return null===n.move(t)?null:Vi(n.fen())})(e,t);return n?[t,n]:[]})).filter((e=>2===e.length)),Vi=e=>new Ki(e),Gi=e=>e.reduce(((e,t,n,r)=>n%2===0?[...e,r.slice(n,n+2)]:e),[]).map(((e,t)=>1===e.length?"".concat(t+1,". ").concat(e[0]):"".concat(t+1,". ").concat(e[0]," ").concat(e[1]))).join(" "),Qi="Rookr1ncmkasntavrcj8ujv32a98236kgnx5a3cm9cl9kmqpjh0tgyg46qqsfhdp",$i="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Yi=de(Ce($i)),Ji=30,Xi={"#e":[Yi],kinds:[Ji]},Zi=e=>{const t=Cs(e);return Cs(t+Yi)},el=e=>({"#e":[Zi(e)],kinds:[Ji]}),tl=e=>[{ids:[e],kinds:[Ji]},{"#e":[e],kinds:[Ji]}],nl=e=>[{"#e":[e],kinds:[1]}];let rl=function(e){return e[e.Start=0]="Start",e[e.Move=1]="Move",e[e.Chat=2]="Chat",e}({});const al="Rookr",ol=Vi($i);class sl{constructor(){this._children=[]}children(){return this._children}addChild(e){return!!this.isValidSuccessor(e)&&(this._children=[...this._children,e],!0)}isValidSuccessor(e){return this.fen().validMoves().contains(e.fen())}isStart(){return null===this.parent()&&this.fen()===ol&&""===this.pgn()}pgn(){return Gi(this.content().history||[])}}class il extends sl{constructor(e){if(super(),this._event=void 0,this._content=void 0,!pl(e))throw new Error("GameStartMoveEvent can only be created from a GameStartEvent");this._event=e,this._content=JSON.parse(e.content)}source(){return this._event}event(){return this._event}parent(){return null}content(){return this._content}fen(){return ol}}class ll extends sl{constructor(e,t){super(),this._event=void 0,this._parent=void 0,this._content=void 0,this._fen=void 0;const n=JSON.parse(e.content);if(n.history[n.history.length-1]!==n.move)throw new Error("Invalid content: 'move' is not last entry of 'history'");if(!Ts(t.content().history,n.history.slice(0,n.history.length-1)))throw new Error("History does not match that of parent");if(this._content=n,this._parent=t,this._event=e,this._fen=Vi(n.fen),!t.isValidSuccessor(this))throw new Error("Cannot create from fen that is not a successor")}source(){return this._parent.source()}event(){return this._event}parent(){return this._parent}content(){return this._content}fen(){return this._fen}}const cl=(()=>{const e=Fs();return e.kind=Ji,e.tags=[[zs.e,Yi]],e})(),ul=(e,t)=>{const n={...t,created_at:Math.floor(Date.now()/1e3),content:JSON.stringify({version:"0",kind:rl.Start,history:[],nonce:de(ve(4))}),pubkey:e};return Ks(n)},dl=(e,t)=>ul(e,(e=>{const t=Fs();return t.kind=Ji,t.tags=[[zs.e,Zi(e)]],t})(t)),fl=e=>ul(e,cl),hl=(e,t,n,r)=>{const a=r.history(),o=a&&a[a.length-1]||null,s=Fs();return s.kind=Ji,s.pubkey=e,s.created_at=Math.floor(Date.now()/1e3),s.content=JSON.stringify({version:"0",kind:rl.Move,fen:r.fen(),move:o,history:a}),s.tags=[[zs.e,t],[zs.e,n]],Ks(s)},ml=e=>{try{return JSON.parse(e)}catch(jn){return null}},pl=e=>{const t=e&&e.content&&e.content.startsWith("{")&&ml(e.content)||{};return!!e&&e.kind===Ji&&t&&t.kind===rl.Start&&Ts(t.history,[])},gl=e=>{const t=di.iE.toWords(function(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=fe(e.slice(r,r+2))}return t}(e));return di.iE.encode(al,t)},vl=e=>{const t=di.iE.decode(e);if(t.prefix!==al)throw new Error("Cannot decode RookrId: invalid prefix");const n=di.iE.fromWords(t.words);return de(Uint8Array.of(...n))},bl=e=>{if(!e)return null;if(!1===String(e).startsWith(al+"1"))return null;try{vl(e);return e}catch(jn){return console.debug("Could not parse RookrId from given string"),null}};const yl=new class extends bs{constructor(){super("app_game_events"),this.game_start=void 0,this.game_move=void 0,this.game_chat=void 0,this.version(3).stores({game_start:"&id, pubkey, created_at, *event_tags",game_move:"&id, gameId, parentMoveId, [gameId+moveCounter]",game_chat:"&id, gameId, created_at"})}},wl=(new Bi,(0,Te.createContext)(void 0)),xl=e=>{let{children:t}=e;const n=(()=>{const e=(0,Te.useContext)(ri);if(void 0===e)throw new Error("useNostrStore must be used within a NostrStoreProvider");return e.db})();return(0,Te.useEffect)((()=>{const e=async(e,t,n)=>{pl(t)&&n.on("complete",(async()=>{const e=(t.tags||[]).filter((e=>e[0]===zs.e)).map((e=>e[1])).filter((e=>e!==Yi)),n={...t,event_tags:e};try{const e=await yl.game_start.put(n);console.debug("insert new game_start entry ".concat(e))}catch(jn){console.debug("error while adding game_start - might already exist")}}))};return n.nostr_events.hook("creating",e),()=>{n.nostr_events.hook("creating").unsubscribe(e)}}),[n]),(0,Te.useEffect)((()=>{const e=async(e,t,n)=>{const r=(t.tags||[]).filter((e=>e[0]===zs.e)).map((e=>e[1])),a=r[0];var o,s;o=a,(s=t)&&1===s.kind&&s.tags.filter((e=>e[0]===zs.e)).filter((e=>e[1]===o)).length>0&&n.on("complete",(async()=>{const e={...t,gameId:a};try{const t=await yl.game_chat.put(e);console.debug("insert new game_chat entry ".concat(t))}catch(jn){console.debug("error while adding game_chat - might already exist")}}))};return n.nostr_events.hook("creating",e),()=>{n.nostr_events.hook("creating").unsubscribe(e)}}),[n]),(0,Te.useEffect)((()=>{const e=async(e,t,n)=>{const r=(e=>{const t=e&&e.content&&e.content.startsWith("{")&&ml(e.content)||{};return!!e&&e.kind===Ji&&t&&t.kind===rl.Move&&Array.isArray(t.history)&&t.history.length>0&&2===e.tags.filter((e=>e[0]===zs.e)).length})(t);if(!r)return;const a=(t.tags||[]).filter((e=>e[0]===zs.e)).map((e=>e[1]));if(2!==a.length)return;const o=a[0],s=a[1],i=s===o;n.on("complete",(async()=>{const e=JSON.parse(t.content);await yl.game_move.add({...t,gameId:o,moveCounter:e.history.length,parentMoveId:i?null:s}).then((e=>void 0!==e)).catch((()=>!1))}))};return n.nostr_events.hook("creating",e),()=>{n.nostr_events.hook("creating").unsubscribe(e)}}),[n]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(wl.Provider,{value:{db:yl},children:t})})},kl=()=>{const e=(0,Te.useContext)(wl);if(void 0===e)throw new Error("useGameStore must be used within a GameEventStoreProvider");return e.db};function jl(e,t,n){var r,a;"function"===typeof e?(r=t||[],a=n):(r=[],a=t);var o=Te.useRef({hasResult:!1,result:a,error:null}),s=Te.useReducer((function(e){return e+1}),0);s[0];var i=s[1],l=Te.useMemo((function(){var t="function"===typeof e?e():e;if(!t||"function"!==typeof t.subscribe)throw e===t?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&"undefined"!==typeof window&&("function"!==typeof t.hasValue||t.hasValue()))if("function"===typeof t.getValue)o.current.result=t.getValue(),o.current.hasResult=!0;else{var n=t.subscribe((function(e){o.current.result=e,o.current.hasResult=!0}));"function"===typeof n?n():n.unsubscribe()}return t}),r);if(Te.useDebugValue(o.current.result),Te.useEffect((function(){var e=l.subscribe((function(e){var t=o.current;null===t.error&&t.result===e||(t.error=null,t.result=e,t.hasResult=!0,i())}),(function(e){var t=o.current;t.error!==e&&(t.error=e,i())}));return"function"===typeof e?e:e.unsubscribe.bind(e)}),r),o.current.error)throw o.current.error;return o.current.result}function Nl(e,t,n){return jl((function(){return ks(e)}),t||[],n)}const El=/^bestmove\s([a-h][1-8])([a-h][1-8])/,Sl=/^Total [E|e]valuation:\s(-?\d+\.?\d+)[\s\S]+$/;var Cl=/^info .*\bscore (\w+) (-?\d+)/;const _l=(e,t)=>()=>{let n=!1;const r=new Worker(e);let a=null,o=null;return r.addEventListener("message",(e=>{if(""===e.data)return;const t=e.data.match(El);t&&a&&(a({from:t[1],to:t[2]}),a=null);if(e.data.match(Sl)&&o){const t=parseFloat(e.data.match(Sl)[1]);o({totalEvaluation:t}),o=null}const n=e.data.match(Cl);if(n){var r=parseInt(n[2]),s="cp"===n[1],i="mate"===n[1];let e="";s?e=(r/100).toFixed(2):i&&(e="Mate in "+Math.abs(r))}})),{move:e=>n?Promise.reject(new Error("Bot is already terminated")):new Promise(((n,o)=>{a?o("Pending move is present"):(a=n,r.postMessage("position fen ".concat(e)),t.forEach((e=>r.postMessage(e))))})),eval:e=>n?Promise.reject(new Error("Bot is already terminated")):new Promise(((t,n)=>{if(o)return void n("Pending eval is present");o=t;const a=(e=>{const t=e.history({verbose:!0});let n="";for(let r=0;r<t.length;r++){const e=t[r];n+=" "+e.from+e.to+(e.promotion?e.promotion:"")}return n})(e);r.postMessage("position startpos moves ".concat(a)),r.postMessage("eval")})),terminate:()=>{n||(n=!0,r.terminate())},isTerminated:()=>n}},Tl=_l("/bots/stockfish.js-10.0.2/stockfish.js",[])(),Pl={Alice:_l("/bots/stockfish.js-10.0.2/stockfish.js",["setoption name Skill Level value 1","setoption name Contempt value 0","go depth 1"]),"Risky Alice":_l("/bots/stockfish.js-10.0.2/stockfish.js",["setoption name Skill Level value 1","setoption name Contempt value 21","go depth 1"]),Bob:_l("/bots/stockfish.js-10.0.2/stockfish.js",["setoption name Skill Level value 1","go movetime 1000"]),Rookr:_l("/bots/stockfish.js-10.0.2/stockfish.js",["setoption name Skill Level value 20","setoption name Contempt value 42","go depth 10"]),Chaos:()=>{let e=!1;return{move:e=>new Promise((t=>{const n=new Bi(e).moves({verbose:!0}),{from:r,to:a}=n[Math.floor(Math.random()*n.length)];setTimeout((()=>t({from:r,to:a})),500)})),eval:e=>new Promise(((e,t)=>{t(new Error("I am incapable of evaluating positions. Sorry : /"))})),terminate:()=>{e=!0},isTerminated:()=>e}}},Rl={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}};const Il=()=>de(se.randomPrivateKey()),Ol=e=>de(ne.getPublicKey(e)),Al=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";const r=Math.max(Math.floor(t/2),1);return e.length<=2*r?"".concat(e):"".concat(e.substring(0,r)).concat(n).concat(e.substring(e.length-r))},Ml=function(e){return Al(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...")},zl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.substring(0,t)},Ll=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e.substring(0,al.length)+Al(e.substring(al.length),t)},Dl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.substring(0,t)},Bl=(e,t)=>e+Math.round(Math.random()*(t-e)),Fl=e=>{const t=Cs(e),n=(r=t+t,de(se.hashToPrivateKey(r)));var r;return{privateKey:n,publicKey:Ol(n)}},Kl="Rookr-ui",Ul=e=>{sessionStorage.setItem(Kl,JSON.stringify({...Wl(),...e}))},Wl=()=>{const e=sessionStorage.getItem(Kl),t=e&&JSON.parse(e)||null;return t?{...t}:(Hl(),null)},Hl=()=>sessionStorage.removeItem(Kl),ql={debug:()=>{},info:()=>{},error:()=>{}},Vl=e=>e&&Pl[e]?{name:e,bot:Pl[e]()}:(e=>{try{return{name:e,bot:Pl[e]()}}catch(jn){return ql.error("Could not instantiate bot '".concat(e,"'")),null}})("Risky Alice"),Gl=(0,Te.createContext)(void 0),Ql=e=>{var t;let{children:n}=e;const r=fn(),a=kl(),o=ti(),s=(0,Te.useMemo)((()=>{var e;return(null===(e=r.identity)||void 0===e?void 0:e.pubkey)||null}),[r]),i=(null===(t=Wl())||void 0===t?void 0:t.privateKey)||null,l=(0,Te.useMemo)((()=>i?Fl(i):null),[i]),c=(0,Te.useMemo)((()=>l&&Zi(l.publicKey)),[l]),u=(0,Te.useMemo)((()=>r.currentGameRookrId),[r]),d=(0,Te.useMemo)((()=>r.botName),[r]),[f,h]=(0,Te.useState)(null),[m,p]=(0,Te.useState)(null),[g,v]=(0,Te.useState)(null),[b,y]=(0,Te.useState)(null),w=function(e,t){const[n,r]=(0,Te.useState)(!1),[a,o]=(0,Te.useState)([]),[s,i]=(0,Te.useState)({isThinking:!1,move:null});return(0,Te.useEffect)((()=>{o((e=>{if(null===t||t.game_over())return[];const n=t.fen();return e[e.length-1]===n?e:[...e,n]})),null===t||t.game_over()||Tl.eval(t).then((e=>{Rl.info("[Engine] Evaluation of ".concat(t.fen(),": "),e)})).catch((e=>Rl.warn("[Engine] Error during eval",e)))}),[t]),(0,Te.useEffect)((()=>{if(!e)return;if(n)return;if(0===a.length)return;const t=a[a.length-1],s=new AbortController,l=setTimeout((()=>{s.signal.aborted?Rl.warn("[Bot] '".concat(e.name,"' wanted to search for ").concat(t," - but operation was aborted.")):t!==a[a.length-1]||(r(!0),Rl.info("[Bot] Asking '".concat(e.name,"' for move suggestion to ").concat(t,"...")),e.bot.move(t).then((n=>{let{from:a,to:s}=n;Rl.info("[Bot] '".concat(e.name,"' found move from ").concat(a," to ").concat(s,".")),r(!1),i({isThinking:!1,move:{fen:t,move:{from:a,to:s}}}),o((e=>{const n=e.indexOf(t);if(n<0)return e;const r=[...e];return r.splice(0,n+1),r}))})).catch((e=>Rl.warn("[Bot] Error during move suggestion",e))))}),100);return()=>{s.abort(),clearTimeout(l)}}),[e,a,n]),s}(f,g),[x,k]=(0,Te.useState)(w),j=Nl((async()=>{if(!l)return null;return await a.game_start.where("pubkey").equals(l.publicKey).sortBy("created_at")}),[l],null),N=Nl((async()=>{if(!c)return null;return await a.game_start.where("event_tags").equals(c).toArray()}),[c],null),E=(0,Te.useMemo)((()=>[...j||[],...N||[]]),[j,N]),S=Nl((async()=>{if(!m)return;const e=await a.game_start.get(m);return e||void 0}),[m]),C=Nl((async()=>{if(!m)return[];return await a.game_move.where("gameId").equals(m).sortBy("moveCounter")}),[m],[]);return(0,Te.useEffect)((()=>{h((e=>{if(e){if(e.name===d)return e;e.bot.isTerminated()||e.bot.terminate()}return Vl(d)}))}),[d]),(0,Te.useEffect)((()=>{ql.debug("[Bot] Bot changed to",null===f||void 0===f?void 0:f.name)}),[f]),(0,Te.useEffect)((()=>{if(f&&l&&o&&s&&null!==j&&0===j.length){ql.debug("[Bot TODO] '".concat(null===f||void 0===f?void 0:f.name,"': I have not created any games.."));try{const e=qs(dl(l.publicKey,s),l.privateKey);o.emit(Ls.EVENT,Ds(e)),ql.info("[Bot] Sent event via nostr..",e.id),p(e.id)}catch(jn){ql.error("[Bot] Error while sending start event..",jn)}}}),[f,j,s,l,o]),(0,Te.useEffect)((()=>{null!==E&&0!==E.length?p((e=>{if(!u)return e;const t=vl(u);if(e===t)return e;const n=E.filter((e=>e.id===t)),r=n.length>0?n[0]:null;return null!==r?r.id:e})):p(null)}),[u,E]),(0,Te.useEffect)((()=>{m&&f&&ql.info("[Bot] '".concat(f.name,"': I have a purpose now - playing game ").concat(m))}),[f,m]),(0,Te.useEffect)((()=>{y((e=>S&&0!==C.length?C[C.length-1]:null))}),[S,C]),(0,Te.useEffect)((()=>{if(null===b)return void v(new Bi);const e=new Bi,t=JSON.parse(b.content),n=Gi(t.history);e.load_pgn(n)&&v(e)}),[b]),(0,Te.useEffect)((()=>{k((e=>{var t,n;return(null===(t=e.move)||void 0===t?void 0:t.fen)===(null===(n=w.move)||void 0===n?void 0:n.fen)?e:w}))}),[w]),(0,Te.useEffect)((()=>{if(!o)return;if(!g)return;if(!l)return;if(!S)return;if(!x||!x.move)return;const e=S.pubkey===l.publicKey?"w":"b";if(g.turn()!==e)return;if(g.fen()!==x.move.fen)return;const t=new AbortController,n=(null===b||void 0===b?void 0:b.id)||S.id,r=n===S.id,a=new Bi;if(!r&&!a.load_pgn(g.pgn()))return void ql.error("The current chessboard is not valid.. wtf?");if(!a.move(x.move.move))return void ql.error("The move the bot suggested is somehow invalid?!");const s=(e=>{const t=Bl(2e3,6e3),n=Bl(1e4,15e3),r=e<=Bl(10,20);return e<=1?4:r?Bl(4,t):Bl(t,n)})(a.history().length),i=hl(l.publicKey,S.id,n,a),c=qs(i,l.privateKey);return new Promise((function(e,n){setTimeout((()=>{if(t.signal.aborted)n(new Error("State has been aborted"));else try{o.emit(Ls.EVENT,Ds(c)),e(c)}catch(jn){n(jn)}}),s)})).then((e=>{ql.info("[Bot] Sent event",e)})).catch((e=>{ql.error("[Bot] Could not send nostr event",e)})),()=>{t.abort()}}),[o,x,g,l,S,b]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Gl.Provider,{value:{bot:"Chester"},children:n})})};function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}function Yl(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function Jl(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Xl(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Xl(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Zl(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Xl(e))&&(r&&(r+=" "),r+=t);return r}function ec(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tc(e))&&(r&&(r+=" "),r+=t);return r}function tc(e){if("string"===typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=tc(e[r]))&&(n&&(n+=" "),n+=t);return n}var nc="-";function rc(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},a=function(e,t){if(!t)return e;return e.map((function(e){return[e[0],e[1].map((function(e){return"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[t+n,r]}))):e}))]}))}(Object.entries(e.classGroups),n);return a.forEach((function(e){var n=e[0];sc(e[1],r,n,t)})),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split(nc);return""===n[0]&&1!==n.length&&n.shift(),ac(n,t)||function(e){if(oc.test(e)){var t=oc.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&a[e]?[].concat(r,a[e]):r}}}function ac(e,t){var n;if(0===e.length)return t.classGroupId;var r=e[0],a=t.nextPart.get(r),o=a?ac(e.slice(1),a):void 0;if(o)return o;if(0!==t.validators.length){var s=e.join(nc);return null===(n=t.validators.find((function(e){return(0,e.validator)(s)})))||void 0===n?void 0:n.classGroupId}}var oc=/^\[(.+)\]$/;function sc(e,t,n,r){e.forEach((function(e){if("string"!==typeof e){if("function"===typeof e)return e.isThemeGetter?void sc(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((function(e){var a=e[0];sc(e[1],ic(t,a),n,r)}))}else{(""===e?t:ic(t,e)).classGroupId=n}}))}function ic(e,t){var n=e;return t.split(nc).forEach((function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function lc(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function a(a,o){n.set(a,o),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):a(e,t)}}}var cc="!";function uc(e){var t=e.separator||":",n=1===t.length,r=t[0],a=t.length;return function(e){for(var o,s=[],i=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===i){if(u===r&&(n||e.slice(c,c+a)===t)){s.push(e.slice(l,c)),l=c+a;continue}if("/"===u){o=c;continue}}"["===u?i++:"]"===u&&i--}var d=0===s.length?e:e.substring(l),f=d.startsWith(cc);return{modifiers:s,hasImportantModifier:f,baseClassName:f?d.substring(1):d,maybePostfixModifierPosition:o&&o>l?o-l:void 0}}}var dc=/\s+/;function fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o,s=function(e){var n=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),n());return r=function(e){return{cache:lc(e.cacheSize),splitModifiers:uc(e),...rc(e)}}(l),a=r.cache.get,o=r.cache.set,s=i,i(e)};function i(e){var t=a(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,a=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(dc).map((function(e){var t=n(e),a=t.modifiers,o=t.hasImportantModifier,s=t.baseClassName,i=t.maybePostfixModifierPosition,l=r(i?s.substring(0,i):s),c=Boolean(i);if(!l){if(!i)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(s)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)})),t.push.apply(t,n.sort()),t}(a).join(":");return{isTailwindClass:!0,modifierId:o?u+cc:u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,s=t+n;return!o.has(s)&&(o.add(s),a(n,r).forEach((function(e){return o.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,r);return o(e,n),n}return function(){return s(ec.apply(null,arguments))}}function hc(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var mc=/^\[(?:([a-z-]+):)?(.+)\]$/i,pc=/^\d+\/\d+$/,gc=new Set(["px","full","screen"]),vc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yc=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function wc(e){return Sc(e)||gc.has(e)||pc.test(e)||xc(e)}function xc(e){return Oc(e,"length",Ac)}function kc(e){return Oc(e,"size",Mc)}function jc(e){return Oc(e,"position",Mc)}function Nc(e){return Oc(e,"url",zc)}function Ec(e){return Oc(e,"number",Sc)}function Sc(e){return!Number.isNaN(Number(e))}function Cc(e){return e.endsWith("%")&&Sc(e.slice(0,-1))}function _c(e){return Lc(e)||Oc(e,"number",Lc)}function Tc(e){return mc.test(e)}function Pc(){return!0}function Rc(e){return vc.test(e)}function Ic(e){return Oc(e,"",Dc)}function Oc(e,t,n){var r=mc.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function Ac(e){return bc.test(e)}function Mc(){return!1}function zc(e){return e.startsWith("url(")}function Lc(e){return Number.isInteger(Number(e))}function Dc(e){return yc.test(e)}function Bc(){var e=hc("colors"),t=hc("spacing"),n=hc("blur"),r=hc("brightness"),a=hc("borderColor"),o=hc("borderRadius"),s=hc("borderSpacing"),i=hc("borderWidth"),l=hc("contrast"),c=hc("grayscale"),u=hc("hueRotate"),d=hc("invert"),f=hc("gap"),h=hc("gradientColorStops"),m=hc("gradientColorStopPositions"),p=hc("inset"),g=hc("margin"),v=hc("opacity"),b=hc("padding"),y=hc("saturate"),w=hc("scale"),x=hc("sepia"),k=hc("skew"),j=hc("space"),N=hc("translate"),E=function(){return["auto",Tc,t]},S=function(){return[Tc,t]},C=function(){return["",wc]},_=function(){return["auto",Sc,Tc]},T=function(){return["","0",Tc]},P=function(){return[Sc,Ec]},R=function(){return[Sc,Tc]};return{cacheSize:500,theme:{colors:[Pc],spacing:[wc],blur:["none","",Rc,Tc],brightness:P(),borderColor:[e],borderRadius:["none","","full",Rc,Tc],borderSpacing:S(),borderWidth:C(),contrast:P(),grayscale:T(),hueRotate:R(),invert:T(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Cc,xc],inset:E(),margin:E(),opacity:P(),padding:S(),saturate:P(),scale:P(),sepia:T(),skew:R(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Tc]}],container:["container"],columns:[{columns:[Rc]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Tc])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tc]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",_c]}],"grid-cols":[{"grid-cols":[Pc]}],"col-start-end":[{col:["auto",{span:["full",_c]},Tc]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Pc]}],"row-start-end":[{row:["auto",{span:[_c]},Tc]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tc]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tc]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Tc,t]}],"min-w":[{"min-w":["min","max","fit",Tc,wc]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Rc]},Rc,Tc]}],h:[{h:[Tc,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Tc,wc]}],"max-h":[{"max-h":[Tc,t,"min","max","fit"]}],"font-size":[{text:["base",Rc,xc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ec]}],"font-family":[{font:[Pc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tc]}],"line-clamp":[{"line-clamp":["none",Sc,Ec]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tc,wc]}],"list-image":[{"list-image":["none",Tc]}],"list-style-type":[{list:["none","disc","decimal",Tc]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",wc]}],"underline-offset":[{"underline-offset":["auto",Tc,wc]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tc]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tc]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[jc])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nc]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[Tc,wc]}],"outline-w":[{outline:[wc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[wc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rc,Ic]}],"shadow-color":[{shadow:[Pc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rc,Tc]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tc]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Tc]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tc]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[_c,Tc]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tc]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tc]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tc]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wc,Ec]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Fc=fc(Bc);const Kc=["size","variant","color","dataTheme","className","style"],Uc=(0,Te.forwardRef)(((e,t)=>{let{size:n,variant:r="spinner",color:a,dataTheme:o,className:s,style:i}=e,l=Jl(e,Kc);const c=Fc("loading",s,Zl({"loading-lg":"lg"===n,"loading-md":"md"===n,"loading-sm":"sm"===n,"loading-xs":"xs"===n,"loading-spinner":"spinner"===r,"loading-dots":"dots"===r,"loading-ring":"ring"===r,"loading-ball":"ball"===r,"loading-bars":"bars"===r,"loading-infinity":"infinity"===r,"text-primary":"primary"===a,"text-secondary":"secondary"===a,"text-accent":"accent"===a,"text-info":"info"===a,"text-success":"success"===a,"text-warning":"warning"===a,"text-error":"error"===a,"text-ghost":"ghost"===a}));return(0,sn.jsx)("span",$l({},l,{ref:t,"data-theme":o,className:c,style:i}))}));Uc.displayName="Loading";const Wc=["children","shape","size","variant","color","glass","startIcon","endIcon","wide","fullWidth","responsive","animation","loading","active","disabled","dataTheme","className","style","tag"],Hc=["area","base","br","col","embed","hr","img","input","link","keygen","meta","param","source","track","wbr"],qc=(0,Te.forwardRef)(((e,t)=>{let{children:n,shape:r,size:a,variant:o,color:s,glass:i,startIcon:l,endIcon:c,wide:u,fullWidth:d,responsive:f,animation:h=!0,loading:m,active:p,disabled:g,dataTheme:v,className:b,style:y,tag:w="button"}=e,x=Jl(e,Wc);const k=w,j=Fc("btn",b,Zl((l&&!m||c)&&"gap-2",{"btn-lg":"lg"===a,"btn-md":"md"===a,"btn-sm":"sm"===a,"btn-xs":"xs"===a,"btn-circle":"circle"===r,"btn-square":"square"===r,"btn-outline":"outline"===o,"btn-link":"link"===o,"btn-neutral":"neutral"===s,"btn-primary":"primary"===s,"btn-secondary":"secondary"===s,"btn-accent":"accent"===s,"btn-info":"info"===s,"btn-success":"success"===s,"btn-warning":"warning"===s,"btn-error":"error"===s,"btn-ghost":"ghost"===s,glass:i,"btn-wide":u,"btn-block":d,"btn-xs sm:btn-sm md:btn-md lg:btn-lg":f,"no-animation":!h,"btn-active":p,"btn-disabled":g}));return Hc.includes(k)?(0,sn.jsx)(k,$l({},x,{ref:t,"data-theme":v,className:j,style:y,disabled:g})):(0,sn.jsxs)(k,$l({},x,{ref:t,"data-theme":v,className:j,style:y,disabled:g,children:[m&&(0,sn.jsx)(Uc,{size:a}),l&&!m&&l,n,c&&c]}))}));qc.displayName="Button";const Vc=["children","color","size","button","dataTheme","className","disabled"],Gc=(0,Te.forwardRef)(((e,t)=>(0,sn.jsx)(qc,$l({},e,{ref:t,tag:"summary"})))),Qc=["children","className","horizontal","vertical","end","dataTheme","open"],$c=Te.forwardRef(((e,t)=>{let{children:n,className:r,horizontal:a,vertical:o,end:s,dataTheme:i,open:l}=e,c=Jl(e,Qc);return(0,sn.jsx)("details",$l({role:"listbox"},c,{ref:t,"data-theme":i,className:tu({className:r,horizontal:a,vertical:o,open:l,end:s}),open:l,children:n}))}));$c.displayName="Details";var Yc=Object.assign($c,{Toggle:Gc});const Jc=["dataTheme","className"],Xc=["anchor"],Zc=Te.forwardRef(((e,t)=>{let{anchor:n=!0}=e,r=Jl(e,Xc);return(0,sn.jsx)("li",{role:"menuitem",children:n?(0,sn.jsx)("a",$l({ref:t},r)):r.children})})),eu=["children","className","item","horizontal","vertical","end","hover","open","dataTheme"],tu=e=>{let{className:t,horizontal:n,vertical:r,end:a,hover:o,open:s}=e;return Fc("dropdown",t,Zl({"dropdown-left":"left"===n,"dropdown-right":"right"===n,"dropdown-top":"top"===r,"dropdown-bottom":"bottom"===r,"dropdown-end":a,"dropdown-hover":o,"dropdown-open":s}))},nu=Te.forwardRef(((e,t)=>{let{children:n,className:r,item:a,horizontal:o,vertical:s,end:i,hover:l,open:c,dataTheme:u}=e,d=Jl(e,eu);return(0,sn.jsx)("div",$l({role:"listbox"},d,{ref:t,"data-theme":u,className:tu({className:r,horizontal:o,vertical:s,end:i,hover:l,open:c}),children:a?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("label",{tabIndex:0,children:n}),(0,sn.jsx)("ul",{className:"dropdown-content",children:a})]}):(0,sn.jsx)(sn.Fragment,{children:n})}))}));Object.assign(nu,{Details:Yc,Toggle:e=>{let{children:t,color:n,size:r,button:a=!0,dataTheme:o,className:s,disabled:i}=e,l=Jl(e,Vc);return(0,sn.jsx)("label",$l({tabIndex:0,className:s},l,{children:a?(0,sn.jsx)(qc,{type:"button",dataTheme:o,color:n,size:r,disabled:i,children:t}):t}))},Menu:e=>{let{dataTheme:t,className:n}=e,r=Jl(e,Jc);const a=Fc("dropdown-content menu p-2 shadow bg-base-100 rounded-box",n);return(0,sn.jsx)("ul",$l({},r,{tabIndex:0,"data-theme":t,className:a,role:"menu"}))},Item:Zc});const ru=["children","className"],au=Te.forwardRef(((e,t)=>{let{children:n,className:r}=e,a=Jl(e,ru);const o=Fc("modal-action",r);return(0,sn.jsx)("div",$l({},a,{className:o,ref:t,children:n}))}));au.displayName="ModalActions";const ou=["children","className"],su=Te.forwardRef(((e,t)=>{let{children:n,className:r}=e,a=Jl(e,ou);return(0,sn.jsx)("div",$l({},a,{className:r,ref:t,children:n}))}));su.displayName="ModalBody";const iu=["children","className"],lu=Te.forwardRef(((e,t)=>{let{children:n,className:r}=e,a=Jl(e,iu);const o=Fc("w-full mb-8 text-xl",r);return(0,sn.jsx)("div",$l({},a,{className:o,ref:t,children:n}))}));lu.displayName="ModalHeader";const cu=["children","open","responsive","onClickBackdrop","dataTheme","className"],uu=(0,Te.forwardRef)(((e,t)=>{let{children:n,open:r,responsive:a,onClickBackdrop:o,dataTheme:s,className:i}=e,l=Jl(e,cu);const c=Fc("modal",Zl({"modal-open":r,"modal-bottom sm:modal-middle":a})),u=Fc("modal-box",i);return(0,sn.jsx)("div",{"aria-label":"Modal","aria-hidden":!r,"aria-modal":r,"data-theme":s,className:c,onClick:e=>{e.stopPropagation(),e.target===e.currentTarget&&(e.stopPropagation(),o&&o())},children:(0,sn.jsx)("div",$l({},l,{"data-theme":s,className:u,ref:t,children:n}))})}));uu.displayName="Modal";const du=["children","open","responsive","backdrop","dataTheme","className"],fu=["children"],hu=(0,Te.forwardRef)(((e,t)=>{let{children:n,open:r,responsive:a,backdrop:o,dataTheme:s,className:i}=e,l=Jl(e,du);const c=Fc("modal",Zl({"modal-open":r,"modal-bottom sm:modal-middle":a})),u=Fc("modal-box",i);return(0,sn.jsxs)("dialog",$l({},l,{"aria-label":"Modal","aria-hidden":!r,open:r,"aria-modal":r,"data-theme":s,className:c,ref:t,children:[(0,sn.jsx)("div",{"data-theme":s,className:u,children:n}),o&&(0,sn.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,sn.jsx)("button",{children:"close"})})]}))}));hu.displayName="Modal";var mu=Object.assign(hu,{Header:lu,Body:su,Actions:au,Legacy:uu,useDialog:()=>{const e=(0,Te.useRef)(null),t=(0,Te.useCallback)((()=>{var t;null==(t=e.current)||t.showModal()}),[e]),n=(0,Te.useCallback)((()=>{var t;null==(t=e.current)||t.close()}),[e]),r=t=>{let{children:n}=t,r=Jl(t,fu);return(0,sn.jsx)(hu,$l({},r,{ref:e,children:n}))};return r.displayName="Dialog",{dialogRef:e,Dialog:r,handleShow:t,handleHide:n}}});const pu=["children","className"],gu=Te.forwardRef(((e,t)=>{let{children:n,className:r}=e,a=Jl(e,pu);const o=Fc("avatar-group -space-x-6",r);return(0,sn.jsx)("div",$l({"aria-label":"Group of ".concat(n.length," avatar photos")},a,{className:o,ref:t,children:n}))})),vu=["size","src","letters","shape","color","border","borderColor","online","offline","dataTheme","className","innerClassName","children"],bu=Te.forwardRef(((e,t)=>{let{size:n="md",src:r,letters:a,shape:o,color:s,border:i,borderColor:l,online:c,offline:u,dataTheme:d,className:f,innerClassName:h,children:m}=e,p=Jl(e,vu);const g=Fc("avatar",f,Zl({online:c,offline:u,placeholder:!r})),v=Zl(h,{"ring ring-offset-base-100 ring-offset-2":i,"ring-accent":"accent"===l,"ring-error":"error"===l,"ring-info":"info"===l,"ring-neutral":"neutral"===l,"ring-primary":"primary"===l,"ring-secondary":"secondary"===l,"ring-success":"success"===l,"ring-warning":"warning"===l,"rounded-btn":"square"===o,"rounded-full":"circle"===o,"w-32 h-32":"lg"===n,"w-24 h-24":"md"===n,"w-14 h-14":"sm"===n,"w-10 h-10":"xs"===n}),b=Zl(h,{"bg-neutral-focus":!s,"text-neutral-content":!s||"neutral"===s,"bg-accent":"accent"===s,"bg-error":"error"===s,"bg-info":"info"===s,"bg-neutral":"neutral"===s,"bg-primary":"primary"===s,"bg-secondary":"secondary"===s,"bg-success":"success"===s,"bg-warning":"warning"===s,"text-accent-content":"accent"===s,"text-error-content":"error"===s,"text-info-content":"info"===s,"text-primary-content":"primary"===s,"text-secondary-content":"secondary"===s,"text-success-content":"success"===s,"text-warning-content":"warning"===s,"ring ring-offset-base-100 ring-offset-2":i,"ring-accent":"accent"===l,"ring-error":"error"===l,"ring-info":"info"===l,"ring-neutral":"neutral"===l,"ring-primary":"primary"===l,"ring-secondary":"secondary"===l,"ring-success":"success"===l,"ring-warning":"warning"===l,"rounded-btn":"square"===o,"rounded-full":"circle"===o,"w-32 h-32 text-3xl":"lg"===n,"w-24 h-24 text-xl":"md"===n,"w-14 h-14":"sm"===n,"w-10 h-10":"xs"===n}),y="number"===typeof n?{width:n,height:n}:{};return(0,sn.jsx)("div",$l({"aria-label":"Avatar photo"},p,{"data-theme":d,className:g,ref:t,children:(()=>{if(r)return(0,sn.jsx)("div",{className:v,style:y,children:(0,sn.jsx)("img",{src:r})});if(a||(e=>e&&1===Te.Children.count(e)&&Te.isValidElement(e)&&"string"===typeof e.props.children)(m))return(0,sn.jsx)("div",{className:b,style:y,children:(0,sn.jsx)("span",{children:a||m})});if(1===Te.Children.count(m)){const e=Te.Children.only(m);return Te.cloneElement(e,{className:Fc(v,e.props.className),style:$l({},y,e.props.style)})}return(0,sn.jsx)("div",{className:v,style:y,children:m})})()}))}));var yu=Object.assign(bu,{Group:gu});const wu=["children","variant","outline","size","color","responsive","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{children:n,variant:r,outline:a,size:o,color:s,responsive:i,dataTheme:l,className:c}=e,u=Jl(e,wu);const d=Fc("badge",c,Zl({"badge-lg":"lg"===o,"badge-md":"md"===o,"badge-sm":"sm"===o,"badge-xs":"xs"===o,"badge-outline":"outline"===r||a,"badge-neutral":"neutral"===s,"badge-primary":"primary"===s,"badge-secondary":"secondary"===s,"badge-accent":"accent"===s,"badge-ghost":"ghost"===s,"badge-info":"info"===s,"badge-success":"success"===s,"badge-warning":"warning"===s,"badge-error":"error"===s,"badge-xs md:badge-sm lg:badge-md xl:badge-lg":i}));return(0,sn.jsx)("div",$l({"aria-label":"Badge"},u,{"data-theme":l,className:d,ref:t,children:n}))})).displayName="Badge";const xu=["className"],ku=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,xu);return(0,sn.jsx)("div",$l({},r,{className:Fc("card-actions",n),ref:t}))})),ju=["className"],Nu=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,ju);return(0,sn.jsx)("div",$l({},r,{className:Fc("card-body",n),ref:t}))})),Eu=["className","tag"],Su=Te.forwardRef(((e,t)=>{let{className:n,tag:r="div"}=e,a=Jl(e,Eu);const o=r;return(0,sn.jsx)(o,$l({},a,{className:Fc("card-title",n),ref:t}))})),Cu=Te.forwardRef(((e,t)=>{let n=$l({},(Yl(e),e));return(0,sn.jsx)("figure",{ref:t,children:(0,sn.jsx)("img",$l({},n))})})),_u=["bordered","imageFull","normal","compact","side","className"],Tu={true:"card-compact",xs:"xs:card-compact",sm:"sm:card-compact",md:"md:card-compact",lg:"lg:card-compact"},Pu={true:"card-normal",xs:"xs:card-normal",sm:"sm:card-normal",md:"md:card-normal",lg:"lg:card-normal"},Ru={true:"card-side",xs:"xs:card-side",sm:"sm:card-side",md:"md:card-side",lg:"lg:card-side"},Iu=Te.forwardRef(((e,t)=>{let{bordered:n=!0,imageFull:r,normal:a,compact:o,side:s,className:i}=e,l=Jl(e,_u);const c=Fc("card",i,Zl({"card-bordered":n,"image-full":r,[o&&Tu[o.toString()]||""]:o,[a&&Pu[a.toString()]||""]:a,[s&&Ru[s.toString()]||""]:s}));return(0,sn.jsx)("div",$l({"aria-label":"Card"},l,{className:c,ref:t}))}));Object.assign(Iu,{Actions:ku,Body:Nu,Title:Su,Image:Cu});const Ou=["children","innerRef","src","alt","index","width","hasButtons","buttonStyle","onPrev","onNext","className"],Au=["children","display","snap","vertical","width","buttonStyle","dataTheme","className"],Mu=(0,Te.forwardRef)(((e,t)=>{let{children:n,display:r="slider",snap:a,vertical:o,width:s,buttonStyle:i,dataTheme:l,className:c}=e,u=Jl(e,Au);const d=Fc("carousel",c,Zl({"carousel-center":"center"===a,"carousel-end":"end"===a,"carousel-vertical":o,"w-full":"slider"!==r})),[f,h]=(0,Te.useState)([]),[m,p]=(0,Te.useState)(0);(0,Te.useEffect)((()=>{const e=[];n.map((t=>{e.push((0,Te.createRef)())})),h(e)}),[n]);const g=e=>{var t;null==(t=f[e].current)||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:a}),p(e)};return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",$l({role:"listbox","aria-label":"Image carousel"},u,{ref:t,"data-theme":l,className:d,children:n.map(((e,t)=>(0,Te.cloneElement)(e,$l({key:t,innerRef:f[t],index:t+1,children:e.props.children,src:e.props.src,alt:e.props.alt,width:"slider"!==r?"full":s,hasButtons:"sequential"===r,buttonStyle:i,onPrev:()=>g(t-1<0?n.length-1:t-1),onNext:()=>g(t+1>n.length-1?0:t+1)},e.props))))})),"numbered"===r&&(0,sn.jsx)("div",{className:"flex justify-center w-full py-2 gap-2",children:n.map(((e,t)=>null!=i?(0,Te.cloneElement)(i((t+1).toString()),{key:t,onClick:()=>g(t)}):(0,sn.jsx)(qc,{active:t===m,onClick:()=>g(t),children:t+1},t)))})]})}));Object.assign(Mu,{Item:e=>{let{children:t,innerRef:n,src:r,alt:a,index:o=0,width:s,hasButtons:i,buttonStyle:l,onPrev:c,onNext:u,className:d}=e,f=Jl(e,Ou);const h=Fc("carousel-item relative",d,Zl({"w-full":"full"===s,"w-1/2":"half"===s,"h-full":!0})),m=Zl({"w-full":"full"===s});return(0,sn.jsxs)("div",$l({},f,{id:"item".concat(o),ref:n,className:h,children:[r?(0,sn.jsx)("img",{src:r,alt:a,className:m}):t,i&&(0,sn.jsx)("div",{className:"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2",children:null!=l?(0,sn.jsxs)(sn.Fragment,{children:[(0,Te.cloneElement)(l("\u276e"),{onClick:c}),(0,Te.cloneElement)(l("\u276f"),{onClick:u})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(qc,{onClick:c,shape:"circle",children:"\u276e"}),(0,sn.jsx)(qc,{onClick:u,shape:"circle",children:"\u276f"})]})})]}))}});const zu=["size","shape","className"],Lu=Te.forwardRef(((e,t)=>{let{size:n="xs",shape:r="circle",className:a}=e,o=Jl(e,zu);return(0,sn.jsx)(yu,$l({size:n,shape:r},o,{className:Fc("chat-image",a),ref:t}))})),Du=["color","className"],Bu=Te.forwardRef(((e,t)=>{let{color:n,className:r}=e,a=Jl(e,Du);const o=Fc("chat-bubble",Zl({"chat-bubble-primary":"primary"===n,"chat-bubble-secondary":"secondary"===n,"chat-bubble-accent":"accent"===n,"chat-bubble-info":"info"===n,"chat-bubble-success":"success"===n,"chat-bubble-warning":"warning"===n,"chat-bubble-error":"error"===n}),r);return(0,sn.jsx)("div",$l({},a,{className:o,ref:t}))})),Fu=["className"],Ku=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,Fu);return(0,sn.jsx)("div",$l({},r,{className:Fc("chat-header",n),ref:t}))})),Uu=["className"],Wu=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,Uu);return(0,sn.jsx)("time",$l({},r,{className:Fc("text-xs opacity-50",n),ref:t}))})),Hu=["className"],qu=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,Hu);return(0,sn.jsx)("div",$l({},r,{className:Fc("chat-footer opacity-50",n),ref:t}))})),Vu=["end","color","dataTheme","className","children"],Gu=(0,Te.forwardRef)(((e,t)=>{let{end:n=!1,dataTheme:r,className:a,children:o}=e,s=Jl(e,Vu);return(0,sn.jsx)("div",$l({},s,{"data-theme":r,className:Fc("chat","chat-".concat(n?"end":"start"),a),ref:t,children:o}))}));Gu.displayName="ChatBubble";var Qu=Object.assign(Gu,{Header:Ku,Time:Wu,Avatar:Lu,Message:Bu,Footer:qu});const $u=["children","className"],Yu=e=>{let{className:t}=e;return Fc("collapse-title",t)},Ju=e=>{let{children:t,className:n}=e,r=Jl(e,$u);return(0,sn.jsx)("div",$l({},r,{className:Yu({className:n}),children:t}))},Xu=Te.forwardRef(((e,t)=>{let{children:n,className:r}=e;return(0,sn.jsx)("summary",{ref:t,className:Yu({className:r}),children:n})})),Zu=["children","icon","open","dataTheme","className"],ed=Te.forwardRef(((e,t)=>{let{children:n,icon:r,open:a,dataTheme:o,className:s}=e,i=Jl(e,Zu);return(0,sn.jsx)("details",$l({},i,{ref:t,"data-theme":o,className:od({className:s,icon:r,open:a}),open:a,children:n}))}));ed.displayName="Details";var td=Object.assign(ed,{Title:Xu});const nd=["children","className"],rd=e=>{let{children:t,className:n}=e,r=Jl(e,nd);const a=Fc("collapse-content",n);return(0,sn.jsx)("div",$l({},r,{className:a,children:t}))},ad=["children","checkbox","icon","open","dataTheme","className","onOpen","onClose","onToggle"],od=e=>{let{className:t,icon:n,open:r}=e;return Fc("collapse",t,Zl({"collapse-arrow":"arrow"===n,"collapse-plus":"plus"===n,"collapse-open":!0===r,"collapse-close":!1===r}))},sd=Te.forwardRef(((e,t)=>{let{children:n,checkbox:r,icon:a,open:o,dataTheme:s,className:i,onOpen:l,onClose:c,onToggle:u}=e,d=Jl(e,ad);const[f,h]=(0,Te.useState)(o),m=(0,Te.useRef)(null);return(0,sn.jsxs)("div",$l({"aria-expanded":o},d,{ref:t,tabIndex:!0===f?void 0:0,"data-theme":s,className:od({className:i,icon:a,open:o}),onBlur:e=>{!r&&u&&u(),!r&&c&&c(),d.onBlur&&d.onBlur(e)},onFocus:e=>{!r&&u&&u(),!r&&l&&l(),d.onFocus&&d.onFocus(e)},children:[r&&(0,sn.jsx)("input",{type:"checkbox",tabIndex:!0===f?0:void 0,className:"peer",ref:m,onChange:()=>{var e,t,n;u&&u(),l&&null!=(e=m.current)&&e.checked?l():!c||null!=(t=m.current)&&t.checked||c(),h(null==(n=m.current)?void 0:n.checked)}}),n]}))}));Object.assign(sd,{Details:td,Title:Ju,Content:rd});const id=["variant","className"],ld=Te.forwardRef(((e,t)=>{let{variant:n,className:r}=e,a=Jl(e,id);const o=Fc(r,Zl({"stat-title":"title"===n,"stat-value":"value"===n,"stat-desc":"desc"===n,"stat-figure":"figure"===n,"stat-actions":"actions"===n}));return(0,sn.jsx)("div",$l({},a,{className:o,ref:t}))})),cd=["dataTheme","className"],ud=(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r}=e,a=Jl(e,cd);const o=Fc("stat",r);return(0,sn.jsx)("div",$l({},a,{"data-theme":n,className:o,ref:t}))}));var dd=Object.assign(ud,{Item:ld});const fd=["horizontal","vertical","dataTheme","className","children"],hd=Te.forwardRef(((e,t)=>{let{horizontal:n,vertical:r,dataTheme:a,className:o,children:s}=e,i=Jl(e,fd);const l=Fc("stats",o,Zl({"stats-horizontal":n,"stats-vertical":r}));return(0,sn.jsx)("div",$l({},i,{ref:t,"data-theme":a,className:l,children:s}))}));Object.assign(hd,{Stat:dd});const md=["children"],pd=Te.forwardRef(((e,t)=>{let{children:n}=e,r=Jl(e,md);return(0,sn.jsx)("thead",$l({},r,{ref:t,children:(0,sn.jsx)("tr",{children:null==n?void 0:n.map(((e,t)=>(0,sn.jsx)("th",{children:e},t)))})}))})),gd=["children"],vd=Te.forwardRef(((e,t)=>{let{children:n}=e,r=Jl(e,gd);return(0,sn.jsx)("tbody",$l({},r,{ref:t,children:n}))})),bd=["children","active","hover","className"],yd=Te.forwardRef(((e,t)=>{let{children:n,active:r,hover:a,className:o}=e,s=Jl(e,bd);const i=Fc(o,Zl({active:r,hover:a}));return(0,sn.jsx)("tr",$l({},s,{className:i,ref:t,children:null==n?void 0:n.map(((e,t)=>t<1?(0,sn.jsx)("th",{children:e},t):(0,sn.jsx)("td",{children:e},t)))}))})),wd=["children"],xd=Te.forwardRef(((e,t)=>{let{children:n}=e,r=Jl(e,wd);return(0,sn.jsx)("tfoot",$l({},r,{ref:t,children:(0,sn.jsx)("tr",{children:null==n?void 0:n.map(((e,t)=>(0,sn.jsx)("th",{children:e},t)))})}))})),kd=["children","size","zebra","pinRows","pinCols","dataTheme","className"],jd=Te.forwardRef(((e,t)=>{let{children:n,size:r,zebra:a,pinRows:o,pinCols:s,dataTheme:i,className:l}=e,c=Jl(e,kd);const u=Fc("table",l,Zl({"table-zebra":a,"table-lg":"lg"===r,"table-md":"md"===r,"table-sm":"sm"===r,"table-xs":"xs"===r,"table-pin-rows":o,"table-pin-cols":s}));return(0,sn.jsx)("table",$l({},c,{"data-theme":i,className:u,ref:t,children:n}))}));Object.assign(jd,{Head:pd,Body:vd,Row:yd,Footer:xd});const Nd=["name","icon","dataTheme","className","children"],Ed=(0,Te.forwardRef)(((e,t)=>{let{name:n="accordion",icon:r,dataTheme:a,className:o,children:s}=e,i=Jl(e,Nd);const l=Fc("collapse",Zl({"collapse-arrow":"arrow"===r,"collapse-plus":"plus"===r}),o);return(0,sn.jsxs)("div",{"data-theme":a,className:l,children:[(0,sn.jsx)("input",$l({},i,{ref:t,type:"radio",name:n})),s]})}));Ed.displayName="Accordion";Object.assign(Ed,{Title:Ju,Content:rd});const Sd=["dataTheme","className","children","secondItem"];(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,children:a,secondItem:o}=e,s=Jl(e,Sd);const i=Fc("diff aspect-[16/9]",Zl({}),r);return(0,sn.jsxs)("div",$l({},s,{"data-theme":n,className:i,ref:t,children:[(0,sn.jsx)("div",{className:"diff-item-1",children:a}),(0,sn.jsx)("div",{className:"diff-item-2",children:o}),(0,sn.jsx)("div",{className:"diff-resizer"})]}))})).displayName="Diff";const Cd=["children","className","connect","startClassName","endClassName"],_d=Te.forwardRef(((e,t)=>{let{children:n,className:r,connect:a,startClassName:o,endClassName:s}=e,i=Jl(e,Cd);return(0,sn.jsxs)("li",$l({},i,{className:r,ref:t,children:[("both"===a||"start"===a)&&(0,sn.jsx)("hr",{className:o}),n,("both"===a||"end"===a)&&(0,sn.jsx)("hr",{className:s})]}))}));_d.displayName="TimelineItem";const Td=["children","className","box"],Pd=Te.forwardRef(((e,t)=>{let{children:n,className:r,box:a}=e,o=Jl(e,Td);const s=Fc("timeline-start",Zl({"timeline-box":a}),r);return(0,sn.jsx)("div",$l({},o,{className:s,ref:t,children:n}))}));Pd.displayName="TimelineStart";const Rd=["children","className"],Id=Te.forwardRef(((e,t)=>{let{children:n=(0,sn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,sn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),className:r}=e,a=Jl(e,Rd);const o=Fc("timeline-middle",r);return(0,sn.jsx)("div",$l({},a,{className:o,ref:t,children:n}))}));Id.displayName="TimelineMiddle";const Od=["children","className","box"],Ad=Te.forwardRef(((e,t)=>{let{children:n,className:r,box:a=!0}=e,o=Jl(e,Od);const s=Fc("timeline-end",Zl({"timeline-box":a}),r);return(0,sn.jsx)("div",$l({},o,{className:s,ref:t,children:n}))}));Ad.displayName="TimelineEnd";const Md=["dataTheme","className","vertical","horizontal","responsive","snap","compact","children"],zd=(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,vertical:a,horizontal:o,responsive:s,snap:i,compact:l,children:c}=e,u=Jl(e,Md);const d=Fc("timeline",Zl({"timeline-vertical":a,"timeline-horizontal":o,"timeline-vertical lg:timeline-horizontal":s,"timeline-snap-icon":i,"timeline-compact":l}),r);return(0,sn.jsx)("ul",$l({},u,{"data-theme":n,className:d,ref:t,children:c}))}));zd.displayName="Timeline";Object.assign(zd,{Item:_d,Start:Pd,Middle:Id,End:Ad});const Ld=["children","href"],Dd=Te.forwardRef(((e,t)=>{let{children:n,href:r}=e,a=Jl(e,Ld);return(0,sn.jsx)("li",$l({role:"link"},a,{ref:t,children:r?(0,sn.jsx)("a",{href:r,children:n}):(0,sn.jsx)(sn.Fragment,{children:n})}))})),Bd=["children","dataTheme","className","innerProps","innerRef"],Fd=Te.forwardRef(((e,t)=>{let{children:n,dataTheme:r,className:a,innerProps:o,innerRef:s}=e,i=Jl(e,Bd);const l=Fc("breadcrumbs","text-sm",a);return(0,sn.jsx)("div",$l({role:"navigation","aria-label":"Breadcrumbs"},i,{"data-theme":r,className:l,ref:t,children:(0,sn.jsx)("ul",$l({},o,{ref:s,children:n}))}))}));Object.assign(Fd,{Item:Dd});const Kd=["children","className","color","dataTheme","active","disabled"],Ud=(0,Te.forwardRef)(((e,t)=>{let{children:n,className:r,color:a,dataTheme:o,active:s,disabled:i}=e,l=Jl(e,Kd);const c=Fc(r,Zl({"text-neutral":"neutral"===a,"text-primary":"primary"===a,"text-secondary":"secondary"===a,"text-accent":"accent"===a,"text-info":"info"===a,"text-success":"success"===a,"text-warning":"warning"===a,"text-error":"error"===a,active:s,disabled:i}));return(0,sn.jsx)("button",$l({},l,{className:c,"data-theme":o,ref:t,children:n}))})),Wd=["children","className"],Hd=(0,Te.forwardRef)(((e,t)=>{let{children:n,className:r}=e,a=Jl(e,Wd);const o=Fc("btm-nav-label",r);return(0,sn.jsx)("span",$l({},a,{className:o,ref:t,children:n}))})),qd=["size","dataTheme","className","children"],Vd=(0,Te.forwardRef)(((e,t)=>{let{size:n,dataTheme:r,className:a,children:o}=e,s=Jl(e,qd);const i=Fc("btm-nav",Zl({"btm-nav-lg":"lg"===n,"btm-nav-md":"md"===n,"btm-nav-sm":"sm"===n,"btm-nav-xs":"xs"===n}),a);return(0,sn.jsx)("div",$l({},s,{role:"navigation","data-theme":r,className:i,ref:t,children:o}))}));Vd.displayName="BottomNavigation";Object.assign(Vd,{Item:Ud,Label:Hd});const Gd=["children","href","color","hover","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{children:n,href:r,color:a,hover:o=!0,dataTheme:s,className:i}=e,l=Jl(e,Gd);const c=Fc("link",i,Zl({"link-neutral":"neutral"===a,"link-primary":"primary"===a,"link-secondary":"secondary"===a,"link-accent":"accent"===a,"link-info":"info"===a,"link-success":"success"===a,"link-warning":"warning"===a,"link-error":"error"===a,"link-hover":o}));return(0,sn.jsx)("a",$l({rel:"noopener noreferrer"},l,{href:r,"data-theme":s,className:c,ref:t,children:n}))})).displayName="Link";const Qd=["className"],$d=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,Qd);const a=Fc("menu-title",n);return(0,sn.jsx)("li",$l({},r,{className:a,ref:t}))})),Yd=["className","disabled"],Jd=Te.forwardRef(((e,t)=>{let{className:n,disabled:r}=e,a=Jl(e,Yd);const o=Fc(n,Zl({disabled:r}));return(0,sn.jsx)("li",$l({role:"menuitem",className:o},a,{ref:t}))})),Xd=["className","label","open","children"],Zd=Te.forwardRef(((e,t)=>{let{className:n,label:r,open:a,children:o}=e,s=Jl(e,Xd);const i=Fc("menu-dropdown-toggle",n,Zl({"menu-dropdown-show":a}));return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",$l({},s,{className:i,ref:t,children:r})),(0,sn.jsx)("ul",{className:Zl("menu-dropdown",{"menu-dropdown-show":a}),children:o})]})})),ef=["className","label","open","children"],tf=Te.forwardRef(((e,t)=>{let{className:n,label:r,open:a,children:o}=e,s=Jl(e,ef);return(0,sn.jsxs)("details",$l({},s,{open:a,className:n,ref:t,children:[(0,sn.jsx)("summary",{children:r}),(0,sn.jsx)("ul",{children:o})]}))})),nf=["responsive","horizontal","vertical","dataTheme","className","size"],rf=Te.forwardRef(((e,t)=>{let{responsive:n,horizontal:r,vertical:a,dataTheme:o,className:s,size:i}=e,l=Jl(e,nf);const c=Fc("menu",s,Zl({"menu-vertical lg:menu-horizontal":n,"menu-lg":"lg"===i,"menu-md":"md"===i,"menu-sm":"sm"===i,"menu-xs":"xs"===i,"menu-vertical":a,"menu-horizontal":r}));return(0,sn.jsx)("ul",$l({role:"menu","data-theme":o,className:c},l,{ref:t}))}));var af=Object.assign(rf,{Title:$d,Item:Jd,Dropdown:Zd,Details:tf});const of=Te.forwardRef(((e,t)=>{let{children:n,section:r,dataTheme:a,className:o,style:s}=e;const i=Fc(o,Zl({"navbar-start":"start"===r,"navbar-center":"center"===r,"navbar-end":"end"===r}));return(0,sn.jsx)("div",{"data-theme":a,className:i,style:s,ref:t,children:n})})),sf=["children","dataTheme","className"],lf=Te.forwardRef(((e,t)=>{let{children:n,dataTheme:r,className:a}=e,o=Jl(e,sf);const s=Fc("navbar",a);return(0,sn.jsx)("div",$l({role:"navigation","aria-label":"Navbar"},o,{"data-theme":r,className:s,ref:t,children:n}))})),cf=Te.forwardRef(((e,t)=>(0,sn.jsx)(of,$l({},e,{section:"start",ref:t})))),uf=Te.forwardRef(((e,t)=>(0,sn.jsx)(of,$l({},e,{section:"center",ref:t})))),df=Te.forwardRef(((e,t)=>(0,sn.jsx)(of,$l({},e,{section:"end",ref:t}))));var ff=Object.assign(lf,{Start:cf,Center:uf,End:df});const hf=["dataTheme","className","children","responsive","vertical","horizontal"],mf=(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,children:a,responsive:o,vertical:s,horizontal:i}=e,l=Jl(e,hf);const c=Fc("join",Zl({"join-vertical":!o&&s,"join-horizontal":!o&&i,"join-vertical lg:join-horizontal":o}),r);return(0,sn.jsx)("div",$l({},l,{"data-theme":n,className:c,ref:t,children:a}))}));mf.displayName="Join";const pf=["children","value","color","dataTheme","className"],gf=Te.forwardRef(((e,t)=>{let{children:n,value:r,color:a,dataTheme:o,className:s}=e,i=Jl(e,pf);const l=Fc("step",s,Zl({"step-primary":"primary"===a,"step-secondary":"secondary"===a,"step-accent":"accent"===a,"step-info":"info"===a,"step-success":"success"===a,"step-warning":"warning"===a,"step-error":"error"===a}));return(0,sn.jsx)("li",$l({"aria-label":"Step"},i,{"data-theme":o,"data-content":r,className:l,ref:t,children:n}))})),vf=["children","dataTheme","className","vertical","horizontal"],bf=Te.forwardRef(((e,t)=>{let{children:n,dataTheme:r,className:a,vertical:o,horizontal:s}=e,i=Jl(e,vf);const l=Fc("steps",a,Zl({"steps-vertical":o,"steps-horizontal":s}));return(0,sn.jsx)("ul",$l({"aria-label":"Steps",role:"group"},i,{"data-theme":r,className:l,ref:t,children:n}))}));Object.assign(bf,{Step:gf});const yf=["children","className","active","disabled"],wf=(0,Te.forwardRef)(((e,t)=>{let{children:n,className:r,active:a,disabled:o}=e,s=Jl(e,yf);const i=Fc("tab",r,Zl({"tab-active":a,"tab-disabled":o}));return(0,sn.jsx)("a",$l({role:"tab"},s,{ref:t,className:i,children:n}))})),xf=["children","className","active","label","disabled","name","contentClassName"],kf=(0,Te.forwardRef)(((e,t)=>{let{children:n,className:r,active:a,label:o,disabled:s,name:i,contentClassName:l}=e,c=Jl(e,xf);const u=Fc("tab",r,Zl({"tab-active":a,"tab-disabled":s})),d=Fc("tab-content",l);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("input",$l({className:u,role:"tab",type:"radio",name:i,disabled:s,"aria-label":o},c,{ref:t})),(0,sn.jsx)("div",{className:d,children:n})]})})),jf=(0,Te.forwardRef)(((e,t)=>{let{children:n,className:r,variant:a,size:o}=e;const s=Fc("tabs",r,Zl({"tabs-boxed":"boxed"===a,"tabs-bordered":"bordered"===a,"tabs-lifted":"lifted"===a,"tabs-lg":"lg"===o,"tabs-md":"md"===o,"tabs-sm":"sm"===o,"tabs-xs":"xs"===o}));return(0,sn.jsx)("div",{role:"tablist",className:s,ref:t,children:n})}));var Nf=Object.assign(jf,{Tab:wf,RadioTab:kf});const Ef=["children","icon","status","dataTheme","className"],Sf=(0,Te.forwardRef)(((e,t)=>{let{children:n,icon:r,status:a,dataTheme:o,className:s}=e,i=Jl(e,Ef);const l=Fc("alert",s,Zl({"alert-info":"info"===a,"alert-success":"success"===a,"alert-warning":"warning"===a,"alert-error":"error"===a}));return(0,sn.jsxs)("div",$l({role:"alert"},i,{ref:t,"data-theme":o,className:l,children:[r,n]}))}));Sf.displayName="Alert";const Cf=["color","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{color:n,dataTheme:r,className:a}=e,o=Jl(e,Cf);const s=Fc("progress",a,Zl({"progress-accent":"accent"===n,"progress-error":"error"===n,"progress-ghost":"ghost"===n,"progress-info":"info"===n,"progress-primary":"primary"===n,"progress-secondary":"secondary"===n,"progress-success":"success"===n,"progress-warning":"warning"===n}));return(0,sn.jsx)("progress",$l({},o,{ref:t,"data-theme":r,className:s}))})).displayName="Progress";const _f=["value","size","thickness","color","dataTheme","className","children"];(0,Te.forwardRef)(((e,t)=>{let{value:n,size:r="4rem",thickness:a="4px",color:o,dataTheme:s,className:i,children:l}=e,c=Jl(e,_f);const u=Fc("radial-progress",i,Zl({"text-primary":"primary"===o,"text-secondary":"secondary"===o,"text-accent":"accent"===o,"text-info":"info"===o,"text-success":"success"===o,"text-warning":"warning"===o,"text-error":"error"===o})),d=Math.min(100,Math.max(0,n)),f={"--value":d,"--size":r,"--thickness":a};return(0,sn.jsx)("div",$l({role:"progressbar","aria-valuenow":d,"aria-valuemin":0,"aria-valuemax":100},c,{ref:t,"data-theme":s,className:u,style:f,children:l}))})).displayName="RadialProgress";const Tf=["dataTheme","className","children"];(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,Tf);const s=Fc("skeleton",Zl({}),r);return(0,sn.jsx)("div",$l({},o,{"data-theme":n,className:s,ref:t,children:a}))})).displayName="Skeleton";const Pf=["horizontal","vertical","className","children"],Rf={start:"toast-start",center:"toast-center",end:"toast-end"},If={top:"toast-top",middle:"toast-middle",bottom:"toast-bottom"};(0,Te.forwardRef)(((e,t)=>{let{horizontal:n="end",vertical:r="bottom",className:a,children:o}=e,s=Jl(e,Pf);return(0,sn.jsx)("div",$l({},s,{className:Fc("toast",Rf[n],If[r],a),ref:t,children:o}))})).displayName="Toast";const Of=["message","children","open","color","position","dataTheme","className"],Af=(0,Te.forwardRef)(((e,t)=>{let{message:n,children:r,open:a,color:o,position:s,dataTheme:i,className:l}=e,c=Jl(e,Of);const u=Fc("tooltip",l,Zl({"tooltip-open":a,"tooltip-primary":"primary"===o,"tooltip-secondary":"secondary"===o,"tooltip-accent":"accent"===o,"tooltip-info":"info"===o,"tooltip-success":"success"===o,"tooltip-warning":"warning"===o,"tooltip-error":"error"===o,"tooltip-top":"top"===s,"tooltip-bottom":"bottom"===s,"tooltip-left":"left"===s,"tooltip-right":"right"===s}));return(0,sn.jsx)("div",$l({role:"tooltip"},c,{ref:t,"data-theme":i,"data-tip":n,className:u,children:r}))}));Af.displayName="Tooltip";const Mf=["children","title","dataTheme","className"],zf=Te.forwardRef(((e,t)=>{let{children:n,title:r,className:a}=e,o=Jl(e,Mf);const s=Fc("label",a);return(0,sn.jsxs)("label",$l({},o,{className:s,children:[(0,sn.jsx)("span",{className:"label-text cursor-pointer",ref:t,children:r}),n]}))})),Lf=["children","dataTheme","className"],Df=Te.forwardRef(((e,t)=>{let{children:n,dataTheme:r,className:a}=e,o=Jl(e,Lf);const s=Fc("form-control",a);return(0,sn.jsx)("form",$l({role:"form"},o,{"data-theme":r,className:s,ref:t,children:n}))}));var Bf=Object.assign(Df,{Label:zf});const Ff=["color","size","indeterminate","dataTheme","className"],Kf=(0,Te.forwardRef)(((e,t)=>{let{color:n,size:r,indeterminate:a,dataTheme:o,className:s}=e,i=Jl(e,Ff);const l=Fc("checkbox",s,Zl({"checkbox-lg":"lg"===r,"checkbox-md":"md"===r,"checkbox-sm":"sm"===r,"checkbox-xs":"xs"===r,"checkbox-primary":"primary"===n,"checkbox-secondary":"secondary"===n,"checkbox-accent":"accent"===n,"checkbox-info":"info"===n,"checkbox-success":"success"===n,"checkbox-warning":"warning"===n,"checkbox-error":"error"===n})),c=(0,Te.useRef)(null);return(0,Te.useImperativeHandle)(t,(()=>c.current)),(0,Te.useEffect)((()=>{c.current&&(c.current.indeterminate=!!a)}),[a]),(0,sn.jsx)("input",$l({},i,{ref:c,type:"checkbox","data-theme":o,className:l}))}));Kf.displayName="Checkbox";const Uf=["value","placeholder","bordered","borderOffset","size","color","dataTheme","className","type"],Wf=(0,Te.forwardRef)(((e,t)=>{let{value:n,placeholder:r,bordered:a=!0,borderOffset:o,size:s,color:i,dataTheme:l,className:c,type:u}=e,d=Jl(e,Uf);const f=Fc("input",c,Zl({"input-lg":"lg"===s,"input-md":"md"===s,"input-sm":"sm"===s,"input-xs":"xs"===s,"input-primary":"primary"===i,"input-secondary":"secondary"===i,"input-accent":"accent"===i,"input-ghost":"ghost"===i,"input-info":"info"===i,"input-success":"success"===i,"input-warning":"warning"===i,"input-error":"error"===i,"input-bordered":a,"focus:outline-offset-0":!o}));return(0,sn.jsx)("input",$l({},d,{ref:t,type:u,value:n,placeholder:r,"data-theme":l,className:f}))}));Wf.displayName="Input";const Hf=["color","size","name","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{color:n,size:r,name:a,dataTheme:o,className:s}=e,i=Jl(e,Hf);const l=Fc("radio",s,Zl({"radio-lg":"lg"===r,"radio-md":"md"===r,"radio-sm":"sm"===r,"radio-xs":"xs"===r,"radio-primary":"primary"===n,"radio-secondary":"secondary"===n,"radio-accent":"accent"===n,"radio-info":"info"===n,"radio-success":"success"===n,"radio-warning":"warning"===n,"radio-error":"error"===n}));return(0,sn.jsx)("input",$l({},i,{ref:t,type:"radio",name:a,"data-theme":o,className:l}))})).displayName="Radio";const qf=["color","size","step","dataTheme","className"],Vf=(0,Te.forwardRef)(((e,t)=>{let{color:n,size:r,step:a,dataTheme:o,className:s}=e,i=Jl(e,qf);const l=Fc("range",s,Zl({"range-lg":"lg"===r,"range-md":"md"===r,"range-sm":"sm"===r,"range-xs":"xs"===r,"range-primary":"primary"===n,"range-secondary":"secondary"===n,"range-accent":"accent"===n,"range-info":"info"===n,"range-success":"success"===n,"range-warning":"warning"===n,"range-error":"error"===n})),c=(0,Te.useMemo)((()=>{var e;const t=Math.max(1,Number(a));return null!=(e=Math.ceil(100/t))?e:1}),[i.max,a]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("input",$l({},i,{ref:t,type:"range",step:a,"data-theme":o,className:l})),(e=>!isNaN(parseFloat(e))&&isFinite(e))(a)&&(0,sn.jsx)("div",{className:"w-full flex justify-between text-xs px-2",children:[...Array(c+1)].map(((e,t)=>(0,sn.jsx)("span",{children:"|"},t)))})]})}));Vf.displayName="Range";const Gf=e=>{let t=$l({},(Yl(e),e));return(0,sn.jsx)("input",$l({},t,{type:"checkbox"}))},Qf=["children","size","half","hidden","dataTheme","className","value","onChange"],$f=Te.forwardRef(((e,t)=>{let{children:n,size:r,half:a,hidden:o,dataTheme:s,className:i,value:l,onChange:c}=e,u=Jl(e,Qf);const d=Fc("rating",i,Zl({"rating-lg":"lg"===r,"rating-md":"md"===r,"rating-sm":"sm"===r,"rating-xs":"xs"===r,"rating-half":a,"rating-hidden":o||0===l}));return(0,sn.jsxs)("div",$l({"aria-label":"Rating"},u,{ref:t,"data-theme":s,className:d,children:[0===l&&(0,sn.jsx)(Gf,{className:Zl(d,"hidden"),checked:!0,readOnly:!0}),Te.Children.map(n,((e,t)=>{const n=e;return Te.cloneElement(n,{key:t+l,checked:l===t+1,readOnly:null==c,onChange:()=>{null==c||c(t+1)}})}))]}))}));Object.assign($f,{Item:Gf});const Yf=["children"],Jf=["children","size","color","bordered","borderOffset","dataTheme","className"],Xf=(e,t)=>{const{children:n,size:r,color:a,bordered:o=!0,borderOffset:s,dataTheme:i,className:l}=e,c=Jl(e,Jf),u=Fc("select",l,Zl({"select-lg":"lg"===r,"select-md":"md"===r,"select-sm":"sm"===r,"select-xs":"xs"===r,"select-primary":"primary"===a,"select-secondary":"secondary"===a,"select-accent":"accent"===a,"select-ghost":"ghost"===a,"select-info":"info"===a,"select-success":"success"===a,"select-warning":"warning"===a,"select-error":"error"===a,"select-bordered":o,"focus:outline-offset-0":!s}));return(0,sn.jsx)("select",$l({},c,{ref:t,"data-theme":i,className:u,children:n}))},Zf=Te.forwardRef(Xf);var eh=Object.assign(Zf,{Option:e=>{let{children:t}=e,n=Jl(e,Yf);return(0,sn.jsx)("option",$l({},n,{children:t}))}});const th=["color","size","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{color:n,size:r,dataTheme:a,className:o}=e,s=Jl(e,th);const i=Fc("toggle",o,Zl({"toggle-lg":"lg"===r,"toggle-md":"md"===r,"toggle-sm":"sm"===r,"toggle-xs":"xs"===r,"toggle-primary":"primary"===n,"toggle-secondary":"secondary"===n,"toggle-accent":"accent"===n,"toggle-info":"info"===n,"toggle-success":"success"===n,"toggle-warning":"warning"===n,"toggle-error":"error"===n}));return(0,sn.jsx)("input",$l({},s,{ref:t,type:"checkbox","data-theme":a,className:i}))})).displayName="Toggle";const nh=["className","size","color","bordered","dataTheme"];(0,Te.forwardRef)(((e,t)=>{let{className:n,size:r,color:a,bordered:o,dataTheme:s}=e,i=Jl(e,nh);const l=Fc("file-input",n,Zl({"file-input-lg":"lg"===r,"file-input-md":"md"===r,"file-input-sm":"sm"===r,"file-input-xs":"xs"===r,"file-input-primary":"primary"===a,"file-input-secondary":"secondary"===a,"file-input-accent":"accent"===a,"file-input-ghost":"ghost"===a,"file-input-info":"info"===a,"file-input-success":"success"===a,"file-input-warning":"warning"===a,"file-input-error":"error"===a,"file-input-bordered":o}));return(0,sn.jsx)("input",$l({},i,{ref:t,type:"file","data-theme":s,className:l}))})).displayName="FileInput";const rh=["children","demo","size","horizontal","dataTheme","className"];(0,Te.forwardRef)(((e,t)=>{let{children:n,demo:r=!0,size:a,horizontal:o,dataTheme:s,className:i}=e,l=Jl(e,rh);const c=Fc("artboard",i,Zl({"artboard-demo":r,"phone-1":1===a,"phone-2":2===a,"phone-3":3===a,"phone-4":4===a,"phone-5":5===a,"phone-6":6===a,horizontal:o}));return(0,sn.jsx)("div",$l({"aria-label":"Artboard"},l,{ref:t,"data-theme":s,className:c,children:n}))})).displayName="Artboard";const ah=["children","vertical","horizontal","responsive","color","start","end","dataTheme","className"],oh=(0,Te.forwardRef)(((e,t)=>{let{children:n,vertical:r,horizontal:a,responsive:o,color:s,start:i,end:l,dataTheme:c,className:u}=e,d=Jl(e,ah);const f=Fc("divider",u,Zl({"divider-vertical":r,"divider-horizontal":a,"lg:divider-horizontal":o,"divider-neutral":"neutral"===s,"divider-primary":"primary"===s,"divider-secondary":"secondary"===s,"divider-accent":"accent"===s,"divider-warning":"warning"===s,"divider-info":"info"===s,"divider-error":"error"===s,"divider-start":i,"divider-end":l}));return(0,sn.jsx)("div",$l({role:"separator"},d,{"data-theme":c,className:f,ref:t,children:n}))}));oh.displayName="Divider";const sh=["children","side","open","end","dataTheme","className","toggleClassName","contentClassName","sideClassName","overlayClassName","onClickOverlay"],ih=e=>{let{children:t,side:n,open:r,end:a,dataTheme:o,className:s,toggleClassName:i,contentClassName:l,sideClassName:c,overlayClassName:u,onClickOverlay:d}=e,f=Jl(e,sh);const h=Fc("drawer",s,Zl({"drawer-end":a}));return(0,sn.jsxs)("div",$l({"aria-expanded":r},f,{"data-theme":o,className:h,children:[(0,sn.jsx)("input",{type:"checkbox",className:Zl("drawer-toggle",i),checked:r,readOnly:!0}),(0,sn.jsx)("div",{className:Zl("drawer-content",l),children:t}),(0,sn.jsxs)("div",{className:Zl("drawer-side",c),children:[(0,sn.jsx)("label",{className:Zl("drawer-overlay",u),onClick:d}),n]})]}))},lh=["className"],ch=Te.forwardRef(((e,t)=>{let{className:n}=e,r=Jl(e,lh);const a=Fc("footer-title",n);return(0,sn.jsx)("span",$l({},r,{className:a,ref:t}))})),uh=["center","dataTheme","className"],dh=Te.forwardRef(((e,t)=>{let{center:n,dataTheme:r,className:a}=e,o=Jl(e,uh);const s=Fc("footer",a,Zl({"footer-center":n}));return(0,sn.jsx)("div",$l({role:"contentinfo"},o,{"data-theme":r,className:s,ref:t}))}));var fh=Object.assign(dh,{Title:ch});const hh=["dataTheme","className","children"],mh=Te.forwardRef(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,hh);const s=Fc("hero-content",r);return(0,sn.jsx)("div",$l({},o,{"data-theme":n,className:s,ref:t,children:a}))})),ph=["dataTheme","className","children"],gh=Te.forwardRef(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,ph);const s=Fc("hero-overlay",r);return(0,sn.jsx)("div",$l({},o,{"data-theme":n,className:s,ref:t,children:a}))})),vh=["dataTheme","className","children"],bh=Te.forwardRef(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,vh);const s=Fc("hero",r);return(0,sn.jsx)("div",$l({role:"banner"},o,{"data-theme":n,className:s,ref:t,children:a}))}));Object.assign(bh,{Content:mh,Overlay:gh});const yh=["children","horizontal","vertical","dataTheme","className"],wh=function(){let{className:e,horizontal:t,vertical:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fc("indicator-item",e,Zl({"indicator-start":"start"===t,"indicator-center":"center"===t,"indicator-end":"end"===t,"indicator-top":"top"===n,"indicator-middle":"middle"===n,"indicator-bottom":"bottom"===n}))},xh=Te.forwardRef(((e,t)=>{let{children:n,horizontal:r="end",vertical:a="top",className:o}=e,s=Jl(e,yh);return(0,sn.jsx)("div",$l({"aria-label":"Indicator"},s,{className:wh({className:o,horizontal:r,vertical:a}),ref:t,children:n}))}));xh.displayName="IndicatorItem";var kh=Object.assign(xh,{className:wh});const jh=["children","className","dataTheme"],Nh=function(){let{className:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fc("indicator",e)},Eh=Te.forwardRef(((e,t)=>{let{children:n,className:r,dataTheme:a}=e,o=Jl(e,jh);return(0,sn.jsx)("div",$l({},o,{"data-theme":a,className:Nh({className:r}),ref:t,children:n}))}));Eh.displayName="Indicator";Object.assign(Eh,{Item:kh,className:Nh});const Sh=["src","variant","dataTheme","className"],Ch=function(){let{className:e,variant:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fc("mask",e,Zl({"mask-squircle":"squircle"===t,"mask-heart":"heart"===t,"mask-hexagon":"hexagon"===t,"mask-hexagon-2":"hexagon-2"===t,"mask-decagon":"decagon"===t,"mask-pentagon":"pentagon"===t,"mask-diamond":"diamond"===t,"mask-square":"square"===t,"mask-circle":"circle"===t,"mask-parallelogram":"parallelogram"===t,"mask-parallelogram-2":"parallelogram-2"===t,"mask-parallelogram-3":"parallelogram-3"===t,"mask-parallelogram-4":"parallelogram-4"===t,"mask-star":"star"===t,"mask-star-2":"star-2"===t,"mask-triangle":"triangle"===t,"mask-triangle-2":"triangle-2"===t,"mask-triangle-3":"triangle-3"===t,"mask-triangle-4":"triangle-4"===t,"mask-half-1":"half-1"===t,"mask-half-2":"half-2"===t}))},_h=Te.forwardRef(((e,t)=>{let{src:n,variant:r,dataTheme:a,className:o}=e,s=Jl(e,Sh);return(0,sn.jsx)("img",$l({},s,{"data-theme":a,className:Ch({className:o,variant:r}),src:n,ref:t}))}));_h.displayName="Mask";Object.assign(_h,{className:Ch});const Th=["dataTheme","className","children"];(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,Th);const s=Fc("stack",r);return(0,sn.jsx)("div",$l({"aria-label":"Stack"},o,{ref:t,"data-theme":n,className:s,children:a}))})).displayName="Stack";const Ph=["dataPrefix","dataTheme","status","className","children","innerProps","innerRef"],Rh=(0,Te.forwardRef)(((e,t)=>{let{dataPrefix:n,dataTheme:r,status:a,className:o,children:s,innerProps:i,innerRef:l}=e,c=Jl(e,Ph);const u=Fc(Zl({"bg-info":"info"===a,"bg-success":"success"===a,"bg-warning":"warning"===a,"bg-error":"error"===a,"text-info-content":"info"===a,"text-success-content":"success"===a,"text-warning-content":"warning"===a,"text-error-content":"error"===a}),o),d=$l({},c,{className:u},!1!==n&&{"data-prefix":n||">"});return(0,sn.jsx)("pre",$l({},d,{"data-theme":r,className:u,ref:t,children:(0,sn.jsx)("code",$l({},i,{ref:l,children:s}))}))}));Rh.displayName="CodeMockup.Line";const Ih=["dataTheme","className","children"],Oh=(0,Te.forwardRef)(((e,t)=>{let{dataTheme:n,className:r,children:a}=e,o=Jl(e,Ih);const s=Fc("mockup-code",r);return(0,sn.jsx)("div",$l({"aria-label":"Code mockup"},o,{"data-theme":n,className:s,ref:t,children:Te.Children.map(a,((e,t)=>{const n=e;return Te.cloneElement(n,{key:t})}))}))}));Oh.displayName="CodeMockup";Object.assign(Oh,{Line:Rh});const Ah=["color","dataTheme","className","children","innerRef","innerProps"];(0,Te.forwardRef)(((e,t)=>{let{color:n,dataTheme:r,className:a,children:o,innerRef:s,innerProps:i}=e,l=Jl(e,Ah);const c=Fc("mockup-phone",Zl({"border-primary":"primary"===n,"border-secondary":"secondary"===n,"border-info":"info"===n,"border-success":"success"===n,"border-warning":"warning"===n,"border-error":"error"===n}),a);return(0,sn.jsxs)("div",$l({"aria-label":"Phone mockup"},l,{"data-theme":r,className:c,ref:t,children:[(0,sn.jsx)("div",{className:"camera"}),(0,sn.jsx)("div",{className:"display",children:(0,sn.jsx)("div",$l({},i,{className:Fc("artboard artboard-demo phone-1",null==i?void 0:i.className),ref:s,children:o}))})]}))})).displayName="PhoneMockup";const Mh=["border","borderColor","backgroundColor","frameColor","dataTheme","className","children"];(0,Te.forwardRef)(((e,t)=>{let{border:n,borderColor:r,backgroundColor:a,frameColor:o,dataTheme:s,className:i,children:l}=e,c=Jl(e,Mh);const u=r||(o||"base-300"),d=Fc("mockup-window",n&&"border border-".concat(u),Zl({"border-primary":"primary"===u,"border-secondary":"secondary"===u,"border-accent":"accent"===u,"border-info":"info"===u,"border-success":"success"===u,"border-warning":"warning"===u,"border-error":"error"===u,"border-base-100":"base-100"===u,"border-base-200":"base-200"===u,"border-base-300":"base-300"===u,"border-neutral":"neutral"===u,"bg-primary":"primary"===o,"bg-secondary":"secondary"===o,"bg-accent":"accent"===o,"bg-info":"info"===o,"bg-success":"success"===o,"bg-warning":"warning"===o,"bg-error":"error"===o,"bg-base-100":"base-100"===o,"bg-base-200":"base-200"===o,"bg-base-300":"base-300"===o,"bg-neutral":"neutral"===o}),i),f=Te.Children.count(l)>0&&Te.Children.toArray(l)[0],h=Zl(a&&"bg-".concat(a),n&&"border-t border-".concat(u),"p-4"),m=f&&Te.isValidElement(f)?Te.cloneElement(f,{className:Fc(h,f.props.className)}):(0,sn.jsx)("div",{className:h,children:l});return(0,sn.jsx)("div",$l({"aria-label":"Window mockup"},c,{"data-theme":s,className:d,ref:t,children:m}))})).displayName="WindowMockup";const zh=Te.createContext({theme:"light",setTheme:()=>{}}),Lh=["children","dataTheme","onChange","className"],Dh=Te.forwardRef(((e,t)=>{let{children:n,dataTheme:r,onChange:a,className:o}=e,s=Jl(e,Lh);const i=(0,Te.useRef)(null==t?void 0:t.current),l=(e=>{if(!e.current)return;const t=e.current.closest("[data-theme]");return t?t.getAttribute("data-theme"):void 0})(i),[c,u]=(0,Te.useState)(r||l||"light"),d=e=>{a&&a(e),u(e)};return(0,Te.useEffect)((()=>{r!==c&&r&&d(r)}),[r]),(0,sn.jsx)(zh.Provider,{value:{theme:c,setTheme:d},children:(0,sn.jsx)("div",$l({},s,{"data-theme":c,className:o,ref:i,children:n}))})})),Bh=e=>{const{theme:t,setTheme:n}=(0,Te.useContext)(zh);return(0,Te.useEffect)((()=>{e&&t!==e&&n(e)}),[e]),{theme:t,setTheme:n}};function Fh(){const e=Zs();return(0,Te.useEffect)((()=>{if(!e)return;const t=new AbortController;return e.on(Bs.EVENT,(e=>{if(e.type!==Bs.EVENT)return;const t=e.detail;console.log("[Nostr] LOGGING INCOMING EVENT",t)}),{signal:t.signal}),()=>t.abort()}),[e]),(0,Te.useEffect)((()=>{if(!e)return;const t=new AbortController;return e.on(Bs.NOTICE,(e=>{if(e.type!==Bs.NOTICE)return;const t=e.detail;console.log("[Nostr] LOGGING INCOMING NOTICE",t)}),{signal:t.signal}),()=>t.abort()}),[e]),(0,sn.jsx)(sn.Fragment,{})}const Kh=1440,Uh=256,Wh=((e,t)=>{const n=[];if(e<0)throw new Error("`amount` must not be negative");if(0===e)return[];let r=Cs(de(ve(4)));for(;n.length<e;){const e=r.substring(0,Bl(1,t));n.includes(e)||n.push(e),r=Cs(r)}return n})(4,10),Hh=Wh[0],qh=Wh[1],Vh=Wh[2],Gh=Wh[3],Qh=(e,t)=>e&&e?[{...el(e),since:$h(t),limit:Uh}]:[],$h=e=>{const t=new Date,n=new Date(t.getTime()-60*e*1e3),r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),0));return Math.floor(r.getTime()/1e3)};function Yh(){const e=fn(),t=ui(),n=(0,Te.useMemo)((()=>e.currentGameRookrId),[e]),r=(0,Te.useMemo)((()=>{var t;return(null===(t=e.identity)||void 0===t?void 0:t.pubkey)||null}),[e]),[a]=(0,Te.useState)([{...Xi,since:$h(Kh),limit:Uh}]),o=(0,Te.useMemo)((()=>Qh(r,2880)),[r]),[s,i]=(0,Te.useState)([]),[l,c]=(0,Te.useState)([]);return(0,Te.useEffect)((()=>{t({id:Hh,filters:a})}),[a,t]),(0,Te.useEffect)((()=>{t({id:qh,filters:o})}),[o,t]),(0,Te.useEffect)((()=>{t({id:Vh,filters:s})}),[s,t]),(0,Te.useEffect)((()=>{t({id:Gh,filters:l})}),[l,t]),(0,Te.useEffect)((()=>{if(n){const e=vl(n);i(tl(e)),c(nl(e))}else i([]),c([])}),[n]),(0,sn.jsx)(sn.Fragment,{})}function Jh(e){let{children:t}=e;return(0,sn.jsx)("h1",{className:"font-bold tracking-tighter leading-tight text-5xl mt-0 mb-2",children:t})}function Xh(e){let{children:t}=e;return(0,sn.jsx)("h4",{className:"font-bold tracking-tighter leading-tight text-4xl mt-0 mb-2",children:t})}function Zh(e){let{children:t}=e;return(0,sn.jsx)("h4",{className:"font-bold tracking-tighter leading-tight text-3xl mt-0 mb-2",children:t})}function em(e){let{children:t}=e;return(0,sn.jsx)("h4",{className:"font-bold tracking-tighter leading-tight text-2xl mt-0 mb-2",children:t})}function tm(e){let{children:t}=e;return(0,sn.jsx)("h6",{className:"font-bold tracking-tighter leading-tight text-base mt-0 mb-2",children:t})}function nm(e){var t;let{buttonRef:n,onGameCreated:r,text:a="Start new game"}=e;const o=ti(),s=fn(),i=(0,Te.useMemo)((()=>{var e;return(null===(e=s.identity)||void 0===e?void 0:e.pubkey)||null}),[s]),l=(null===(t=Wl())||void 0===t?void 0:t.privateKey)||null,c=(0,Te.useCallback)((async()=>{if(!o)return void window.alert("Nostr EventBus not ready..");if(!i)return void window.alert("PubKey not available..");if(!l)return void window.alert("PrivKey not available..");const e=l,t=fl(i),n=qs(t,e);o.emit(Ls.EVENT,Ds(n)),r(gl(n.id))}),[o,i,l,r]);return(0,Te.useEffect)((()=>{n.current&&(n.current.onclick=e=>{e.preventDefault(),c()})}),[n,c]),(0,sn.jsx)(sn.Fragment,{})}function rm(e){let{buttonRef:t}=e;const n=Et();return(0,sn.jsx)(nm,{buttonRef:t,onGameCreated:async e=>{n("/redirect/game/".concat(e))}})}function am(e){let{buttonRef:t,RookrId:n}=e;const r=Et(),a=(0,Te.useCallback)((()=>r("/redirect/game/".concat(n))),[r,n]);return(0,Te.useEffect)((()=>{t&&t.current&&(t.current.onclick=e=>{e.preventDefault(),a()})}),[t,a]),(0,sn.jsx)(sn.Fragment,{})}function om(e){var t;let{opponentPubKey:n,buttonRef:r,onGameCreated:a}=e;const o=ti(),s=fn(),i=(0,Te.useMemo)((()=>{var e;return(null===(e=s.identity)||void 0===e?void 0:e.pubkey)||null}),[s]),l=(null===(t=Wl())||void 0===t?void 0:t.privateKey)||null,c=(0,Te.useCallback)((()=>{if(!o)return void window.alert("Nostr EventBus not ready..");if(!i)return void window.alert("PubKey not available..");if(!l)return void window.alert("PrivKey not available..");const e=l,t=dl(i,n),r=qs(t,e);o.emit(Ls.EVENT,Ds(r)),a&&a(gl(r.id))}),[o,i,l,n,a]),u=(0,Te.useCallback)((()=>c()),[c]);return(0,Te.useEffect)((()=>{r&&r.current&&(r.current.onclick=e=>{e.preventDefault(),u()})}),[r,u]),(0,sn.jsx)(sn.Fragment,{})}function sm(e){let{buttonRef:t,opponentPubKey:n,onGameCreated:r}=e;const a=Et();return(0,sn.jsx)(om,{buttonRef:t,opponentPubKey:n,onGameCreated:async e=>{a("/redirect/game/".concat(e)),r&&r(e)}})}const im={home:"/",login:"/login",currentGame:"/current",lobby:"/lobby",search:"/search",faq:"/faq",settings:"/settings","*":"/",__noCurrentGame:"/--no-current-game"};function lm(){return(0,sn.jsx)(tn,{to:im.settings,className:"block flex justify-center my-4",children:(0,sn.jsx)("div",{className:"w-full max-w-sm",children:(0,sn.jsx)(Sf,{status:"warning",children:"No connection to nostr : ("})})})}function cm(){const e=Zs(),t=(0,Te.useRef)(null);return(0,sn.jsx)("div",{className:"screen-current-game",children:(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsxs)("div",{className:"w-full grid grid-cols-1 lg:w-8/12",children:[(0,sn.jsx)(Jh,{children:"It seems you do not have a game running.."}),(0,sn.jsx)("div",{className:"flex justify-center items-center",children:e?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)(qc,{color:"success",ref:t,className:"w-48 h-16",children:["Start A new game",(0,sn.jsx)(rm,{buttonRef:t})]})}):(0,sn.jsx)(lm,{})})]})})})}const um=["wss://relay.damus.io","wss://nostr.swiss-enigma.ch","wss://nostr.einundzwanzig.space","wss://offchain.pub"];function dm(){const e=fn(),t=hn(),[n,r]=(0,Te.useState)(!1);return(0,Te.useEffect)((()=>{if(n)return;(!e.relays||0===e.relays.length)&&t({relays:[um[0]]}),r(!0)}),[n,e,t]),(0,sn.jsx)(sn.Fragment,{})}const fm=e=>{let{isOn:t,isError:n=!1}=e;return(0,sn.jsx)("span",{className:"activity-indicator ".concat(n?"activity-indicator-error":t?"activity-indicator-on":"activity-indicator-off")})},hm=()=>{const e=wn();return(0,sn.jsx)(fm,{isOn:(null===e||void 0===e?void 0:e.readyState)===WebSocket.OPEN,isError:e&&e.readyState===WebSocket.CLOSED})};function mm(e){let{buttonRef:t,onIdentityCreated:n}=e;const r=hn(),a=(0,Te.useCallback)((async()=>{const e=Il(),t={pubkey:Ol(e)};Ul({privateKey:e}),r({identity:t}),n&&n(t)}),[r,n]),o=(0,Te.useCallback)((()=>a()),[a]);return(0,Te.useEffect)((()=>{t.current&&(t.current.onclick=o)}),[t,o]),(0,sn.jsx)(sn.Fragment,{})}const pm=e=>{let{label:t,availableBots:n,selectedBotName:r,setSelectedBotName:a,disabled:o}=e;return(0,sn.jsx)("div",{className:"flex items-center gap-2 font-sans",children:(0,sn.jsxs)("div",{className:"form-control w-full max-w-xs",children:[(0,sn.jsx)("label",{className:"label",children:(0,sn.jsx)("span",{className:"label-text",children:t})}),(0,sn.jsxs)(eh,{value:r||void 0,onChange:e=>a(e.target.value||null),disabled:o,children:[(0,sn.jsx)(eh.Option,{value:void 0,children:"Default"}),(0,sn.jsx)(sn.Fragment,{children:Object.keys(n).map((e=>(0,sn.jsx)(eh.Option,{value:e,children:e},e)))})]})]})})},gm=e=>"Rookr \u2022 ".concat(e);function vm(e){let{text:t,transform:n=gm}=e;const[r]=(0,Te.useState)(document.title),[a,o]=(0,Te.useState)(t||r);return(0,Te.useEffect)((()=>(document.title=n(a),()=>{document.title=r})),[n,r,a]),o}const bm=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"];function ym(e){let{dataTheme:t,selected:n,onClick:r}=e;return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Dh,{dataTheme:t,role:"button","aria-label":"Theme select","aria-pressed":n,tabIndex:0,onClick:()=>r(t),className:"border-base-content/20 hover:border-base-content/40 outline-base-content rounded-lg overflow-hidden border outline-2 outline-offset-2",children:(0,sn.jsxs)("div",{className:"grid grid-cols-5 grid-rows-3",children:[(0,sn.jsx)("div",{className:"bg-base-200 col-start-1 row-span-2 row-start-1"}),(0,sn.jsx)("div",{className:"bg-base-300 col-start-1 row-start-3"}),(0,sn.jsxs)("div",{className:"bg-base-100 col-span-4 col-start-2 row-span-3 row-start-1 flex flex-col gap-1 p-2",children:[(0,sn.jsx)("div",{className:"font-bold",children:t}),(0,sn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,sn.jsx)(qc,{size:"xs",color:"primary",children:"A"}),(0,sn.jsx)(qc,{size:"xs",color:"secondary",children:"A"}),(0,sn.jsx)(qc,{size:"xs",color:"accent",children:"A"}),(0,sn.jsx)(qc,{size:"xs",color:"ghost",children:"A"})]})]})]})})})}const wm=de(ve(32)),xm=27357;function km(e){let{pubKey:t,privKey:n}=e;const r=ei(),a=ti(),o=ui(),[s,i]=(0,Te.useState)(),[l,c]=(0,Te.useState)("");(0,Te.useEffect)((()=>{const e=Math.round(Date.now()/1e3);return o({id:"dev_debug",filters:null!==t?[{authors:[t],since:e,"#e":[wm],kinds:[xm]}]:[]}),()=>{o({id:"dev_debug",filters:[]})}}),[t,o]),(0,Te.useEffect)((()=>{if(""===l)return;const e=new AbortController,t=setTimeout((()=>{e.signal.aborted||(i(void 0),c(""))}),2e3);return()=>{e.abort(),clearTimeout(t)}}),[l]),(0,Te.useEffect)((()=>{if(!s)return;const e=r.state().events[s.id];c(e?"200 OK":"404 NOT FOUND"),e&&i(void 0)}),[s,r]);return(0,sn.jsx)(qc,{onClick:()=>(()=>{if(""===l)if(a)if(t)if(n)try{const e=Fs();e.kind=xm,e.pubkey=t,e.tags=[["e",wm]],e.created_at=Math.floor(Date.now()/1e3),e.content="";const r=Ks(e),o=qs(r,n);if(!Gs(o))throw new Error("Cannot create valid signature for Nostr event..");i(o),a.emit(Ls.EVENT,Ds(o))}catch(jn){const t=jn instanceof Error&&jn.message||jn;window.alert("Error: ".concat(t))}else window.alert("PrivKey not available..");else window.alert("PubKey not available..");else window.alert("Nostr EventBus not ready..")})(),disabled:!!s,color:"200 OK"===l?"success":void 0,children:s?"Testing connection...":""!==l?l:"Test connection"})}const jm=e=>{let{pubKey:t,privKey:n,setKeyPair:r}=e;const a=(0,Te.useRef)(null),[o,s]=(0,Te.useState)(t||""),[i,l]=(0,Te.useState)(n||""),[c,u]=(0,Te.useState)(void 0);(0,Te.useEffect)((()=>{s(t||"")}),[t]),(0,Te.useEffect)((()=>{l(n||"")}),[n]),(0,Te.useEffect)((()=>{u(void 0)}),[o,i]),(0,Te.useEffect)((()=>{if(c)return;const e=((e,t)=>{if(null===e||null===t)return!1;try{const n=Fs();n.kind=1,n.pubkey=e,n.created_at=Math.floor(Date.now()/1e3),n.content="Hello World";const r=Ks(n),a=qs(r,t);return Gs(a)}catch(jn){return!1}})(o,i);u(e),e&&r(o,i)}),[c,o,i,r]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"flex flex-col gap-1 mb-4",children:[(0,sn.jsxs)("div",{className:"form-control",children:[(0,sn.jsxs)("label",{className:"label",children:[(0,sn.jsx)("span",{className:"label-text",children:"Public Key:"}),(0,sn.jsx)("span",{className:"label-text-alt font-mono",children:t&&Ml(t)})]}),(0,sn.jsx)(Wf,{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Public Key"})]}),(0,sn.jsxs)("div",{className:"form-control",children:[(0,sn.jsxs)("label",{className:"label",children:[(0,sn.jsx)("span",{className:"label-text",children:"Private Key:"}),(0,sn.jsx)("span",{className:"label-text-alt font-mono",children:n&&Ml(n)})]}),(0,sn.jsx)(Wf,{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Private Key",color:!1===c?"error":!0===c?"success":void 0})]})]}),(0,sn.jsxs)("div",{className:"flex gap-2",children:[(0,sn.jsxs)(qc,{ref:a,className:"w-40",children:["New Identity",(0,sn.jsx)(mm,{buttonRef:a})]}),(0,sn.jsx)(qc,{onClick:()=>r(null,null),className:"w-40",children:"Forget"})]})]})};function Nm(){var e;vm({text:"Settings"});const t=fn(),n=hn(),r=wn(),{theme:a,setTheme:o}=Bh(),[s,i]=(0,Te.useState)(0),l=(0,Te.useMemo)((()=>t.relays),[t]),c=(0,Te.useMemo)((()=>t.botName),[t]),u=(0,Te.useMemo)((()=>{var e;return(null===(e=t.identity)||void 0===e?void 0:e.pubkey)||null}),[t]),d=(null===(e=Wl())||void 0===e?void 0:e.privateKey)||null,f=(0,Te.useCallback)(((e,t)=>{n({identity:null!==e?{pubkey:e}:void 0}),Ul({privateKey:t})}),[n]),h=(0,Te.useCallback)((e=>{const t=l.indexOf(e,0);if(-1===t)n({relays:[e]});else{const e=[...l];e.splice(t,1),n({relays:e})}}),[l,n]),m=e=>{switch(e){case WebSocket.CONNECTING:return"neutral";case WebSocket.OPEN:return"success";case WebSocket.CLOSING:return"warning";case WebSocket.CLOSED:return"error";default:return}};return(0,sn.jsxs)("div",{className:"screen-settings pb-4",children:[(0,sn.jsx)(Jh,{children:"Settings"}),(0,sn.jsxs)(Nf,{className:"mb-8",size:"lg",variant:"bordered",children:[(0,sn.jsx)(Nf.Tab,{active:0===s,onClick:()=>i(0),children:"nostr"}),(0,sn.jsx)(Nf.Tab,{active:1===s,onClick:()=>i(1),children:"Theme"}),(0,sn.jsx)(Nf.Tab,{active:2===s,onClick:()=>i(2),children:"Dev"})]}),(0,sn.jsxs)("div",{className:"pb-16 ".concat(2===s?"block":"hidden"),children:[(0,sn.jsx)(Xh,{children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{children:"Rookr"}),(0,sn.jsx)("img",{className:"w-16 h-16 mr-1 ml-1",src:"logo192.png",alt:"\ud83c\udccf",title:"\ud83c\udccf Rookr \u2022 chess over nostr"})]})}),(0,sn.jsxs)("div",{className:"flex gap-2",children:[(0,sn.jsx)("div",{className:"flex items-center",children:(0,sn.jsx)(Kf,{id:"developer-mode-checkbox",checked:t.dev,onChange:()=>{n({dev:!t.dev})}})}),(0,sn.jsx)("div",{className:"flex flex-col p-2",children:(0,sn.jsx)(Bf.Label,{htmlFor:"developer-mode-checkbox",title:"Enable Developer Mode",className:"p-0"})})]}),t.dev&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"pb-4",style:{display:"none"},children:(0,sn.jsx)(pm,{label:"Personal robot",availableBots:Pl,selectedBotName:c,setSelectedBotName:e=>{n({botName:e})},disabled:!1})})}),t.dev&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Xh,{children:"Raw"}),(0,sn.jsx)("div",{children:(0,sn.jsx)("pre",{children:"".concat(JSON.stringify(t,null,2))})})]})]}),(0,sn.jsxs)("div",{className:"pb-16 ".concat(0===s?"block":"hidden"),children:[(0,sn.jsx)(Xh,{children:"nostr"}),(0,sn.jsxs)("div",{className:"grid gap-x-24 gap-y-4 grid-cols-1 lg:grid-cols-2",children:[(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsx)(Zh,{children:"Identity"}),(0,sn.jsx)("div",{children:(0,sn.jsx)(jm,{pubKey:u,privKey:d,setKeyPair:f})})]}),(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsx)(Zh,{children:"Relays"}),(0,sn.jsxs)("div",{className:"pb-4",children:[(0,sn.jsxs)("div",{className:"pb-1",children:["Status:",(0,sn.jsx)("span",{className:"px-1",children:(0,sn.jsx)(hm,{})}),(0,sn.jsx)("span",{className:"font-mono",children:kn(null===r||void 0===r?void 0:r.readyState)})]}),(0,sn.jsxs)("div",{className:"pb-1",children:["Host:",(0,sn.jsx)("span",{className:"px-1",children:(0,sn.jsx)("span",{className:"font-mono",children:null===r||void 0===r?void 0:r.url})})]}),t.dev&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"py-1",children:(0,sn.jsx)(km,{pubKey:u,privKey:d})})}),(0,sn.jsx)("div",{className:"py-1",children:um.map(((e,t)=>(0,sn.jsxs)("div",{className:"flex gap-2 mb-1",children:[(0,sn.jsx)("div",{className:"flex items-center",children:(0,sn.jsx)(Kf,{color:l.includes(e)?m(null===r||void 0===r?void 0:r.readyState):void 0,id:"relay-checkbox-".concat(t),checked:l.includes(e),onChange:()=>h(e)})}),(0,sn.jsx)("div",{className:"flex flex-col p-2",children:(0,sn.jsx)(Bf.Label,{htmlFor:"relay-checkbox-".concat(t),title:e,className:"p-0"})})]},t)))})]})]})]})]}),(0,sn.jsxs)("div",{className:"pb-16 ".concat(1===s?"block":"hidden"),children:[(0,sn.jsx)(Xh,{children:"Theme"}),(0,sn.jsxs)("div",{className:"pb-8",children:["Selected theme:",(0,sn.jsx)("span",{className:"mx-2 font-mono",children:a})]}),(0,sn.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,sn.jsx)("div",{className:"grid grid-cols-4 gap-4",children:bm.map(((e,t)=>(0,sn.jsx)(ym,{dataTheme:e,selected:e===a,onClick:()=>{var t;t=e,document.getElementsByTagName("html")[0].setAttribute("data-theme",t),n({theme:t}),o(t)}},"theme_".concat(e,"_#").concat(t))))})})]})]})}function Em(e){let{RookrId:t,children:n}=e;const r=kl(),a=(0,Te.useMemo)((()=>t&&vl(t)),[t]),o=Nl((async()=>{if(!a)return null;return await r.game_start.get(a)||null}),[a],void 0);return(0,sn.jsx)(sn.Fragment,{children:n(o)})}function Sm(e){let{size:t=32,children:n}=e;return(0,sn.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,sn.jsxs)("svg",{style:{width:"".concat(t,"px"),height:"".concat(t,"px")},role:"status",className:"inline w-8 h-8 text-gray-600 animate-spin fill-gray-200",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,sn.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,sn.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,sn.jsx)(sn.Fragment,{children:n&&(0,sn.jsx)("small",{children:n})})]})}const Cm=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"}))}));function _m(e){let{value:t,alt:n=t,title:r=t,raw:a=!1,className:o=""}=e;const s=(0,Te.useMemo)((()=>a?t:Cs(t)),[t,a]);return(0,sn.jsx)("img",{className:o,src:"https://robohash.org/".concat(s),title:r,alt:n})}function Tm(e){const{value:t,alt:n,title:r,raw:a,className:o="",durationInMillis:s=350}=e,[i,l]=(0,Te.useState)(!0);return(0,Te.useEffect)((()=>{const e=new AbortController,t=setTimeout((()=>{e.signal.aborted||l(!1)}),s);return()=>{clearTimeout(t),e.abort()}}),[s]),(0,sn.jsxs)(sn.Fragment,{children:[i&&(0,sn.jsx)("div",{className:"grid ".concat(o||""),children:(0,sn.jsx)(Sm,{})}),(0,sn.jsx)("div",{className:"".concat(i?"hidden":"block transition-all duration-500"),children:(0,sn.jsx)(_m,{value:t,alt:n,title:r,raw:a,className:o})})]})}function Pm(e){let{size:t=24}=e;return(0,sn.jsx)("div",{className:"w-".concat(t," h-").concat(t," rounded-full shadow-lg-gray bg-base-300 flex justify-center items-center"),children:(0,sn.jsx)(Cm,{className:"w-".concat(t," h-").concat(t)})})}function Rm(e){let{game:t,children:n}=e;const r=kl(),a=Nl((async()=>await r.game_move.where("gameId").equals(t.id).count()),[t],null),o=Nl((async()=>await r.game_move.where("gameId").equals(t.id).sortBy("moveCounter")),[t],null),s=t.pubkey,i=Nl((async()=>{if(!t)return null;const e=await r.game_move.where("[gameId+moveCounter]").equals([t.id,2]).first();return e&&e.pubkey||null}),[t],null);return(0,sn.jsx)(sn.Fragment,{children:n({player1PubKey:s,player2PubKey:i,moveCount:a,moves:o})})}function Im(e){let{game:t,isCurrentGame:n=!1}=e;const r=fn(),a=(0,Te.useMemo)((()=>{var e;return(null===(e=r.identity)||void 0===e?void 0:e.pubkey)||null}),[r]),o=(0,Te.useMemo)((()=>gl(t.id)),[t]),s=(0,Te.useMemo)((()=>Ll(o)),[o]),i=(0,Te.useRef)(null);return n?(0,sn.jsx)(Om,{game:t}):(0,sn.jsx)(Rm,{game:t,children:e=>{let{player1PubKey:n,player2PubKey:r,moves:l}=e;const c=Dl(n),u=r&&Dl(r),d=null===l,f=null!==l?l.length:null,h=d||!(null!==a&&n!==a&&null===r)&&!(null!==a&&(n===a||r===a))?"watch":"play";return(0,sn.jsx)(tn,{to:"/game/".concat(o),className:"w-full max-w-sm",children:(0,sn.jsx)("div",{className:"rounded-lg shadow-sm hover:shadow-xl transform duration-300 hover:transform-scale-103 border border-base-content/20 hover:border-base-content/40",children:(0,sn.jsxs)("div",{className:"flex flex-col items-center py-4 px-4",children:[(0,sn.jsxs)("div",{className:"flex items-center sm:space-x-4 space-x-2 my-4",children:[(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:n,alt:c}),(0,sn.jsx)("div",{className:"text-xl font-medium",children:"vs."}),r&&u?(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:r,alt:u}):(0,sn.jsx)(Pm,{size:24})]}),(0,sn.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,sn.jsx)("h6",{className:"text-xs font-bold leading-normal mt-0 mb-1",children:s})}),f&&f>0?(0,sn.jsx)("span",{className:"mb-1 text-sm",children:"with ".concat(f," ").concat(1===f?"move":"moves")}):(0,sn.jsx)(sn.Fragment,{}),(0,sn.jsx)("div",{className:"mb-1 text-sm",children:(0,sn.jsxs)("small",{children:["Started ",As(1e3*t.created_at)]})}),(0,sn.jsx)("div",{className:"mt-2 w-full",children:d?(0,sn.jsx)(Sm,{}):(0,sn.jsxs)(qc,{color:"play"===h?"success":void 0,fullWidth:!0,ref:i,children:["play"===h?"Play":"Watch",(0,sn.jsx)(am,{buttonRef:i,RookrId:o})]})})]})})})}})}function Om(e){let{game:t,title:n="Active Game"}=e;const r=hn(),a=fn(),o=(0,Te.useMemo)((()=>{var e;return(null===(e=a.identity)||void 0===e?void 0:e.pubkey)||null}),[a]),s=(0,Te.useRef)(null),i=(0,Te.useMemo)((()=>gl(t.id)),[t]),l=(0,Te.useCallback)((()=>{r({currentGameRookrId:void 0})}),[r]);return(0,sn.jsx)(Rm,{game:t,children:e=>{let{player1PubKey:r,player2PubKey:a,moves:c}=e;const u=Dl(r),d=a&&Dl(a),f=null===c,h=null!==c?c.length:null,m=f||!(null!==o&&r!==o&&null===a)&&!(null!==o&&(r===o||a===o))?"watch":"play";return(0,sn.jsx)(tn,{to:"/game/".concat(i),className:"w-full max-w-sm",children:(0,sn.jsx)("div",{className:"rounded-lg border border-base-content/20 hover:border-base-content/40 shadow-sm hover:shadow-xl transform duration-300 hover:transform-scale-103",children:(0,sn.jsxs)("div",{className:"flex flex-col items-center pb-4 pt-4",children:[(0,sn.jsx)(qc,{className:"absolute right-2 top-2",size:"sm",shape:"circle",onClick:e=>{e.preventDefault(),l()},children:"\u2715"}),(0,sn.jsx)("div",{className:"flex items-center justify-center",children:(0,sn.jsx)("h6",{className:"text-xl font-bold leading-normal mt-0 mb-1",children:n})}),(0,sn.jsxs)("div",{className:"flex items-center sm:space-x-4 space-x-2 my-4",children:[(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:r,alt:u}),(0,sn.jsx)("div",{className:"text-xl font-medium",children:"vs."}),a&&d?(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:a,alt:d}):(0,sn.jsx)(Pm,{size:24})]}),c&&h&&h>0?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"mb-1 text-sm ",children:"with ".concat(h," ").concat(1===h?"move":"moves")}),(0,sn.jsx)("div",{className:"mb-1 text-sm",children:(0,sn.jsxs)("small",{children:["Last move ",As(1e3*c[h-1].created_at)]})})]}):(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"mb-1 text-sm",children:(0,sn.jsxs)("small",{children:["Started ",As(1e3*t.created_at)]})})}),(0,sn.jsx)("div",{className:"px-4 mt-2 w-full",children:f?(0,sn.jsx)(Sm,{}):(0,sn.jsxs)(qc,{color:"play"===m?"success":void 0,variant:"play"===m?void 0:"outline",ref:s,fullWidth:!0,children:["play"===m?"Play":"Watch",(0,sn.jsx)(am,{buttonRef:s,RookrId:i})]})})]})})})}})}function Am(e){let{identity:t}=e;return null===t?function(){const e=Et(),t=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"flex justify-center text-center",children:(0,sn.jsx)(Jh,{children:"Hello, fellow chess player."})}),(0,sn.jsx)("div",{className:"mt-6 mb-4 flex justify-center text-center",children:(0,sn.jsx)("span",{className:"font-bold",children:"Wanna start playing immediately? Let's go!"})}),(0,sn.jsx)("div",{className:"flex justify-center items-center space-x-4 my-4",children:(0,sn.jsxs)(qc,{color:"secondary",variant:"outline",size:"lg",ref:t,className:"w-full max-w-sm",children:["New Identity",(0,sn.jsx)(mm,{buttonRef:t})]})}),(0,sn.jsx)("div",{className:"flex justify-center items-center space-x-4 my-4",children:(0,sn.jsx)(qc,{color:"ghost",variant:"link",size:"lg",className:"w-full max-w-sm",onClick:()=>e("/lobby"),children:"Browse all games"})})]})}():function(e){let{identity:t}=e;const n=Et(),r=(0,Te.useMemo)((()=>Dl(t.pubkey)),[t]),a=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)(Tm,{className:"w-32 h-32 lg:w-48 lg:h-48 mb-2 rounded-full shadow-sm-gray bg-base-300",value:t.pubkey,alt:r})}),(0,sn.jsx)("div",{className:"flex justify-center text-center",children:(0,sn.jsx)(Jh,{children:"Welcome back, ".concat(Dl(t.pubkey),".")})}),(0,sn.jsx)("div",{className:"mt-6 mb-4 flex justify-center text-center",children:(0,sn.jsx)("span",{className:"font-bold",children:"Since nos2x is not yet supported, provide your private key or simply create a new identity."})}),(0,sn.jsxs)("div",{className:"flex justify-center items-center space-x-4 my-4",children:[(0,sn.jsx)(qc,{color:"primary",className:"w-40",onClick:()=>n("/login"),children:"Login"}),(0,sn.jsx)("div",{children:"or"}),(0,sn.jsxs)(qc,{color:"secondary",variant:"outline",ref:a,className:"w-40",children:["New Identity",(0,sn.jsx)(mm,{buttonRef:a})]})]}),(0,sn.jsx)("div",{className:"flex justify-center items-center space-x-4 my-4",children:(0,sn.jsx)(qc,{color:"ghost",variant:"link",className:"w-48",onClick:()=>n("/lobby"),children:"Browse all games"})})]})}({identity:t})}function Mm(e){let{identity:t}=e;const n=(0,Te.useRef)(null),r=(0,Te.useRef)(null),a=fn(),o=Et(),s=(0,Te.useMemo)((()=>Dl(t.pubkey)),[t]),i=Wl().privateKey,l=(0,Te.useMemo)((()=>Fl(i).publicKey),[i]),c=()=>o("/lobby");return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"grid grid-cols-1 justify-center justify-items-center content-center",children:(0,sn.jsx)(Tm,{className:"w-32 h-32 lg:w-48 lg:h-48 mb-2 rounded-full shadow-sm-gray bg-base-300",value:t.pubkey,alt:s})}),(0,sn.jsx)("div",{className:"flex justify-center text-center",children:(0,sn.jsx)(Jh,{children:"Hello, ".concat(s,".")})}),(0,sn.jsx)(Em,{RookrId:a.currentGameRookrId||null,children:e=>void 0===e?(0,sn.jsx)(Sm,{}):null===e?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"mt-6 mb-4 flex justify-center",children:(0,sn.jsx)("span",{className:"font-bold",children:"Are you ready?"})}),(0,sn.jsx)("div",{className:"grid grid-cols-1 justify-items-center space-y-4",children:(0,sn.jsxs)(qc,{color:"accent",size:"lg",className:"w-full max-w-sm",ref:r,children:["Challenge your robot",(0,sn.jsx)(sm,{buttonRef:r,opponentPubKey:l})]})}),(0,sn.jsx)("div",{className:"mt-6 mb-4 flex justify-center text-center",children:(0,sn.jsx)("span",{className:"font-bold",children:"\u2026 or practice with another human."})}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 justify-items-center space-y-4",children:[(0,sn.jsx)(qc,{color:"ghost",variant:"outline",size:"lg",className:"w-full max-w-sm",onClick:c,children:"Browse all games"}),(0,sn.jsxs)(qc,{color:"success",variant:"outline",size:"lg",className:"w-full max-w-sm",ref:n,children:["Start a new game",(0,sn.jsx)(rm,{buttonRef:n})]})]})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"mt-6 mb-4 flex justify-center text-center",children:(0,sn.jsx)("span",{className:"font-bold",children:"Game is active\u2026"})}),(0,sn.jsx)("div",{className:"flex justify-center my-2",children:(0,sn.jsx)(Om,{game:e})})]})})]})}function zm(){var e;vm({text:"chess over nostr"});const t=Zs(),n=fn(),r=(0,Te.useMemo)((()=>n.identity||null),[n]),a=(null===(e=Wl())||void 0===e?void 0:e.privateKey)||null,o=null===r||null===a;return(0,sn.jsx)("div",{className:"screen-index",children:(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsxs)("div",{className:"w-full grid grid-cols-1",children:[!t&&(0,sn.jsx)(lm,{}),(0,sn.jsx)("div",{className:"mt-2",children:o?(0,sn.jsx)(Am,{identity:r}):(0,sn.jsx)(Mm,{identity:r})})]})})})}const Lm=()=>(0,sn.jsxs)("blockquote",{className:"relative p-4 mb-4 border-l border-base-content/20 font-serif",children:[(0,sn.jsx)("span",{className:"block absolute top-0 leading-none opacity-10 text-8xl","aria-hidden":"true",children:"\u201c"}),(0,sn.jsx)("p",{className:"mb-4 pl-2 pt-2",children:"The simplest open protocol that is able to create a censorship-resistant global network once and for all."}),(0,sn.jsx)("cite",{className:"flex items-center",children:(0,sn.jsx)("span",{className:"flex flex-col items-start",children:(0,sn.jsx)("span",{className:"text-sm",children:"\u2014 nostr protocol readme"})})})]});function Dm(){return vm({text:"FAQ"}),(0,sn.jsxs)("div",{className:"screen-faq",children:[(0,sn.jsx)(Jh,{children:"FAQ"}),(0,sn.jsx)(Zh,{children:"What is this?"}),(0,sn.jsx)("p",{className:"mb-8",children:"A chess app on nostr."}),(0,sn.jsx)(Zh,{children:"What is nostr?"}),(0,sn.jsx)(Lm,{}),(0,sn.jsx)("p",{className:"mb-8",children:(0,sn.jsx)("a",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/fiatjaf/nostr",children:"Read more about nostr on GitHub."})}),(0,sn.jsx)(Zh,{children:"How can I do X?"}),(0,sn.jsx)("p",{className:"mb-8",children:"You probably can't. The current functionality is very limited."}),(0,sn.jsx)(Zh,{children:"I found a bug. How can I report it?"}),(0,sn.jsxs)("p",{className:"mb-8",children:["Please open an issue"," ",(0,sn.jsx)("a",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Rookrui/Rookrui/issues",children:"on the project's GitHub repo"}),"."]}),(0,sn.jsx)(Zh,{children:"This is in beta. Is this just a demo application?"}),(0,sn.jsx)("p",{className:"mb-8",children:"Yes."}),(0,sn.jsx)(Zh,{children:"Where are the robots coming from?"}),(0,sn.jsxs)("p",{className:"mb-8",children:["Robots lovingly delivered by"," ",(0,sn.jsx)("a",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"https://robohash.org/",children:"https://robohash.org"}),"."]})]})}function Bm(e){let{RookrId:t,replace:n}=e;const r=Et(),{RookrId:a}=Ct(),[o]=(0,Te.useState)(bl(t)||bl(a)||void 0);return(0,Te.useEffect)((()=>{o&&r("/game/".concat(o),{replace:n})}),[r,o,n]),(0,sn.jsx)(sn.Fragment,{})}function Fm(e){let{hasPrivateKey:t,hasPublicKey:n}=e;const r=(0,Te.useRef)(null);return(0,sn.jsx)(sn.Fragment,{children:t?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)(qc,{color:"success",ref:r,disabled:!t,className:"w-40",children:["Start new game",(0,sn.jsx)(rm,{buttonRef:r})]})}):(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Km,{hasPublicKey:n||!1})})})}function Km(e){let{hasPublicKey:t}=e;const n=Et(),r=(0,Te.useRef)(null);return(0,sn.jsxs)("div",{className:"flex justify-center items-center space-x-4 my-4",children:[t&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(qc,{color:"primary",className:"w-40",onClick:()=>n(im.login),children:"Login"}),(0,sn.jsx)("div",{children:"or"})]}),(0,sn.jsxs)(qc,{color:"secondary",variant:"outline",ref:r,className:"w-40",children:["New Identity",(0,sn.jsx)(mm,{buttonRef:r})]})]})}const Um=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))})),Wm=21,Hm=60,qm=e=>({from:new Date(e.getTime()-36e5),until:new Date(e.getTime()+36e5)});function Vm(e){let{games:t,currentGameId:n,filterCurrentGame:r=!1,childrenFirst:a=!1,children:o}=e;return(0,sn.jsxs)("div",{className:"grid justify-items-center items-center gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[a&&o,t.map((e=>{const t=e.id===n;return t&&r?(0,sn.jsx)("div",{className:"hidden"},e.id):(0,sn.jsx)("div",{className:"w-full max-w-sm",children:(0,sn.jsx)(Im,{game:e,isCurrentGame:t})},e.id)})),!a&&o]})}function Gm(){var e;const t=(0,Te.useRef)(null),n=(0,Te.useRef)(null),r=new Date,a=fn(),o=Zs(),s=kl(),i=vm({text:"Lobby"}),[l,c]=(0,Te.useState)(qm(new Date)),u=(0,Te.useMemo)((()=>a.currentGameRookrId&&vl(a.currentGameRookrId)),[a]),[d,f]=(0,Te.useState)(Wm),h=(0,Te.useMemo)((()=>{var e;return(null===(e=a.identity)||void 0===e?void 0:e.pubkey)||null}),[a]),m=(null===(e=Wl())||void 0===e?void 0:e.privateKey)||null,p=(0,Te.useMemo)((()=>h&&Zi(h)),[h]),g=(0,Te.useMemo)((()=>m&&Fl(m).publicKey),[m]),[v,b]=(0,Te.useState)(Date.now()),[y,w]=(0,Te.useState)(!0);(0,Te.useEffect)((()=>{c(qm(new Date)),w(!0);const e=new AbortController,t=setTimeout((()=>!e.signal.aborted&&w(!1)),1e3);return()=>{clearTimeout(t),e.abort()}}),[v]),(0,Te.useEffect)((()=>{const e=new AbortController,t=setInterval((()=>!e.signal.aborted&&b(Date.now())),1e3*Hm);return()=>{clearInterval(t),e.abort()}}),[]);const x=Nl((async()=>await s.game_start.where("created_at").between(l.from.getTime()/1e3,l.until.getTime()/1e3).limit(d).toArray()),[l,d],null),k=(0,Te.useMemo)((()=>x),[x]),j=Nl((async()=>{if(!p)return null;return await s.game_start.where("event_tags").equals(p).limit(12).toArray()}),[p],null);return(0,Te.useEffect)((()=>{x&&x.length>0?i("Lobby (".concat(x.length,")")):i("Lobby")}),[i,x]),(0,sn.jsx)("div",{className:"screen-games-overview",children:(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)("div",{className:"w-full grid grid-cols-1",children:o?(0,sn.jsxs)(sn.Fragment,{children:[null===m&&(0,sn.jsx)(Km,{hasPublicKey:!!h}),!1,j&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"my-4",children:(0,sn.jsxs)(tm,{children:["Direct Challenges (",j.length,")"]})}),(0,sn.jsx)("div",{className:"my-4",children:(0,sn.jsx)(Vm,{games:j,currentGameId:u,children:(0,sn.jsx)(sn.Fragment,{children:!u&&g&&(0,sn.jsxs)("button",{className:"w-full max-w-sm",ref:t,children:[(0,sn.jsx)(sm,{buttonRef:t,opponentPubKey:g}),(0,sn.jsx)("div",{className:"rounded-lg shadow-sm hover:shadow-xl transform duration-300 hover:transform-scale-103 border border-base-content/20 hover:border-base-content/40",children:(0,sn.jsxs)("div",{className:"grid grid-cols-1 justify-items-center content-center items-center py-4 px-4 h-64",children:[(0,sn.jsx)(_m,{className:"w-32 h-32 mb-4 rounded-full shadow-sm-gray bg-base-300",value:g,alt:g}),(0,sn.jsx)("span",{className:"text-accent font-bold uppercase",children:"Challenge robot"})]})})]})})})})]}),(0,sn.jsxs)("div",{className:"my-4",children:[(0,sn.jsxs)(tm,{children:["Latest Games (",k&&k.length>=d?">".concat(d):"".concat((null===k||void 0===k?void 0:k.length)||0),")"]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsxs)("div",{className:"text-sm font-bold leading-normal mt-0 mb-1",children:[(0,sn.jsxs)("div",{children:["".concat((null===k||void 0===k?void 0:k.length)||0)," games available in the last"," ",Math.floor((r.getTime()-l.from.getTime())/1e3/60)," minutes"]}),(0,sn.jsxs)("div",{children:[" on ",r.toLocaleString()]})]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(qc,{variant:"outline",size:"sm",onClick:()=>{b(Date.now())},className:"mx-4 h-8 ",disabled:y,children:(0,sn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sn.jsx)("div",{className:"w-6 flex items-center justify-center",children:y?(0,sn.jsx)(Sm,{size:16}):(0,sn.jsx)(Um,{className:"w-5 h-5"})}),(0,sn.jsx)("div",{className:"ml-2",children:"Refresh"})]})})})]})]}),(0,sn.jsxs)("div",{className:"mt-4 mb-24",children:[null!==k&&0===k.length&&(0,sn.jsxs)(Sf,{status:"info",className:"mb-4",children:[(0,sn.jsx)("div",{children:"Currently, no games are being played."}),y&&(0,sn.jsx)(Sm,{size:24})]}),(0,sn.jsx)(Vm,{games:k||[],currentGameId:u,filterCurrentGame:!0,childrenFirst:!!u,children:(0,sn.jsx)(Em,{RookrId:a.currentGameRookrId||null,children:e=>void 0===e?(0,sn.jsx)(Sm,{}):null===e?null!==m?(0,sn.jsxs)("button",{className:"w-full max-w-sm",ref:n,children:[(0,sn.jsx)(rm,{buttonRef:n}),(0,sn.jsx)("div",{className:"rounded-lg shadow-sm hover:shadow-xl transform duration-300 hover:transform-scale-103 border border-base-content/20 hover:border-base-content/40",children:(0,sn.jsx)("div",{className:"grid grid-cols-1 items-center justify-items-center py-4 px-4 h-64",children:(0,sn.jsx)("span",{className:"font-bold text-success uppercase",children:"Start a new game"})})})]}):(0,sn.jsx)(sn.Fragment,{}):(0,sn.jsx)(Om,{game:e})})}),k&&k.length>=d&&(0,sn.jsx)("div",{className:"flex justify-center my-4",children:(0,sn.jsx)(qc,{variant:"outline",size:"lg",onClick:()=>{f((e=>e+Wm))},disabled:y,children:(0,sn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sn.jsx)("div",{className:"w-6 flex items-center justify-center",children:y?(0,sn.jsx)(Sm,{size:16}):(0,sn.jsx)(Um,{className:"w-5 h-5"})}),(0,sn.jsx)("div",{className:"ml-2",children:"Load more"})]})})})]})]}):(0,sn.jsx)(lm,{})})})})}const Qm=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"}))}));const $m=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));const Ym=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z"}))})),Jm=["white","black"],Xm=["a","b","c","d","e","f","g","h"],Zm=["1","2","3","4","5","6","7","8"],ep=[...Zm].reverse(),tp=Array.prototype.concat(...Xm.map((e=>Zm.map((t=>e+t))))),np=e=>tp[8*e[0]+e[1]],rp=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],ap=tp.map(rp);const op=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},sp=e=>"white"===e?"black":"white",ip=(e,t)=>{const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},lp=(e,t)=>e.role===t.role&&e.color===t.color,cp=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],up=(e,t)=>{e.style.transform="translate(".concat(t[0],"px,").concat(t[1],"px)")},dp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.style.transform="translate(".concat(t[0],"px,").concat(t[1],"px) scale(").concat(n,")")},fp=(e,t)=>{e.style.visibility=t?"visible":"hidden"},hp=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},mp=e=>2===e.buttons||2===e.button,pp=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function gp(e,t,n){const r=rp(e);return t||(r[0]=7-r[0],r[1]=7-r[1]),[n.left+n.width*r[0]/8+n.width/16,n.top+n.height*(7-r[1])/8+n.height/16]}const vp=(e,t)=>Math.abs(e-t),bp=e=>(t,n,r,a)=>vp(t,r)<2&&("white"===e?a===n+1||n<=1&&a===n+2&&t===r:a===n-1||n>=6&&a===n-2&&t===r),yp=(e,t,n,r)=>{const a=vp(e,n),o=vp(t,r);return 1===a&&2===o||2===a&&1===o},wp=(e,t,n,r)=>vp(e,n)===vp(t,r),xp=(e,t,n,r)=>e===n||t===r,kp=(e,t,n,r)=>wp(e,t,n,r)||xp(e,t,n,r),jp=(e,t,n)=>(r,a,o,s)=>vp(r,o)<2&&vp(a,s)<2||n&&a===s&&a===("white"===e?0:7)&&(4===r&&(2===o&&t.includes(0)||6===o&&t.includes(7))||t.includes(o));function Np(e,t,n){const r=e.get(t);if(!r)return[];const a=rp(t),o=r.role,s="pawn"===o?bp(r.color):"knight"===o?yp:"bishop"===o?wp:"rook"===o?xp:"queen"===o?kp:jp(r.color,function(e,t){const n="white"===t?"1":"8",r=[];for(const[a,o]of e)a[1]===n&&o.color===t&&"rook"===o.role&&r.push(rp(a)[0]);return r}(e,r.color),n);return ap.filter((e=>(a[0]!==e[0]||a[1]!==e[1])&&s(a[0],a[1],e[0],e[1]))).map(np)}function Ep(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&setTimeout((()=>e(...n)),1)}function Sp(e){e.premovable.current&&(e.premovable.current=void 0,Ep(e.premovable.events.unset))}function Cp(e){const t=e.predroppable;t.current&&(t.current=void 0,Ep(t.events.unset))}function _p(e,t,n){const r=e.pieces.get(t),a=e.pieces.get(n);if(t===n||!r)return!1;const o=a&&a.color!==r.color?a:void 0;return n===e.selected&&Mp(e),Ep(e.events.move,t,n,o),function(e,t,n){if(!e.autoCastle)return!1;const r=e.pieces.get(t);if(!r||"king"!==r.role)return!1;const a=rp(t),o=rp(n);if(0!==a[1]&&7!==a[1]||a[1]!==o[1])return!1;4!==a[0]||e.pieces.has(n)||(6===o[0]?n=np([7,o[1]]):2===o[0]&&(n=np([0,o[1]])));const s=e.pieces.get(n);return!(!s||s.color!==r.color||"rook"!==s.role)&&(e.pieces.delete(t),e.pieces.delete(n),a[0]<o[0]?(e.pieces.set(np([6,o[1]]),r),e.pieces.set(np([5,o[1]]),s)):(e.pieces.set(np([2,o[1]]),r),e.pieces.set(np([3,o[1]]),s)),!0)}(e,t,n)||(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,Ep(e.events.change),o||!0}function Tp(e,t,n,r){if(e.pieces.has(n)){if(!r)return!1;e.pieces.delete(n)}return Ep(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,Ep(e.events.change),e.movable.dests=void 0,e.turnColor=sp(e.turnColor),!0}function Pp(e,t,n){const r=_p(e,t,n);return r&&(e.movable.dests=void 0,e.turnColor=sp(e.turnColor),e.animation.current=void 0),r}function Rp(e,t,n){if(Lp(e,t,n)){const r=Pp(e,t,n);if(r){const a=e.hold.stop();Mp(e);const o={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:a};return!0!==r&&(o.captured=r),Ep(e.movable.events.after,t,n,o),!0}}else if(Bp(e,t,n))return function(e,t,n,r){Cp(e),e.premovable.current=[t,n],Ep(e.premovable.events.set,t,n,r)}(e,t,n,{ctrlKey:e.stats.ctrlKey}),Mp(e),!0;return Mp(e),!1}function Ip(e,t,n,r){const a=e.pieces.get(t);a&&(function(e,t,n){const r=e.pieces.get(t);return!!r&&(t===n||!e.pieces.has(n))&&("both"===e.movable.color||e.movable.color===r.color&&e.turnColor===r.color)}(e,t,n)||r)?(e.pieces.delete(t),Tp(e,a,n,r),Ep(e.movable.events.afterNewPiece,a.role,n,{premove:!1,predrop:!1})):a&&function(e,t,n){const r=e.pieces.get(t),a=e.pieces.get(n);return!!r&&(!a||a.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==r.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===r.color&&e.turnColor!==r.color}(e,t,n)?function(e,t,n){Sp(e),e.predroppable.current={role:t,key:n},Ep(e.predroppable.events.set,t,n)}(e,a.role,n):(Sp(e),Cp(e)),e.pieces.delete(t),Mp(e)}function Op(e,t,n){if(Ep(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled)return Mp(e),void e.hold.cancel();if((e.selectable.enabled||n)&&e.selected!==t&&Rp(e,e.selected,t))return void(e.stats.dragged=!1)}(e.selectable.enabled||e.draggable.enabled)&&(zp(e,t)||Dp(e,t))&&(Ap(e,t),e.hold.start())}function Ap(e,t){e.selected=t,Dp(e,t)?e.premovable.dests=Np(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function Mp(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function zp(e,t){const n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}const Lp=(e,t,n)=>{var r,a;return t!==n&&zp(e,t)&&(e.movable.free||!!(null===(a=null===(r=e.movable.dests)||void 0===r?void 0:r.get(t))||void 0===a?void 0:a.includes(n)))};function Dp(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}const Bp=(e,t,n)=>t!==n&&Dp(e,t)&&Np(e.pieces,t,e.premovable.castle).includes(n);function Fp(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],r=t[1];let a=!1;if(Lp(e,n,r)){const t=Pp(e,n,r);if(t){const o={premove:!0};!0!==t&&(o.captured=t),Ep(e.movable.events.after,n,r,o),a=!0}}return Sp(e),a}function Kp(e){Sp(e),Cp(e),Mp(e)}function Up(e){e.movable.color=e.movable.dests=e.animation.current=void 0,Kp(e)}function Wp(e,t,n){let r=Math.floor(8*(e[0]-n.left)/n.width);t||(r=7-r);let a=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(a=7-a),r>=0&&r<8&&a>=0&&a<8?np([r,a]):void 0}const Hp=e=>"white"===e.orientation,qp="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",Vp={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},Gp={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function Qp(e){"start"===e&&(e=qp);const t=new Map;let n=7,r=0;for(const a of e)switch(a){case" ":case"[":return t;case"/":if(--n,n<0)return t;r=0;break;case"~":{const e=t.get(np([r-1,n]));e&&(e.promoted=!0);break}default:{const e=a.charCodeAt(0);if(e<57)r+=e-48;else{const e=a.toLowerCase();t.set(np([r,n]),{role:Vp[e],color:a===e?"black":"white"}),++r}}}return t}function $p(e,t){t.animation&&(Jp(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function Yp(e,t){var n,r;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),(null===(r=t.drawable)||void 0===r?void 0:r.autoShapes)&&(e.drawable.autoShapes=[]),Jp(e,t),t.fen&&(e.pieces=Qp(t.fen),e.drawable.shapes=[]),"check"in t&&function(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(const[n,r]of e.pieces)"king"===r.role&&r.color===t&&(e.check=n)}(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&Ap(e,e.selected),$p(e,t),!e.movable.rookCastle&&e.movable.dests){const t="white"===e.movable.color?"1":"8",n="e"+t,r=e.movable.dests.get(n),a=e.pieces.get(n);if(!r||!a||"king"!==a.role)return;e.movable.dests.set(n,r.filter((e=>!(e==="a"+t&&r.includes("c"+t))&&!(e==="h"+t&&r.includes("g"+t)))))}}function Jp(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&Xp(e[n])&&Xp(t[n])?Jp(e[n],t[n]):e[n]=t[n])}function Xp(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}const Zp=(e,t)=>t.animation.enabled?function(e,t){const n=new Map(t.pieces),r=e(t),a=function(e,t){const n=new Map,r=[],a=new Map,o=[],s=[],i=new Map;let l,c,u;for(const[d,f]of e)i.set(d,tg(d,f));for(const d of tp)l=t.pieces.get(d),c=i.get(d),l?c?lp(l,c.piece)||(o.push(c),s.push(tg(d,l))):s.push(tg(d,l)):c&&o.push(c);for(const d of s)c=ng(d,o.filter((e=>lp(d.piece,e.piece)))),c&&(u=[c.pos[0]-d.pos[0],c.pos[1]-d.pos[1]],n.set(d.key,u.concat(u)),r.push(c.key));for(const d of o)r.includes(d.key)||a.set(d.key,d.piece);return{anims:n,fadings:a}}(n,t);if(a.anims.size||a.fadings.size){const e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:a},e||rg(t,performance.now())}else t.dom.redraw();return r}(e,t):eg(e,t);function eg(e,t){const n=e(t);return t.dom.redraw(),n}const tg=(e,t)=>({key:e,pos:rp(e),piece:t}),ng=(e,t)=>t.sort(((t,n)=>ip(e.pos,t.pos)-ip(e.pos,n.pos)))[0];function rg(e,t){const n=e.animation.current;if(void 0===n)return void(e.dom.destroyed||e.dom.redrawNow());const r=1-(t-n.start)*n.frequency;if(r<=0)e.animation.current=void 0,e.dom.redrawNow();else{const t=ag(r);for(const e of n.plan.anims.values())e[2]=e[0]*t,e[3]=e[1]*t;e.dom.redrawNow(!0),requestAnimationFrame((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();return rg(e,t)}))}}const ag=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,og=["green","red","blue","yellow"];function sg(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?Mp(e):Kp(e);const n=hp(t),r=Wp(n,Hp(e),e.dom.bounds());r&&(e.drawable.current={orig:r,pos:n,brush:dg(t),snapToValidMove:e.drawable.defaultSnapToValidMove},ig(e))}function ig(e){requestAnimationFrame((()=>{const t=e.drawable.current;if(t){const n=Wp(t.pos,Hp(e),e.dom.bounds());n||(t.snapToValidMove=!1);const r=t.snapToValidMove?function(e,t,n,r){const a=rp(e),o=ap.filter((e=>kp(a[0],a[1],e[0],e[1])||yp(a[0],a[1],e[0],e[1]))),s=o.map((e=>gp(np(e),n,r))).map((e=>ip(t,e))),[,i]=s.reduce(((e,t,n)=>e[0]<t?e:[t,n]),[s[0],0]);return np(o[i])}(t.orig,t.pos,Hp(e),e.dom.bounds()):n;r!==t.mouseSq&&(t.mouseSq=r,t.dest=r!==t.orig?r:void 0,e.dom.redrawNow()),ig(e)}}))}function lg(e,t){e.drawable.current&&(e.drawable.current.pos=hp(t))}function cg(e){const t=e.drawable.current;t&&(t.mouseSq&&function(e,t){const n=e=>e.orig===t.orig&&e.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter((e=>!n(e))));r&&r.brush===t.brush||e.shapes.push(t);fg(e)}(e.drawable,t),ug(e))}function ug(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function dg(e){var t;const n=(e.shiftKey||e.ctrlKey)&&mp(e),r=e.altKey||e.metaKey||(null===(t=e.getModifierState)||void 0===t?void 0:t.call(e,"AltGraph"));return og[(n?1:0)+(r?2:0)]}function fg(e){e.onChange&&e.onChange(e.shapes)}function hg(e,t){if(!t.isTrusted||void 0!==t.button&&0!==t.button)return;if(t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),r=hp(t),a=Wp(r,Hp(e),n);if(!a)return;const o=e.pieces.get(a),s=e.selected;var i;s||!e.drawable.enabled||!e.drawable.eraseOnClick&&o&&o.color===e.turnColor||(i=e).drawable.shapes.length&&(i.drawable.shapes=[],i.dom.redraw(),fg(i.drawable)),!1!==t.cancelable&&(!t.touches||e.blockTouchScroll||o||s||function(e,t){const n=Hp(e),r=e.dom.bounds(),a=Math.pow(r.width/8,2);for(const o of e.pieces.keys()){const e=gp(o,n,r);if(ip(e,t)<=a)return!0}return!1}(e,r))&&t.preventDefault();const l=!!e.premovable.current,c=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&Lp(e,e.selected,a)?Zp((e=>Op(e,a)),e):Op(e,a);const u=e.selected===a,d=yg(e,a);if(o&&d&&u&&function(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}(e,a)){e.draggable.current={orig:a,piece:o,origPos:r,pos:r,started:e.draggable.autoDistance&&e.stats.dragged,element:d,previouslySelected:s,originTarget:t.target,keyHasChanged:!1},d.cgDragging=!0,d.classList.add("dragging");const i=e.dom.elements.ghost;i&&(i.className="ghost ".concat(o.color," ").concat(o.role),up(i,cp(n)(rp(a),Hp(e))),fp(i,!0)),mg(e)}else l&&Sp(e),c&&Cp(e);e.dom.redraw()}function mg(e){requestAnimationFrame((()=>{var t;const n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);const r=e.pieces.get(n.orig);if(r&&lp(r,n.piece)){if(!n.started&&ip(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"===typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}const t=e.dom.bounds();up(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==Wp(n.pos,Hp(e),t))}}else vg(e);mg(e)}))}function pg(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=hp(t))}function gg(e,t){const n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece)return void(e.draggable.current=void 0);Sp(e),Cp(e);const r=Wp(hp(t)||n.pos,Hp(e),e.dom.bounds());r&&n.started&&n.orig!==r?n.newPiece?Ip(e,n.orig,r,n.force):(e.stats.ctrlKey=t.ctrlKey,Rp(e,n.orig,r)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!r&&(e.pieces.delete(n.orig),Ep(e.events.change)),(n.orig!==n.previouslySelected&&!n.keyHasChanged||n.orig!==r&&r)&&e.selectable.enabled||Mp(e),bg(e),e.draggable.current=void 0,e.dom.redraw()}function vg(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,Mp(e),bg(e),e.dom.redraw())}function bg(e){const t=e.dom.elements;t.ghost&&fp(t.ghost,!1)}function yg(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}function wg(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function xg(e,t){function n(){!function(e){e.orientation=sp(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}(e),t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),$p(e,t),(t.fen?Zp:eg)((e=>Yp(e,t)),e)},state:e,getFen:()=>{return t=e.pieces,ep.map((e=>Xm.map((n=>{const r=t.get(n+e);if(r){let e=Gp[r.role];return"white"===r.color&&(e=e.toUpperCase()),r.promoted&&(e+="~"),e}return"1"})).join(""))).join("/").replace(/1{2,}/g,(e=>e.length.toString()));var t},toggleOrientation:n,setPieces(t){Zp((e=>function(e,t){for(const[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)}(e,t)),e)},selectSquare(t,n){t?Zp((e=>Op(e,t,n)),e):e.selected&&(Mp(e),e.dom.redraw())},move(t,n){Zp((e=>_p(e,t,n)),e)},newPiece(t,n){Zp((e=>Tp(e,t,n)),e)},playPremove(){if(e.premovable.current){if(Zp(Fp,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){const n=function(e,t){const n=e.predroppable.current;let r=!1;if(!n)return!1;t(n)&&Tp(e,{role:n.role,color:e.movable.color},n.key)&&(Ep(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),r=!0);return Cp(e),r}(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){eg(Sp,e)},cancelPredrop(){eg(Cp,e)},cancelMove(){eg((e=>{Kp(e),vg(e)}),e)},stop(){eg((e=>{Up(e),vg(e)}),e)},explode(t){!function(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout((()=>{wg(e,2),setTimeout((()=>wg(e,void 0)),120)}),120)}(e,t)},setAutoShapes(t){eg((e=>e.drawable.autoShapes=t),e)},setShapes(t){eg((e=>e.drawable.shapes=t),e)},getKeyAtDomPos:t=>Wp(t,Hp(e),e.dom.bounds()),redrawAll:t,dragNewPiece(t,n,r){!function(e,t,n,r){const a="a0";e.pieces.set(a,t),e.dom.redraw();const o=hp(n);e.draggable.current={orig:a,piece:t,origPos:o,pos:o,started:!0,element:()=>yg(e,a),originTarget:n.target,newPiece:!0,force:!!r,keyHasChanged:!1},mg(e)}(e,t,n,r)},destroy(){Up(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}function kg(e,t,n){const r=new Map,a=[];for(const i of e)r.set(i.hash,!1);let o,s=t.firstChild;for(;s;)o=s.getAttribute("cgHash"),r.has(o)?r.set(o,!0):a.push(s),s=s.nextSibling;for(const i of a)t.removeChild(i);for(const i of e)r.get(i.hash)||t.appendChild(n(i))}function jg(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ng(e,t,n){const r=e.drawable,a=r.current,o=a&&a.mouseSq?a:void 0,s=new Map,i=e.dom.bounds(),l=r.autoShapes.filter((e=>!e.piece));for(const m of r.shapes.concat(l).concat(o?[o]:[]))m.dest&&s.set(m.dest,(s.get(m.dest)||0)+1);const c=r.shapes.concat(l).map((e=>({shape:e,current:!1,hash:Eg(e,s,!1,i)})));o&&c.push({shape:o,current:!0,hash:Eg(o,s,!0,i)});const u=c.map((e=>e.hash)).join(";");if(u===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=u;const d=t.querySelector("defs"),f=t.querySelector("g"),h=n.querySelector("g");!function(e,t,n){const r=new Map;let a;for(const i of t)i.shape.dest&&(a=e.brushes[i.shape.brush],i.shape.modifiers&&(a=Og(a,i.shape.modifiers)),r.set(a.key,a));const o=new Set;let s=n.firstChild;for(;s;)o.add(s.getAttribute("cgKey")),s=s.nextSibling;for(const[i,l]of r.entries())o.has(i)||n.appendChild(Pg(l))}(r,c,d),kg(c.filter((e=>!e.shape.customSvg)),f,(t=>Tg(e,t,r.brushes,s,i))),kg(c.filter((e=>e.shape.customSvg)),h,(t=>Tg(e,t,r.brushes,s,i)))}function Eg(e,t,n,r){let{orig:a,dest:o,brush:s,piece:i,modifiers:l,customSvg:c}=e;return[r.width,r.height,n,a,o,s,o&&(t.get(o)||0)>1,i&&Sg(i),l&&Cg(l),c&&_g(c)].filter((e=>e)).join(",")}function Sg(e){return[e.color,e.role,e.scale].filter((e=>e)).join(",")}function Cg(e){return""+(e.lineWidth||"")}function _g(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return"custom-"+t.toString()}function Tg(e,t,n,r,a){let o,{shape:s,current:i,hash:l}=t;const c=Ig(rp(s.orig),e.orientation);if(s.customSvg)o=function(e,t,n){const[r,a]=zg(t,n),o=Rg(jg("g"),{transform:"translate(".concat(r,",").concat(a,")")}),s=Rg(jg("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return o.appendChild(s),s.innerHTML=e,o}(s.customSvg,c,a);else if(s.dest){let t=n[s.brush];s.modifiers&&(t=Og(t,s.modifiers)),o=function(e,t,n,r,a,o){const s=function(e){return(e?20:10)/64}(a&&!r),i=zg(t,o),l=zg(n,o),c=l[0]-i[0],u=l[1]-i[1],d=Math.atan2(u,c),f=Math.cos(d)*s,h=Math.sin(d)*s;return Rg(jg("line"),{stroke:e.color,"stroke-width":Ag(e,r),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+e.key+")",opacity:Mg(e,r),x1:i[0],y1:i[1],x2:l[0]-f,y2:l[1]-h})}(t,c,Ig(rp(s.dest),e.orientation),i,(r.get(s.dest)||0)>1,a)}else o=function(e,t,n,r){const a=zg(t,r),o=[3/64,4/64],s=(r.width+r.height)/(4*Math.max(r.width,r.height));return Rg(jg("circle"),{stroke:e.color,"stroke-width":o[n?0:1],fill:"none",opacity:Mg(e,n),cx:a[0],cy:a[1],r:s-o[1]/2})}(n[s.brush],c,i,a);return o.setAttribute("cgHash",l),o}function Pg(e){const t=Rg(jg("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return t.appendChild(Rg(jg("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function Rg(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function Ig(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function Og(e,t){return{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter((e=>e)).join("")}}function Ag(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function Mg(e,t){return(e.opacity||1)*(t?.9:1)}function zg(e,t){const n=Math.min(1,t.width/t.height),r=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*r]}function Lg(e,t){const n=pp("coords",t);let r;for(const a of e)r=pp("coord"),r.textContent=a,n.appendChild(r);return n}function Dg(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const Bg=e=>t=>{e.draggable.current?vg(e):e.drawable.current?ug(e):t.shiftKey||mp(t)?e.drawable.enabled&&sg(e,t):e.viewOnly||(e.dropmode.active?function(e,t){if(!e.dropmode.active)return;Sp(e),Cp(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const r=hp(t),a=r&&Wp(r,Hp(e),e.dom.bounds());a&&Ip(e,"a0",a)}e.dom.redraw()}(e,t):hg(e,t))},Fg=(e,t,n)=>r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)};function Kg(e){const t=Hp(e),n=cp(e.dom.bounds()),r=e.dom.elements.board,a=e.pieces,o=e.animation.current,s=o?o.plan.anims:new Map,i=o?o.plan.fadings:new Map,l=e.draggable.current,c=function(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const o of e.lastMove)Qg(n,o,"last-move");e.check&&e.highlight.check&&Qg(n,e.check,"check");if(e.selected&&(Qg(n,e.selected,"selected"),e.movable.showDests)){const r=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(r)for(const t of r)Qg(n,t,"move-dest"+(e.pieces.has(t)?" oc":""));const a=e.premovable.dests;if(a)for(const t of a)Qg(n,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}const r=e.premovable.current;if(r)for(const o of r)Qg(n,o,"current-premove");else e.predroppable.current&&Qg(n,e.predroppable.current.key,"current-premove");const a=e.exploding;if(a)for(const o of a.keys)Qg(n,o,"exploding"+a.stage);return n}(e),u=new Set,d=new Set,f=new Map,h=new Map;let m,p,g,v,b,y,w,x,k,j;for(p=r.firstChild;p;){if(m=p.cgKey,Wg(p))if(g=a.get(m),b=s.get(m),y=i.get(m),v=p.cgPiece,!p.cgDragging||l&&l.orig===m||(p.classList.remove("dragging"),up(p,n(rp(m),t)),p.cgDragging=!1),!y&&p.cgFading&&(p.cgFading=!1,p.classList.remove("fading")),g){if(b&&p.cgAnimating&&v===Gg(g)){const e=rp(m);e[0]+=b[2],e[1]+=b[3],p.classList.add("anim"),up(p,n(e,t))}else p.cgAnimating&&(p.cgAnimating=!1,p.classList.remove("anim"),up(p,n(rp(m),t)),e.addPieceZIndex&&(p.style.zIndex=Vg(rp(m),t)));v!==Gg(g)||y&&p.cgFading?y&&v===Gg(y)?(p.classList.add("fading"),p.cgFading=!0):$g(f,v,p):u.add(m)}else $g(f,v,p);else if(Hg(p)){const e=p.className;c.get(m)===e?d.add(m):$g(h,e,p)}p=p.nextSibling}for(const[N,E]of c)if(!d.has(N)){k=h.get(E),j=k&&k.pop();const e=n(rp(N),t);if(j)j.cgKey=N,up(j,e);else{const t=pp("square",E);t.cgKey=N,up(t,e),r.insertBefore(t,r.firstChild)}}for(const[N,E]of a)if(b=s.get(N),!u.has(N))if(w=f.get(Gg(E)),x=w&&w.pop(),x){x.cgKey=N,x.cgFading&&(x.classList.remove("fading"),x.cgFading=!1);const r=rp(N);e.addPieceZIndex&&(x.style.zIndex=Vg(r,t)),b&&(x.cgAnimating=!0,x.classList.add("anim"),r[0]+=b[2],r[1]+=b[3]),up(x,n(r,t))}else{const a=Gg(E),o=pp("piece",a),s=rp(N);o.cgPiece=a,o.cgKey=N,b&&(o.cgAnimating=!0,s[0]+=b[2],s[1]+=b[3]),up(o,n(s,t)),e.addPieceZIndex&&(o.style.zIndex=Vg(s,t)),r.appendChild(o)}for(const N of f.values())qg(e,N);for(const N of h.values())qg(e,N)}function Ug(e){var t,n;const r=e.dom.elements.wrap.getBoundingClientRect(),a=e.dom.elements.container,o=r.height/r.width,s=8*Math.floor(r.width*window.devicePixelRatio/8)/window.devicePixelRatio,i=s*o;a.style.width=s+"px",a.style.height=i+"px",e.dom.bounds.clear(),null===(t=e.addDimensionsCssVarsTo)||void 0===t||t.style.setProperty("--cg-width",s+"px"),null===(n=e.addDimensionsCssVarsTo)||void 0===n||n.style.setProperty("--cg-height",i+"px")}const Wg=e=>"PIECE"===e.tagName,Hg=e=>"SQUARE"===e.tagName;function qg(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function Vg(e,t){const n=e[1];return"".concat(t?10-n:3+n)}const Gg=e=>"".concat(e.color," ").concat(e.role);function Qg(e,t,n){const r=e.get(t);r?e.set(t,"".concat(r," ").concat(n)):e.set(t,n)}function $g(e,t,n){const r=e.get(t);r?r.push(n):e.set(t,[n])}function Yg(e,t){const n=e.drawable.autoShapes.filter((e=>e.piece)).map((e=>({shape:e,hash:Jg(e),current:!1})));kg(n,t,(t=>function(e,t,n){let{shape:r,hash:a}=t;var o,s,i;const l=r.orig,c=null===(o=r.piece)||void 0===o?void 0:o.role,u=null===(s=r.piece)||void 0===s?void 0:s.color,d=null===(i=r.piece)||void 0===i?void 0:i.scale,f=pp("piece","".concat(c," ").concat(u));return f.setAttribute("cgHash",a),f.cgKey=l,f.cgScale=d,dp(f,cp(n)(rp(l),Hp(e)),d),f}(e,t,e.dom.bounds())))}const Jg=e=>{var t,n,r;return[e.orig,null===(t=e.piece)||void 0===t?void 0:t.role,null===(n=e.piece)||void 0===n?void 0:n.color,null===(r=e.piece)||void 0===r?void 0:r.scale].join(",")};function Xg(e,t){const n={pieces:Qp(qp),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:op()};function r(){const t="dom"in n?n.dom.unbind:void 0,r=function(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const l of Jm)e.classList.toggle("orientation-"+l,t.orientation===l);e.classList.toggle("manipulable",!t.viewOnly);const n=pp("cg-container");e.appendChild(n);const r=pp("cg-board");let a,o,s,i;if(n.appendChild(r),t.drawable.visible&&(a=Rg(jg("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),a.appendChild(jg("defs")),a.appendChild(jg("g")),o=Rg(jg("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),o.appendChild(jg("g")),s=pp("cg-auto-pieces"),n.appendChild(a),n.appendChild(o),n.appendChild(s)),t.coordinates){const e="black"===t.orientation?" black":"",r="left"===t.ranksPosition?" left":"";n.appendChild(Lg(Zm,"ranks"+e+r)),n.appendChild(Lg(Xm,"files"+e))}return t.draggable.enabled&&t.draggable.showGhost&&(i=pp("piece","ghost"),fp(i,!1),n.appendChild(i)),{board:r,container:n,wrap:e,ghost:i,svg:a,customSvg:o,autoPieces:s}}(e,n),a=function(e){let t;const n=()=>(void 0===t&&(t=e()),t);return n.clear=()=>{t=void 0},n}((()=>r.board.getBoundingClientRect())),o=e=>{Kg(i),r.autoPieces&&Yg(i,r.autoPieces),!e&&r.svg&&Ng(i,r.svg,r.customSvg)},s=()=>{Ug(i),function(e){const t=Hp(e),n=cp(e.dom.bounds());let r=e.dom.elements.board.firstChild;for(;r;)(Wg(r)&&!r.cgAnimating||Hg(r))&&up(r,n(rp(r.cgKey),t)),r=r.nextSibling}(i),r.autoPieces&&function(e){var t;const n=Hp(e),r=cp(e.dom.bounds());let a=null===(t=e.dom.elements.autoPieces)||void 0===t?void 0:t.firstChild;for(;a;)dp(a,r(rp(a.cgKey),n),a.cgScale),a=a.nextSibling}(i)},i=n;return i.dom={elements:r,bounds:a,redraw:Zg(o),redrawNow:o,unbind:t},i.drawable.prevSvgHash="",Ug(i),o(!1),function(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),e.viewOnly)return;const r=Bg(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1}),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",(e=>e.preventDefault()))}(i,s),t||(i.dom.unbind=function(e,t){const n=[];if("ResizeObserver"in window||n.push(Dg(document.body,"chessground.resize",t)),!e.viewOnly){const t=Fg(e,pg,lg),r=Fg(e,gg,cg);for(const e of["touchmove","mousemove"])n.push(Dg(document,e,t));for(const e of["touchend","mouseup"])n.push(Dg(document,e,r));const a=()=>e.dom.bounds.clear();n.push(Dg(document,"scroll",a,{capture:!0,passive:!0})),n.push(Dg(window,"resize",a,{passive:!0}))}return()=>n.forEach((e=>e()))}(i,s)),i.events.insert&&i.events.insert(r),i}return Yp(n,t||{}),xg(r(),r)}function Zg(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame((()=>{e(),t=!1})))}}var ev=function(){return ev=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ev.apply(this,arguments)};const tv=function(e){var t=e.width,n=void 0===t?900:t,r=e.height,a=void 0===r?900:r,o=e.config,s=void 0===o?{}:o,i=e.contained,l=void 0!==i&&i,c=(0,Te.useState)(null),u=c[0],d=c[1],f=(0,Te.useRef)(null);return(0,Te.useEffect)((function(){if(f&&f.current&&!u){var e=Xg(f.current,ev({animation:{enabled:!0,duration:200}},s));d(e)}else f&&f.current&&u&&u.set(s)}),[f]),(0,Te.useEffect)((function(){null===u||void 0===u||u.set(s)}),[u,s]),Te.createElement("div",{style:{height:l?"100%":a,width:l?"100%":n}},Te.createElement("div",{ref:f,style:{height:"100%",width:"100%",display:"table"}}))},nv=e=>{if(0!==e.length)return 1===e.length?e[0]:"both"},rv=e=>{let{game:t,userColor:n,config:r}=e;const[a,o]=(0,Te.useState)(new Map),[s,i]=(0,Te.useState)(null),[l,c]=(0,Te.useState)({});return(0,Te.useEffect)((()=>{console.debug("[Chess] Recalculating valid moves.. ");const e=(e=>{const t=new Map;return Li.forEach((n=>{const r=e.moves({square:n,verbose:!0});r.length&&t.set(n,r.map((e=>e.to)))})),t})(t);console.debug("[Chess] Number of moveable pieces: ".concat(e.size)),o(e);const n=(e=>{const t=e.history({verbose:!0}),n=t.length>0&&t[t.length-1]||null;return n&&[n.from,n.to]||null})(t);console.debug("[Chess] Found last move: ".concat(n)),i(n)}),[t]),(0,Te.useEffect)((()=>{var e;c({fen:t.fen(),turnColor:"b"===t.turn()?"black":"white",viewOnly:0===n.length||t.game_over(),lastMove:s,...r,movable:{color:nv(n),dests:(null===(e=r.movable)||void 0===e?void 0:e.dests)||a,free:!1,...r.movable},premovable:{...r.premovable,enabled:!1},highlight:{lastMove:!0,check:!0,...r.highlight}})}),[t,s,a,r,n]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(tv,{contained:!0,config:l})})};function av(e){let{game:t,userColor:n,onAfterMoveFinished:r}=e;const[a,o]=(0,Te.useState)({}),s=(0,Te.useCallback)(((e,t,n)=>{r((n=>{n.move({from:e,to:t,promotion:"q"})}))}),[r]);return(0,Te.useEffect)((()=>{o({orientation:1===n.length?n[0]:"white",movable:{events:{after:s}},events:{change:()=>{},move:(e,t,n)=>{},dropNewPiece:(e,t)=>{},select:e=>{},insert:e=>{}}})}),[n,s]),(0,sn.jsx)(rv,{game:t,userColor:n,config:a})}function ov(e){let{value:t,onError:n,onSuccess:r,buttonProps:a,children:o}=e;const s=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(qc,{type:"button",...a,onClick:()=>Rs(t,s.current).then(r,n),children:o}),(0,sn.jsx)("input",{readOnly:!0,"aria-hidden":!0,ref:s,value:t,style:{position:"absolute",left:"-9999px",top:"-9999px"}})]})}function sv(e){let{value:t,onSuccess:n,onError:r,children:a,...o}=e;return(0,sn.jsx)(ov,{value:t,onError:r,onSuccess:n,"data-bs-toggle":"tooltip","data-bs-placement":"left",...o,children:a})}function iv(e){let{value:t,onSuccess:n,onError:r,text:a,successText:o=a,successTextTimeout:s=1500,buttonProps:i,...l}=e;const[c,u]=(0,Te.useState)(!1),[d,f]=(0,Te.useState)(0);return(0,Te.useEffect)((()=>{if(d<1)return;u(!0);const e=setTimeout((()=>{u(!1)}),s);return()=>clearTimeout(e)}),[d,s]),(0,sn.jsx)(sv,{buttonProps:i,value:t,onError:r,onSuccess:()=>{f((e=>e+1)),n&&n()},...l,children:c?(0,sn.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:o}):(0,sn.jsx)(sn.Fragment,{children:a})})}const lv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"}))})),cv=(e,t,n)=>{const r=Fs();return r.kind=1,r.pubkey=e,r.created_at=Math.floor(Date.now()/1e3),r.content=t,r.tags=[[zs.e,n]],Ks(r)};function uv(e){let{messages:t,ourPubKey:n,avatar:r,rerenderInterval:a=5e3}=e;const[o,s]=(0,Te.useState)((()=>Date.now()));return(0,Te.useEffect)((()=>{const e=new AbortController,t=setInterval((()=>!e.signal.aborted&&s(Date.now())),a);return()=>{e.abort(),clearTimeout(t)}}),[a]),(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"flex flex-col gap-1",children:t.map(((e,t)=>{const a=!!n&&n===e.pubkey;return(0,sn.jsxs)(Qu,{end:a,children:[r&&(0,sn.jsx)(Qu.Avatar,{className:"w-10 h-10",children:r(e)}),(0,sn.jsx)(Qu.Message,{className:"break-words",color:a?"primary":void 0,children:e.content}),(0,sn.jsx)(Qu.Footer,{children:(0,sn.jsx)(Qu.Time,{children:As(1e3*e.created_at)})})]},t)}))})})}function dv(e){let{value:t,onChange:n,onSubmit:r,disabled:a=!1}=e;const o=(0,Te.useRef)(null);return(0,sn.jsx)(Bf,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),r(t)},children:(0,sn.jsxs)("div",{className:"flex  gap-1",children:[(0,sn.jsx)("div",{className:"grow form-control",children:(0,sn.jsx)(Wf,{type:"text",value:t||"",maxLength:256,onChange:e=>n(e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=o.current)||void 0===t||t.click())},disabled:a})}),(0,sn.jsx)("div",{className:"flex-none ml-1",children:(0,sn.jsx)(qc,{type:"submit",ref:o,title:"Send",className:"flex gap-1",color:"neutral",disabled:a,children:(0,sn.jsx)(lv,{title:"Send",className:"w-6 h-6"})})})]})})}function fv(e){let{title:t,value:n,onClick:r,children:a,...o}=e;return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(qc,{title:t,onClick:e=>r(n),...o,type:"button",className:"flex gap-1",children:a})})}function hv(e){let{gameId:t,player1PubKey:n,player2PubKey:r,privKey:a,avatar:o,ourPubKey:s,gameOver:i=!1}=e;const l=(0,Te.useRef)(null),c=ti(),u=kl(),[d,f]=(0,Te.useState)(),[h,m]=(0,Te.useState)(!1),p=Nl((async()=>{if(!t)return[];return(await u.game_chat.where("gameId").equals(t).sortBy("created_at")).filter((e=>[n,r].includes(e.pubkey)))}),[t,n,r],[]);(0,Te.useEffect)((()=>{const e=new AbortController,t=setTimeout((()=>{!e.signal.aborted&&l.current&&Ms(l.current,{behavior:"auto"})}),21);return()=>{e.abort(),clearTimeout(t)}}),[p.length,h]);const g=(0,Te.useMemo)((()=>s&&[n,r].includes(s)),[s,n,r]),v=async e=>{if(!h&&e)return m(!0),(async e=>{if(a&&s){if(!c)throw new Error("Nostr EventBus not ready..");return await new Promise((function(n,r){setTimeout((()=>{try{const r=cv(s,e,t),o=qs(r,a);c.emit(Ls.EVENT,Ds(o)),n(o)}catch(jn){r(jn)}}),4)}))}})(e).finally((()=>{m(!1)}))};return(0,sn.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,sn.jsx)("div",{className:"flex px-1",children:(0,sn.jsx)("small",{children:"Chat with your opponent!"})}),(0,sn.jsx)("div",{className:"h-96 grow overflow-y-auto pr-4",ref:l,children:(0,sn.jsx)(uv,{ourPubKey:s,messages:p,avatar:o})}),g&&(0,sn.jsx)(dv,{value:d,onChange:f,onSubmit:async e=>e&&v(e.trim()).then((()=>{f(void 0)})),disabled:!a}),g&&(0,sn.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,sn.jsx)(fv,{size:"sm",title:"GM!",value:"GM!",onClick:e=>v(e),disabled:h,children:"GM"}),i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(fv,{size:"sm",title:"Good game!",value:"Good game!",onClick:e=>v(e),disabled:h,children:"GG"}),(0,sn.jsx)(fv,{size:"sm",title:"Well played!",value:"Well played!",onClick:e=>v(e),disabled:h,children:"WP"}),(0,sn.jsx)(fv,{size:"sm",title:"Thank you!",value:"Thank you!",onClick:e=>v(e),disabled:h,children:"TY"}),(0,sn.jsx)(fv,{size:"sm",title:"I've got to go!",value:"I've got to go!",onClick:e=>v(e),disabled:h,children:"GTG"}),(0,sn.jsx)(fv,{size:"sm",title:"Goodbye!",value:"Goodbye!",onClick:e=>v(e),disabled:h,children:"BYE"})]}):(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(fv,{size:"sm",title:"Nice move!",value:"Nice move!",onClick:e=>v(e),disabled:h,children:"NM"})})]})]})}const mv=e=>{const[t,n]=(0,Te.useState)(0),[r,a]=(0,Te.useState)(0);return(0,Te.useEffect)((()=>{if(!e.current)return;n(e.current.offsetWidth),a(e.current.offsetHeight);const t=new AbortController;return window.addEventListener("resize",(()=>{e.current&&(n(e.current.offsetWidth),a(e.current.offsetHeight))}),{signal:t.signal}),()=>t.abort()}),[e]),{width:t,height:r}},pv=[],gv=["white"],vv=["black"],bv=750,yv=5e3,wv=(e,t)=>e.game_over()?1!==t.length?e.in_draw()?"Draw":"Game Over":e.in_draw()?"\ud83d\udcaa Draw":t[0].charAt(0)===e.turn()?"\ud83d\udc80 Game Over":"\ud83c\udfc6 Game Over":1!==t.length?"".concat("w"===e.turn()?"\u2658 White":"\u265e Black"," to move"):t[0].charAt(0)===e.turn()?"\ud83d\udc4b Your turn":"\ud83d\udca4 Waiting for opponent",xv=(e,t)=>e.game_over()?e.in_draw()?"Draw":"Game Over":1!==t.length?"".concat("w"===e.turn()?"White":"Black"," to move"):t[0].charAt(0)===e.turn()?"Your turn":"Waiting for opponent";function kv(e){let{size:t,game:n,color:r,onGameChanged:a}=e;const o=(0,Te.useCallback)((e=>{console.debug("[Chess] updateGameCallback invoked");const t={...n};e(t),a(t)}),[n,a]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{style:{width:t,height:t},children:(0,sn.jsx)(av,{game:n,userColor:r,onAfterMoveFinished:o})}),!1]})}const jv=e=>{let{value:t}=e;return(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,sn.jsx)("div",{className:"grow form-control",children:(0,sn.jsx)(Wf,{type:"text",value:t,placeholder:"Link to Game",readOnly:!0})}),(0,sn.jsx)(iv,{value:t,text:"Copy",successText:"Copied",disabled:!t})]}),(0,sn.jsx)("div",{className:"flex justify-center my-1",children:(0,sn.jsx)("small",{className:"text-secondary",children:"Share this link with anyone to join in!"})})]})},Nv=e=>{let{game:t}=e;return t.game_over()?t.in_stalemate()?(0,sn.jsx)(sn.Fragment,{children:"Stalemate"}):t.in_threefold_repetition()?(0,sn.jsx)(sn.Fragment,{children:"Threefold repetition"}):t.insufficient_material()?(0,sn.jsx)(sn.Fragment,{children:"Insufficient material"}):t.in_draw()?(0,sn.jsx)(sn.Fragment,{children:"Draw"}):(0,sn.jsx)(sn.Fragment,{children:"".concat("b"===t.turn()?"White":"Black"," won")}):(0,sn.jsx)(sn.Fragment,{})},Ev=e=>{let{color:t}=e;return(0,sn.jsx)("div",{children:(0,sn.jsx)("h6",{className:"text-sm font-bold mt-0 mb-0",children:"You are ".concat(0===t.length?"in watch-only mode":t)})})},Sv=e=>{let{isLoading:t,game:n,color:r}=e;return(0,sn.jsx)("div",{children:(0,sn.jsxs)("h6",{className:"lg:text-2xl font-bold mt-0 mb-0",children:[t&&null===n&&"Loading...",t&&null!==n&&"Loading...",!t&&null!==n&&xv(n,r),!t&&null===n&&"..."]})})};function Cv(e){let{disabled:t,vertical:n=!1}=e;const r=(0,Te.useMemo)((()=>n?"right":"top"),[n]),a=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Af,{message:"Propose a takeback",position:r,children:(0,sn.jsx)(qc,{shape:"circle",color:"ghost",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.showModal()},disabled:t,children:(0,sn.jsx)(Qm,{className:"w-6 h-6"})})}),(0,sn.jsxs)(mu,{ref:a,backdrop:!0,children:[(0,sn.jsx)(qc,{size:"sm",shape:"circle",className:"absolute right-2 top-2",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.close()},children:"\u2715"}),(0,sn.jsx)(mu.Header,{className:"font-bold",children:"Propose a takeback"}),(0,sn.jsx)(mu.Body,{children:"Proposing to take back your move is not yet implemented."})]})]})}function _v(e){let{disabled:t,vertical:n=!1}=e;const r=(0,Te.useMemo)((()=>n?"right":"top"),[n]),a=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Af,{message:"Resign",position:r,children:(0,sn.jsx)(qc,{shape:"circle",color:"ghost",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.showModal()},disabled:t,children:(0,sn.jsx)($m,{className:"w-6 h-6"})})}),(0,sn.jsxs)(mu,{ref:a,backdrop:!0,children:[(0,sn.jsx)(qc,{size:"sm",shape:"circle",className:"absolute right-2 top-2",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.close()},children:"\u2715"}),(0,sn.jsx)(mu.Header,{className:"font-bold",children:"Resign"}),(0,sn.jsx)(mu.Body,{children:"Don't resign! It is not yet implemented, keep playing!"})]})]})}function Tv(e){let{disabled:t,vertical:n=!1}=e;const r=(0,Te.useMemo)((()=>n?"right":"top"),[n]),a=(0,Te.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Af,{message:"Offer draw",position:r,children:(0,sn.jsx)(qc,{shape:"circle",color:"ghost",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.showModal()},disabled:t,children:(0,sn.jsx)(Ym,{className:"w-6 h-6"})})}),(0,sn.jsxs)(mu,{ref:a,backdrop:!0,children:[(0,sn.jsx)(qc,{size:"sm",shape:"circle",className:"absolute right-2 top-2",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.close()},children:"\u2715"}),(0,sn.jsx)(mu.Header,{className:"font-bold",children:"Offer draw"}),(0,sn.jsx)(mu.Body,{children:"Offering a draw is not yet impelemented."})]})]})}const Pv=e=>{let{color:t,size:n}=e;const[r]=(0,Te.useState)(new Bi),a=(0,Te.useCallback)((()=>{}),[]);return(0,sn.jsx)("div",{style:{filter:"grayscale()"},children:(0,sn.jsx)(kv,{game:r,color:t,onGameChanged:a,size:n})})};function Rv(e){let{game:t,color:n,isLoading:r,isSearchingHead:a,onChessboardChanged:o}=e;const s=(0,Te.useRef)(null),{width:i}=mv(s),[l,c]=(0,Te.useState)(0);return(0,Te.useLayoutEffect)((()=>{const e=Math.min(620,Math.max(240,i));c(e)}),[i]),(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{ref:s,className:"board-size-ref",style:{height:0,visibility:"hidden"}}),(0,sn.jsxs)("div",{className:"flex justify-center",children:[(r||!r&&null===t)&&(0,sn.jsx)(Pv,{color:1===n.length?n:gv,size:l}),null!==t&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{style:{display:r?"none":"block"},children:[(0,sn.jsx)("div",{style:{display:a?"block":"none"},children:(0,sn.jsx)(Pv,{color:1===n.length?n:gv,size:l})}),(0,sn.jsx)("div",{style:{display:a?"none":"block"},children:(0,sn.jsx)(kv,{game:t,color:n,size:l,onGameChanged:o})})]})})]})]})}function Iv(e){let{isLoading:t,isSearchingHead:n,vertical:r=!1}=e;return(0,sn.jsxs)("div",{className:r?"grid grid-cols-1":"flex",children:[(0,sn.jsx)("div",{children:(0,sn.jsx)(Cv,{disabled:t||n,vertical:r})}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Tv,{disabled:t||n,vertical:r})}),(0,sn.jsx)("div",{children:(0,sn.jsx)(_v,{disabled:t||n,vertical:r})})]})}function Ov(e){var t;let{RookrId:n}=e;const{RookrId:r}=Ct(),[a]=(0,Te.useState)(bl(n)||bl(r)||void 0),[o]=(0,Te.useState)(a&&vl(a)||void 0),s=(0,Te.useMemo)((()=>o&&zl(o)),[o]),i=ti(),l=fn(),c=hn(),u=kl(),d=vm({transform:_s}),[f,h]=(0,Te.useState)(null),[m,p]=(0,Te.useState)(null),[g,v]=(0,Te.useState)(pv),[b,y]=(0,Te.useState)(!0),w=(0,Te.useMemo)((()=>f&&f.game_over()),[f]),[x,k]=(0,Te.useState)(!0),j=(0,Te.useMemo)((()=>{var e;return(null===(e=l.identity)||void 0===e?void 0:e.pubkey)||null}),[l]),N=(null===(t=Wl())||void 0===t?void 0:t.privateKey)||null;(0,Te.useEffect)((()=>{if(!s)return;let e=f&&!b?"".concat(wv(f,g)," \u2013 "):"";d("".concat(e,"Game ").concat(s))}),[d,b,s,g,f]);const E=(0,Te.useCallback)((()=>{c({currentGameRookrId:void 0})}),[c]),S=(0,Te.useCallback)((()=>{a&&c({currentGameRookrId:a})}),[a,c]);(0,Te.useEffect)((()=>(S(),()=>{})),[S]);const C=Nl((async()=>{if(o)return await u.game_start.get(o)}),[o]),_=(0,Te.useMemo)((()=>C?new il(C):null),[C]),T=Nl((async()=>{if(!o)return[];return await u.game_move.where("gameId").equals(o).sortBy("moveCounter")}),[o],[]),P=(0,Te.useMemo)((()=>null===C||void 0===C?void 0:C.pubkey),[C]),R=Nl((async()=>{if(!C)return;const e=await u.game_move.where("[gameId+moveCounter]").equals([C.id,2]).first();return e&&e.pubkey||void 0}),[C]),I=(0,Te.useMemo)((()=>P&&Dl(P)),[P]),O=(0,Te.useMemo)((()=>R&&Dl(R)),[R]),A=async e=>{if(!i)throw new Error("Nostr EventBus not ready..");if(!j)throw new Error("PubKey not available..");if(!N)throw new Error("PrivKey not available..");if(!_||!m)throw new Error("Game head not available..");const t=j,n=N,r=_.event().id,a=m.event().id;return await new Promise((function(o,s){setTimeout((()=>{try{const s=hl(t,r,a,e),l=qs(s,n);i.emit(Ls.EVENT,Ds(l)),o(l)}catch(jn){s(jn)}}),1)}))};(0,Te.useEffect)((()=>{v((e=>{if(null!==N&&null!==j){if(j===P)return gv;if(void 0===R||j===R)return vv}return pv}))}),[N,j,P,R]),(0,Te.useEffect)((()=>{p(_)}),[_]),(0,Te.useEffect)((()=>{h((e=>{if(!m)return null;if(b&&null!==e)return e;const t=new Bi;if(b)return t;if(m.isStart())return t;{const e=m.pgn();if(!t.load_pgn(e))throw new Error("Cannot load new game state from pgn: ".concat(e));return console.info("loaded new game state from pgn",e),t}}))}),[b,m]);const M=(0,Te.useCallback)(((e,t)=>{const n=e.isStart()?null:e.event().id;return t.filter((e=>e.parentMoveId===n))}),[]),z=(0,Te.useCallback)(((e,t)=>{const n=M(e,t);if(0===n.length)return e;{n.sort(((e,t)=>t.created_at-e.created_at));const t=n[n.length-1];try{return new ll(t,e)}catch(r){return console.error(r,t.content,e.content()),e}}}),[M]);return(0,Te.useEffect)((()=>{if(!_)return;if(!m)return;console.debug("Start gathering events referencing current head event ".concat(m.event().id));const e=z(m,T);p(e);const t=M(e,T),n=t.length>0;y(n),n?console.debug("Search for head continues. Found ".concat(t.length," event(s) referencing the current head...")):console.debug("Search for head is over, current head is at the top and has no children.")}),[_,T,m,z,M]),(0,Te.useEffect)((()=>{const e=new AbortController,t=setTimeout((()=>!e.signal.aborted&&k(!1)),_?bv:yv);return()=>{e.abort(),clearTimeout(t)}}),[_]),o?x||null!==f?(0,sn.jsxs)("div",{className:"screen-game-by-id",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-2 min-w-xs max-w-lg lg:max-w-6xl",children:[(0,sn.jsx)("div",{className:"order-1",children:(0,sn.jsx)("div",{className:"lg:hidden",children:!x&&null!==f&&(0,sn.jsx)(sn.Fragment,{children:!b&&w?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"mb-2 flex justify-between items-center",children:[(0,sn.jsx)("div",{className:"text-2xl font-bold mt-0 mb-0",children:(0,sn.jsx)(Nv,{game:f})}),(0,sn.jsx)("div",{className:"ml-4",children:(0,sn.jsx)(Fm,{hasPrivateKey:!!N})})]})}):(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("div",{className:"flex justify-center items-center",children:!x&&null!==f&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Ev,{color:g})})}),(null===N||null===j)&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Km,{hasPublicKey:!!j})})]})})})}),(0,sn.jsx)("div",{className:"order-2"}),(0,sn.jsx)("div",{className:"order-3",children:(0,sn.jsxs)("div",{className:"grid grid-cols-1",children:[(0,sn.jsx)("div",{className:"lg:hidden ".concat(g===vv?"mb-2 order-1":"mt-2 order-3"),children:(0,sn.jsxs)("div",{className:"h-10 flex items-center",children:[P?(0,sn.jsx)(_m,{className:"w-8 h-8 rounded-full shadow-lg-gray bg-base-300",value:P,alt:I}):(0,sn.jsx)(Pm,{size:8}),(0,sn.jsxs)("h6",{className:"mt-0 ml-2 text-xl font-bold leading-normal",children:["White ",P&&P===j&&(0,sn.jsx)("span",{className:"text-sm",children:"(you)"})]}),(0,sn.jsx)("div",{className:"flex-1"}),(0,sn.jsx)("div",{className:"flex justify-center items-center",children:N&&j&&j===P&&!1===w&&(0,sn.jsx)(Iv,{isLoading:x,isSearchingHead:b})}),g===vv&&(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)(Sv,{isLoading:x||b,game:f,color:g})})]})}),(0,sn.jsx)("div",{className:"order-2",style:{filter:l.currentGameRookrId!==a||!0===w?"brightness(0.75)":void 0},children:(0,sn.jsx)(Rv,{isLoading:x,isSearchingHead:b,game:f,color:g,onChessboardChanged:async e=>{if(f)try{await A(e)}catch(jn){console.error(jn)}}})}),(0,sn.jsx)("div",{className:"lg:hidden ".concat(g!==vv?"mb-2 order-1":"mt-2 order-3"),children:(0,sn.jsxs)("div",{className:"h-10 flex items-center",children:[R?(0,sn.jsx)(_m,{className:"w-8 h-8 rounded-full shadow-lg-gray bg-base-300",value:R,alt:O}):(0,sn.jsx)(Pm,{size:8}),(0,sn.jsxs)("h6",{className:"mt-0 ml-2 text-xl font-bold leading-normal",children:["Black ",R&&R===j&&(0,sn.jsx)("span",{className:"text-sm",children:"(you)"})]}),(0,sn.jsx)("div",{className:"flex-1"}),(0,sn.jsx)("div",{className:"flex justify-center items-center",children:N&&j&&j===R&&!1===w&&(0,sn.jsx)(Iv,{isLoading:x,isSearchingHead:b})}),g!==vv&&(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)(Sv,{isLoading:x||b,game:f,color:g})})]})})]})}),(0,sn.jsx)("div",{className:"order-4 lg:order-5",children:null!==f&&(0,sn.jsx)("div",{className:"mt-4 my-2",children:(0,sn.jsx)(jv,{value:window.location.href})})}),(0,sn.jsxs)("div",{className:"ml-4 hidden order-5 lg:grid lg:order-4 grid-cols-1 h-full content-between",children:[(0,sn.jsx)("div",{className:"flex ".concat(g===vv?"order-1":"order-3"),children:(0,sn.jsxs)("div",{className:"grid grid-cols-1",children:[(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)("h6",{className:"text-xl font-bold leading-normal mt-0",children:"White"})}),(0,sn.jsx)("div",{className:"flex justify-center",children:P?(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:P,alt:I}):(0,sn.jsx)(Pm,{size:24})}),P&&P===j&&(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)("span",{className:"text-sm font-bold",children:"(you)"})})]})}),(0,sn.jsxs)("div",{className:"order-2 ml-6",children:[(0,sn.jsxs)("div",{className:"flex justify-start items-center gap-4",children:[N&&j&&(j===P||j===R)&&!1===w&&(0,sn.jsx)(Iv,{isLoading:x,isSearchingHead:b,vertical:!0}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Sv,{isLoading:x||b,game:f,color:g}),!x&&null!==f&&(0,sn.jsx)(Ev,{color:g}),(null===N||null===j)&&(0,sn.jsx)(Km,{hasPublicKey:!!j})]})]}),(0,sn.jsx)("div",{children:!x&&null!==f&&(0,sn.jsx)(sn.Fragment,{children:!b&&w?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"text-2xl font-bold mt-0 mb-0",children:(0,sn.jsx)(Nv,{game:f})}),(0,sn.jsx)("div",{className:"my-2",children:null!==N&&null!==j&&(0,sn.jsx)(Fm,{hasPrivateKey:!0})})]}):(0,sn.jsx)(sn.Fragment,{})})})]}),(0,sn.jsx)("div",{className:"flex items-center ".concat(g===vv?"order-3":"order-1"),children:(0,sn.jsxs)("div",{className:"grid grid-cols-1",children:[(0,sn.jsx)("div",{className:"flex justify-center",children:R?(0,sn.jsx)(_m,{className:"w-24 h-24 rounded-full shadow-lg-gray bg-base-300",value:R,alt:O}):(0,sn.jsx)(Pm,{size:24})}),(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)("h6",{className:"text-xl font-bold leading-normal mt-0",children:"Black"})}),R&&R===j&&(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)("span",{className:"text-sm font-bold",children:"(you)"})})]})})]})]}),_&&(0,sn.jsx)("div",{className:"bg-base-300 mt-4 my-2 p-2 rounded-box",children:(0,sn.jsx)(hv,{gameId:_.event().id,player1PubKey:P,player2PubKey:R,privKey:N||void 0,ourPubKey:j||void 0,avatar:e=>(0,sn.jsx)(_m,{value:e.pubkey,className:"bg-base-100 rounded-full shadow-lg-gray"}),gameOver:!!w})}),l.dev&&(0,sn.jsxs)("div",{className:"my-4",children:[(0,sn.jsx)("div",{className:"mb-4",children:l.currentGameRookrId===a?(0,sn.jsx)(qc,{color:"warning",variant:"outline",onClick:()=>E(),children:"Unsubscribe"}):(0,sn.jsx)(qc,{color:"warning",variant:"outline",onClick:()=>S(),children:"Subscribe"})}),(0,sn.jsx)("div",{children:(0,sn.jsxs)("pre",{className:"py-4",style:{overflowX:"scroll"},children:[(0,sn.jsx)("div",{children:"RookrId: ".concat(a)}),(0,sn.jsx)("div",{children:"gameId: ".concat(o)}),(0,sn.jsx)("div",{children:"currentHead.event.id: ".concat(null===m||void 0===m?void 0:m.event().id)}),(0,sn.jsx)("div",{children:"currentGameStart.isStart: ".concat(null===_||void 0===_?void 0:_.isStart())}),(0,sn.jsx)("div",{children:"isLoading: ".concat(x)}),(0,sn.jsx)("div",{children:"isSearchingHead: ".concat(b)}),(0,sn.jsx)("div",{children:"Moves: ".concat(T.length)})]})})]})]}):(0,sn.jsx)("div",{className:"mb-4",children:(0,sn.jsxs)("div",{className:"flex justify-between items-center mx-1",children:[(0,sn.jsx)("div",{className:"text-2xl font-bold mt-0 mb-0",children:"Game not found..."}),(0,sn.jsx)("div",{className:"mx-4",children:(0,sn.jsx)(Fm,{hasPrivateKey:!!N,hasPublicKey:!!j})})]})}):(0,sn.jsx)("div",{children:"Error: GameId not present"})}const Av={"Rookr-id":"RookrId_Rookr-id__Il2UI"};function Mv(e){let{RookrId:t}=e;return(0,sn.jsx)("code",{className:Av["Rookr-id"],children:t})}const zv=e=>{const[t,n]=(0,Te.useState)("");return(0,sn.jsx)(Bf,{noValidate:!0,onSubmit:n=>{n.preventDefault(),n.stopPropagation(),e.onSearchButtonClicked(t)},children:(0,sn.jsxs)("div",{className:"flex pb-2",children:[(0,sn.jsx)("div",{className:"grow form-control",children:(0,sn.jsx)(Wf,{type:"text",size:"lg",value:t,onChange:t=>{const r=t.target.value;n(r),e.onSearchInputChange&&e.onSearchInputChange(r)},placeholder:"Rookr1...",color:e.error?"error":void 0})}),(0,sn.jsx)("div",{className:"flex-none ml-1",children:(0,sn.jsx)(qc,{type:"submit",size:"lg",children:"Search"})})]})})};function Lv(){vm({text:"Search"});const e=fn(),t=Et(),n=Zs(),r=kl(),[a,o]=(0,Te.useState)(null),[s,i]=(0,Te.useState)(null),[l,c]=(0,Te.useState)(null),u=(0,Te.useMemo)((()=>e.currentGameRookrId),[e]),[d,f]=(0,Te.useState)(u||Qi);(0,Te.useEffect)((()=>{if(u)return void f(u);const e=new AbortController;return r.game_start.toCollection().reverse().first().then((t=>{e.signal.aborted||f(t?gl(t.id):Qi)})).catch((t=>{e.signal.aborted||(console.warn("Could not use example RookrId from db"),f(Qi))})),()=>e.abort()}),[u,r]);return(0,sn.jsx)("div",{className:"screen-search",children:(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)("div",{className:"w-full grid grid-cols-1 lg:w-8/12",children:n?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"w-full mt-16 grid grid-cols-1",children:[(0,sn.jsx)("div",{className:"flex justify-center",children:(0,sn.jsx)(Jh,{children:"Search"})}),(0,sn.jsxs)("div",{className:"my-1",children:[(0,sn.jsxs)("small",{children:["Search for games, ",(0,sn.jsx)("span",{style:{textDecoration:"line-through"},children:"players and other stuff."})]}),(0,sn.jsx)("small",{className:"text-secondary",children:" not quite yet... Coming soon!"})]}),(0,sn.jsx)(zv,{onSearchButtonClicked:e=>{if(i(!1),c(!1),o(null),!e)return void o([]);const n=e.indexOf(al+"1");if(n<0)return void o([]);const r=e.substring(n);i(r.length>Qi.length-10&&r.length<Qi.length+10);const a=bl(r);if(null===a)return console.warn("Could not parse RookrId from search input value"),void o([]);i(!0),c(!0),o(null),t("/redirect/game/".concat(a),{replace:!0})},onSearchInputChange:()=>{i(null),c(null),o(null)},error:!1===l||void 0,success:!0===l||void 0}),(0,sn.jsx)("div",{className:"pb-2 grow my-4",children:0===(null===a||void 0===a?void 0:a.length)&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(em,{children:"No results found. "}),s?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(tm,{children:"Damn... there must be a typo somewhere... : ("}),(0,sn.jsxs)("p",{children:["It kind of looks like a"," ",(0,sn.jsx)("code",{className:"mx-1 p-1 text-xs font-semibold border border-base-content/20 hover:border-base-content/40 rounded",children:"RookrId"}),", but it contains errors."]}),(0,sn.jsx)("p",{children:"If you got this ID from another player, please verify the value and try again."})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("p",{children:"Are you sure this is a valid game id?"}),(0,sn.jsx)("p",{children:(0,sn.jsx)("small",{children:"e.g. a game id looks like this:"})}),(0,sn.jsx)("p",{children:(0,sn.jsx)("code",{className:"text-xs font-semibold px-2.5 py-1 rounded",children:(0,sn.jsx)(Mv,{RookrId:d})})})]})]})})]})}):(0,sn.jsx)(lm,{})})})})}const Dv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"}))}));const Bv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}));const Fv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"}))}));const Kv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))}));const Uv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"}))}));function Wv(e){let{title:t,children:n}=e;const r=fn(),a=(0,Te.useMemo)((()=>{var e;return(null===(e=r.identity)||void 0===e?void 0:e.pubkey)||null}),[r]),o=(0,Te.useMemo)((()=>a&&Dl(a)),[a]);return(0,sn.jsxs)("div",{className:"menu w-80 md:w-80 bg-base-100 h-screen",children:[(0,sn.jsxs)(af,{horizontal:!1,className:"gap-1",children:[(0,sn.jsx)(af.Title,{className:"mb-2",children:(0,sn.jsx)("span",{children:t})}),a&&o&&(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.home,children:[(0,sn.jsx)(_m,{className:"w-6 h-6 rounded-full shadow-sm-gray bg-base-300",value:a,alt:o}),"Profile"]})}),r.currentGameRookrId&&(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.currentGame,children:[(0,sn.jsx)(Dv,{className:"w-6 h-6"}),"Active Game"]})}),(r.currentGameRookrId||a&&o)&&(0,sn.jsx)(oh,{}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:{pathname:im.home},children:[(0,sn.jsx)(Bv,{className:"w-6 h-6"}),"Home"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:{pathname:im.lobby},children:[(0,sn.jsx)(Fv,{className:"w-6 h-6"}),"Lobby"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.search,children:[(0,sn.jsx)(Kv,{className:"w-6 h-6"}),"Search"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.faq,children:[(0,sn.jsx)(Cm,{className:"w-6 h-6"}),"FAQ"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.settings,children:[(0,sn.jsx)(Uv,{className:"w-6 h-6"}),"Settings"]})})]}),(0,sn.jsx)(sn.Fragment,{children:n})]})}function Hv(e){let{title:t}=e;const n=fn();return(0,sn.jsx)(nn,{to:im.home,className:e=>{let{isActive:t}=e;return""},children:(0,sn.jsxs)("div",{className:"grid grid-cols-1 justify-items-center w-24",children:[(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("span",{"data-testid":"navbar-title",children:t}),(0,sn.jsx)("span",{className:"ml-1",children:(0,sn.jsx)(hm,{})}),(0,sn.jsx)("span",{style:{whiteSpace:"nowrap"},className:"bg-gray-100 text-gray-800 text-xs font-semibold ml-1 px-1 py-0.5 rounded",children:"beta"})]}),(0,sn.jsx)("div",{style:{marginLeft:"-1px"},children:n.dev?(0,sn.jsx)("span",{style:{whiteSpace:"nowrap"},className:"bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:"dev mode"}):(0,sn.jsx)("span",{style:{whiteSpace:"nowrap"},className:"bg-gray-100 text-gray-800 text-xs font-semibold px-1 py-0.5 rounded",children:"chess on nostr"})})]})})}function qv(e){let{title:t,toggleSidebar:n}=e;const r=fn(),a=(0,Te.useMemo)((()=>{var e;return(null===(e=r.identity)||void 0===e?void 0:e.pubkey)||null}),[r]),o=(0,Te.useMemo)((()=>a&&Dl(a)),[a]);return(0,sn.jsx)("div",{className:"bg-base-200 text-base-200-content",children:(0,sn.jsxs)(ff,{className:"md:container mx-auto gap-2 mb-6",children:[(0,sn.jsxs)(ff.Start,{className:"ml-2",children:[(0,sn.jsx)("div",{className:"flex-none md:hidden",children:(0,sn.jsx)(qc,{shape:"square",color:"ghost",onClick:n,children:(0,sn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:(0,sn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,sn.jsx)("div",{className:"flex-1 hidden md:block",children:(0,sn.jsx)(Hv,{title:t})})]}),(0,sn.jsx)(ff.Center,{className:"flex-none md:hidden",children:(0,sn.jsx)(Hv,{title:t})}),(0,sn.jsxs)(ff.End,{children:[(0,sn.jsx)("div",{className:"flex-none md:hidden",children:(0,sn.jsx)(af,{horizontal:!0,className:"gap-1",children:r.currentGameRookrId&&(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.currentGame,className:"rounded-lg",title:"Active Game",children:[(0,sn.jsx)(Dv,{className:"w-6 h-6"}),(0,sn.jsx)("span",{className:"hidden",children:"Active Game"})]})})})}),(0,sn.jsx)("div",{className:"flex-none hidden md:block",children:(0,sn.jsxs)(af,{horizontal:!0,className:"gap-1 p-0 items-center",children:[r.currentGameRookrId&&(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.currentGame,className:"rounded-lg",title:"Active Game",children:[(0,sn.jsx)(Dv,{className:"w-6 h-6"}),"Active Game"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.lobby,className:"rounded-lg",title:"Lobby",children:[(0,sn.jsx)(Fv,{className:"w-6 h-6"}),"Lobby"]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.search,className:"rounded-lg",title:"Search",children:[(0,sn.jsx)(Kv,{className:"w-6 h-6"}),(0,sn.jsx)("span",{className:"hidden",children:"Search"})]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.faq,className:"rounded-lg",title:"FAQ",children:[(0,sn.jsx)(Cm,{className:"w-6 h-6"}),(0,sn.jsx)("span",{className:"hidden",children:"FAQ"})]})}),(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(nn,{to:im.settings,className:"rounded-lg",title:"Settings",children:[(0,sn.jsx)(Uv,{className:"w-6 h-6"}),(0,sn.jsx)("span",{className:"hidden",children:"Settings"})]})}),a&&o&&(0,sn.jsx)(af.Item,{children:(0,sn.jsxs)(tn,{to:im.home,className:"p-2 m-0 rounded-lg",title:"Profile",children:[(0,sn.jsx)(_m,{className:"h-8 w-8 rounded-full shadow-sm-gray bg-base-300",value:a,alt:o}),(0,sn.jsx)("span",{className:"hidden",children:"Profile"})]})})]})})]})]})})}const Vv=Te.forwardRef((function(e,t){let{title:n,titleId:r,...a}=e;return Te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?Te.createElement("title",{id:r},n):null,Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}));function Gv(){return(0,sn.jsx)("div",{className:"bg-base-300 text-base-300-content sticky top-[100vh] p-10",children:(0,sn.jsxs)(fh,{className:"md:container mx-auto",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)(fh.Title,{children:"App"}),(0,sn.jsx)(tn,{className:"link link-hover",to:im.search,children:"Search"}),(0,sn.jsx)(tn,{className:"link link-hover",to:im.settings,children:"Settings"}),(0,sn.jsx)(tn,{className:"link link-hover",to:im.faq,children:"FAQ"})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(fh.Title,{children:"Software"}),(0,sn.jsxs)(tn,{className:"flex gap-1 items-center link link-hover",to:"https://github.com/Rookrui/Rookrui",rel:"noopener noreferrer",target:"_blank",children:["GitHub",(0,sn.jsx)(Vv,{className:"h-4 w-4"})]}),(0,sn.jsxs)(tn,{className:"flex gap-1 items-center link link-hover",to:"https://raw.githubusercontent.com/Rookrui/Rookrui/devel/LICENSE",rel:"noopener noreferrer",target:"_blank",children:["License",(0,sn.jsx)(Vv,{className:"h-4 w-4"})]})]}),(0,sn.jsx)("div",{}),(0,sn.jsx)("div",{})]})})}function Qv(e){let{title:t,children:n,drawer:r}=e;const[a,o]=(0,Te.useState)(!1),s=()=>o((e=>!e));return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)(ih,{...r,sideClassName:"z-50",side:(0,sn.jsx)(Wv,{title:t}),end:!1,open:a,onClickOverlay:s,className:"min-h-screen",children:[(0,sn.jsx)(qv,{title:t,toggleSidebar:s}),(0,sn.jsx)("div",{className:"md:container mx-auto",children:(0,sn.jsx)("div",{className:"px-4 pb-32",children:n})}),(0,sn.jsx)(Gv,{})]})})}function $v(){const e=fn(),t=(0,Te.useMemo)((()=>e.currentGameRookrId),[e]);return(0,sn.jsxs)(Dh,{dataTheme:e.theme||"dark",children:[(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Yh,{}),(0,sn.jsx)(dm,{}),e.dev&&(0,sn.jsx)(Fh,{})]}),(0,sn.jsx)("div",{className:"min-w-xs",children:(0,sn.jsx)(Ht,{children:(0,sn.jsxs)(Ut,{element:(0,sn.jsx)(Qv,{title:(0,sn.jsx)("span",{className:"font-bold ",children:"Rookr"}),drawer:{},children:(0,sn.jsx)(Kt,{})}),children:[(0,sn.jsx)(Ut,{path:im.home,element:(0,sn.jsx)(zm,{})}),(0,sn.jsx)(Ut,{path:im.currentGame,element:t?(0,sn.jsx)(Bm,{RookrId:t,replace:!0}):(0,sn.jsx)(cm,{})}),e.dev&&(0,sn.jsx)(Ut,{path:im.__noCurrentGame,element:(0,sn.jsx)(cm,{})}),(0,sn.jsx)(Ut,{path:im.lobby,element:(0,sn.jsx)(Gm,{})}),(0,sn.jsx)(Ut,{path:"/game/:RookrId",element:(0,sn.jsx)(Ov,{})}),(0,sn.jsx)(Ut,{path:"/redirect/game/:RookrId",element:(0,sn.jsx)(Bm,{replace:!0})}),(0,sn.jsx)(Ut,{path:im.search,element:(0,sn.jsx)(Lv,{})}),(0,sn.jsx)(Ut,{path:im.settings,element:(0,sn.jsx)(Nm,{})}),(0,sn.jsx)(Ut,{path:im.login,element:(0,sn.jsx)(Ft,{to:im.settings,replace:!0})}),(0,sn.jsx)(Ut,{path:im.faq,element:(0,sn.jsx)(Dm,{})}),(0,sn.jsx)(Ut,{path:"*",element:(0,sn.jsx)(Ft,{to:im["*"],replace:!0})})]})})})]})}se.hmacSha256Sync=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ye(Ce,e,se.concatBytes(...n))},se.sha256Sync=function(){return Ce(se.concatBytes(...arguments))};Re.createRoot(document.getElementById("root")).render((0,sn.jsx)(Te.StrictMode,{children:(0,sn.jsx)(Xt,{children:(0,sn.jsx)(dn,{value:{defaultValues:{dev:!1,theme:"dark",relays:[],botName:null}},children:(0,sn.jsx)(yn,{value:void 0,children:(0,sn.jsx)(Xs,{value:void 0,children:(0,sn.jsx)(ai,{value:void 0,children:(0,sn.jsx)(xl,{value:void 0,children:(0,sn.jsxs)(ci,{value:void 0,children:[(0,sn.jsx)(Ql,{value:void 0}),(0,sn.jsx)($v,{})]})})})})})})})}))})()})();
//# sourceMappingURL=main.40a73b4e.js.map